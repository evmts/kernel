<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Adding favicon -->
    

    <!-- Adding meta -->
    

    <!-- Adding external script-->
    

    <!-- Adding external style-->
    

    <!-- Adding scripts-->
    

    <!-- Adding style-->
    

    <!-- Adding overlay script-->
    

    <!-- Adding overlay style-->
    


    <title>
      themes/jsdoc/publish.js
    </title>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/third-party/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/third-party/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/reset.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-base.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-dark.css">
    
    <svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    style="display:none">
    <defs>
        <symbol id="copy-icon" viewbox="0 0 488.3 488.3">
            <g>
                <path
                    d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z" />
                <path
                    d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z" />
            </g>
        </symbol>
        <symbol id='search-icon' viewBox="0 0 512 512">
            <g>
                <g>
                    <path
                        d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z" />
                </g>
            </g>
            <g>
                <g>
                    <path
                        d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z" />
                </g>
            </g>
        </symbol>
        <symbol id="down-icon" viewBox="0 0 16 16">
            <path 
                fill-rule="evenodd" 
                clip-rule="evenodd" 
                d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"
            >
            </path>
        </symbol>
    </defs>
</svg>
  </head>

  <body>

    <nav class="navbar" id="navbar">
      <div class="navbar-heading" id="navbar-heading"><a href="index.html"><h2 class="navbar-heading-text">Web3os Kernel</h2></a></div><div class="search-box" id="search-box"><div class="search-box-input-container"><input class="search-box-input" type="text" placeholder="Search..." id="search-box-input" /><svg class="search-icon" alt="search-icon"><use xlink:href="#search-icon"></use></svg></div><div class="search-item-container" id="search-item-container"><ul class="search-item-ul" id="search-item-ul"></ul></div></div><div class="sidebar-main-content" id="sidebar-main-content"><div class="accordion collapsed" id="604853" > <h3 class="accordion-heading">Modules<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="module-_loader.html">_loader</a></li></ul> </div><div class="accordion collapsed" id="5217977" > <h3 class="accordion-heading">Classes<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion collapsed child" id=4388776><div class="accordion-heading child"><a href="Web3osTerminal.html">Web3osTerminal</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Web3osTerminal.html#interruptHandler">interruptHandler</a></li><li data-type='method'><a href="Web3osTerminal.html#isPrintable">isPrintable</a></li><li data-type='method'><a href="Web3osTerminal.html#keyHandler">keyHandler</a></li><li data-type='method'><a href="Web3osTerminal.html#listen">listen</a></li><li data-type='method'><a href="Web3osTerminal.html#log">log</a></li><li data-type='method'><a href="Web3osTerminal.html#paste">paste</a></li><li data-type='method'><a href="Web3osTerminal.html#prompt">prompt</a></li><li data-type='method'><a href="Web3osTerminal.html#promptCompile">promptCompile</a></li></ul></li></ul> </div><div class="accordion collapsed" id="8789689" > <h3 class="accordion-heading">Global<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="global.html#buildNav">buildNav</a></li><li class="accordion-list" id=""><a href="global.html#builtinModules">builtinModules</a></li><li class="accordion-list" id=""><a href="global.html#copy">copy</a></li><li class="accordion-list" id=""><a href="global.html#deleteKey">deleteKey</a></li><li class="accordion-list" id=""><a href="global.html#deleteNamespace">deleteNamespace</a></li><li class="accordion-list" id=""><a href="global.html#dump">dump</a></li><li class="accordion-list" id=""><a href="global.html#e">e</a></li><li class="accordion-list" id=""><a href="global.html#fs">fs</a></li><li class="accordion-list" id=""><a href="global.html#get">get</a></li><li class="accordion-list" id=""><a href="global.html#getAccordionIdsFromLocalStorage">getAccordionIdsFromLocalStorage</a></li><li class="accordion-list" id=""><a href="global.html#loadLocalStorage">loadLocalStorage</a></li><li class="accordion-list" id=""><a href="global.html#log">log</a></li><li class="accordion-list" id=""><a href="global.html#modules">modules</a></li><li class="accordion-list" id=""><a href="global.html#publish">publish</a></li><li class="accordion-list" id=""><a href="global.html#removeAccordionIdFromLocalStorage">removeAccordionIdFromLocalStorage</a></li><li class="accordion-list" id=""><a href="global.html#restore">restore</a></li><li class="accordion-list" id=""><a href="global.html#set">set</a></li><li class="accordion-list" id=""><a href="global.html#setAccordionIdToLocalStorage">setAccordionIdToLocalStorage</a></li><li class="accordion-list" id=""><a href="global.html#showBootIntro">showBootIntro</a></li><li class="accordion-list" id=""><a href="global.html#toggleNavbar">toggleNavbar</a></li><li class="accordion-list" id=""><a href="global.html#updateLocalStorage">updateLocalStorage</a></li><li class="accordion-list" id=""><a href="global.html#utils">utils</a></li><li class="accordion-list" id=""><a href="global.html#windows">windows</a></li></ul> </div>
      

    </nav>
    <div class="navbar-ham" id="navbar-ham">
      <div>
        <div class="first"></div>
        <div class="second"></div>
        <div class="third"></div>
      </div>
    </div>

    <div id="main" class="main-content">
      
      <h1 id='page-title' class="page-title">
        themes/jsdoc/publish.js
      </h1>
      

      



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* global env: true */

var doop = require('jsdoc/util/doop');
var fs = require('jsdoc/fs');
var helper = require('jsdoc/util/templateHelper');
var logger = require('jsdoc/util/logger');
var path = require('jsdoc/path');
var taffy = require('taffydb').taffy;
var template = require('jsdoc/template');
var util = require('util');
var fse = require('fs-extra');

var htmlsafe = helper.htmlsafe;
var linkto = helper.linkto;
var resolveAuthorLinks = helper.resolveAuthorLinks;
var hasOwnProp = Object.prototype.hasOwnProperty;

/* prettier-ignore-start */
// eslint-disable-next-line
var themeOpts = (env &amp;&amp; env.opts &amp;&amp; env.opts['theme_opts']) || {};
/* prettier-ignore-end */

var data;
var view;
var searchListArray = [];
var haveSearch =
    themeOpts.search === undefined ? true : Boolean(themeOpts.search);

// eslint-disable-next-line no-restricted-globals
var outdir = path.normalize(env.opts.destination);

var SECTION_TYPE = {
    Classes: 'Classes',
    Modules: 'Modules',
    Externals: 'Externals',
    Events: 'Events',
    Namespaces: 'Namespaces',
    Mixins: 'Mixins',
    Tutorials: 'Tutorials',
    Interfaces: 'Interfaces',
    Global: 'Global',
    Menu: 'Menu'
};

var defaultSections = [
    SECTION_TYPE.Menu,
    SECTION_TYPE.Modules,
    SECTION_TYPE.Classes,
    SECTION_TYPE.Externals,
    SECTION_TYPE.Events,
    SECTION_TYPE.Namespaces,
    SECTION_TYPE.Mixins,
    SECTION_TYPE.Tutorials,
    SECTION_TYPE.Interfaces,
    SECTION_TYPE.Global
];

function copyStaticFolder() {
    var staticDir = themeOpts.static_dir || undefined;

    if (staticDir) {
        for (var i = 0; i &lt; staticDir.length; i++) {
            var output = path.join(outdir, staticDir[i]);

            fse.copySync(staticDir[i], output);
        }
    }
}

copyStaticFolder();

function copyToOutputFolder(filePath) {
    var filePathNormalized = path.normalize(filePath);

    fs.copyFileSync(filePathNormalized, outdir);
}

function copyToOutputFolderFromArray(filePathArray) {
    var i = 0;
    var outputList = [];

    if (Array.isArray(filePathArray)) {
        for (; i &lt; filePathArray.length; i++) {
            copyToOutputFolder(filePathArray[i]);
            outputList.push(path.basename(filePathArray[i]));
        }
    }

    return outputList;
}

function find(spec) {
    return helper.find(data, spec);
}

function tutoriallink(tutorial) {
    return helper.toTutorial(tutorial, null, {
        tag: 'em',
        classname: 'disabled',
        prefix: 'Tutorial: '
    });
}

function getAncestorLinks(doclet) {
    return helper.getAncestorLinks(data, doclet);
}

function hashToLink(doclet, hash) {
    if (!/^(#.+)/.test(hash)) {
        return hash;
    }

    var url = helper.createLink(doclet);

    url = url.replace(/(#.+|$)/, hash);

    return '&lt;a href="' + url + '">' + hash + '&lt;/a>';
}

function needsSignature(doclet) {
    var needsSig = false;

    // function and class definitions always get a signature
    if (doclet.kind === 'function' || doclet.kind === 'class') {
        needsSig = true;
    }
    // typedefs that contain functions get a signature, too
    else if (
        doclet.kind === 'typedef' &amp;&amp;
        doclet.type &amp;&amp;
        doclet.type.names &amp;&amp;
        doclet.type.names.length
    ) {
        for (var i = 0, l = doclet.type.names.length; i &lt; l; i++) {
            if (doclet.type.names[i].toLowerCase() === 'function') {
                needsSig = true;
                break;
            }
        }
    }

    return needsSig;
}

function getSignatureAttributes(item) {
    var attributes = [];

    if (item.optional) {
        attributes.push('opt');
    }

    if (item.nullable === true) {
        attributes.push('nullable');
    } else if (item.nullable === false) {
        attributes.push('non-null');
    }

    return attributes;
}

function updateItemName(item) {
    var attributes = getSignatureAttributes(item);
    var itemName = item.name || '';

    if (item.variable) {
        itemName = '&amp;hellip;' + itemName;
    }

    if (attributes &amp;&amp; attributes.length) {
        itemName = util.format(
            '%s&lt;span class="signature-attributes">%s&lt;/span>',
            itemName,
            attributes.join(', ')
        );
    }

    return itemName;
}

function addParamAttributes(params) {
    return params
        .filter(function(param) {
            return param.name &amp;&amp; param.name.indexOf('.') === -1;
        })
        .map(updateItemName);
}

function buildItemTypeStrings(item) {
    var types = [];

    if (item &amp;&amp; item.type &amp;&amp; item.type.names) {
        item.type.names.forEach(function(name) {
            types.push(linkto(name, htmlsafe(name)));
        });
    }

    return types;
}

function buildAttribsString(attribs) {
    var attribsString = '';

    if (attribs &amp;&amp; attribs.length) {
        attribsString = htmlsafe(util.format('(%s) ', attribs.join(', ')));
    }

    return attribsString;
}

function addNonParamAttributes(items) {
    var types = [];

    items.forEach(function(item) {
        types = types.concat(buildItemTypeStrings(item));
    });

    return types;
}

function addSignatureParams(f) {
    var params = f.params ? addParamAttributes(f.params) : [];

    f.signature = util.format('%s(%s)', f.signature || '', params.join(', '));
}

function addSignatureReturns(f) {
    var attribs = [];
    var attribsString = '';
    var returnTypes = [];
    var returnTypesString = '';

    // jam all the return-type attributes into an array. this could create odd results (for example,
    // if there are both nullable and non-nullable return types), but let's assume that most people
    // who use multiple @return tags aren't using Closure Compiler type annotations, and vice-versa.
    if (f.returns) {
        f.returns.forEach(function(item) {
            helper.getAttribs(item).forEach(function(attrib) {
                if (attribs.indexOf(attrib) === -1) {
                    attribs.push(attrib);
                }
            });
        });

        attribsString = buildAttribsString(attribs);
    }

    if (f.returns) {
        returnTypes = addNonParamAttributes(f.returns);
    }
    if (returnTypes.length) {
        returnTypesString = util.format(
            ' &amp;rarr; %s{%s}',
            attribsString,
            returnTypes.join('|')
        );
    }

    f.signature =
        '&lt;span class="signature">' +
        (f.signature || '') +
        '&lt;/span>' +
        '&lt;span class="type-signature">' +
        returnTypesString +
        '&lt;/span>';
}

function addSignatureTypes(f) {
    var types = f.type ? buildItemTypeStrings(f) : [];

    f.signature =
        (f.signature || '') +
        '&lt;span class="type-signature">' +
        (types.length ? ' :' + types.join('|') : '') +
        '&lt;/span>';
}

function addAttribs(f) {
    var attribs = helper.getAttribs(f);
    var attribsString = buildAttribsString(attribs);

    f.attribs = util.format(
        '&lt;span class="type-signature">%s&lt;/span>',
        attribsString
    );
}

function shortenPaths(files, commonPrefix) {
    Object.keys(files).forEach(function(file) {
        files[file].shortened = files[file].resolved
            .replace(commonPrefix, '')
            // always use forward slashes
            .replace(/\\/g, '/');
    });

    return files;
}

function getPathFromDoclet(doclet) {
    if (!doclet.meta) {
        return null;
    }

    return doclet.meta.path &amp;&amp; doclet.meta.path !== 'null' ?
        path.join(doclet.meta.path, doclet.meta.filename) :
        doclet.meta.filename;
}

function generate(type, title, docs, filename, resolveLinks) {
    resolveLinks = resolveLinks !== false;

    var docData = {
        type: type,
        title: title,
        docs: docs
    };

    var outpath = path.join(outdir, filename),
        html = view.render('container.tmpl', docData);

    if (resolveLinks) {
        html = helper.resolveLinks(html); // turn {@link foo} into &lt;a href="foodoc.html">foo&lt;/a>
    }

    fs.writeFileSync(outpath, html, 'utf8');
}

function generateSourceFiles(sourceFiles, encoding) {
    encoding = encoding || 'utf8';
    Object.keys(sourceFiles).forEach(function(file) {
        var source;
        // links are keyed to the shortened path in each doclet's `meta.shortpath` property
        var sourceOutfile = helper.getUniqueFilename(
            sourceFiles[file].shortened
        );

        helper.registerLink(sourceFiles[file].shortened, sourceOutfile);

        try {
            source = {
                kind: 'source',
                code: helper.htmlsafe(
                    fs.readFileSync(sourceFiles[file].resolved, encoding)
                )
            };
        } catch (e) {
            logger.error(
                'Error while generating source file %s: %s',
                file,
                e.message
            );
        }

        generate(
            'Source',
            sourceFiles[file].shortened,
            [source],
            sourceOutfile,
            false
        );
    });
}

/**
 * Look for classes or functions with the same name as modules (which indicates that the module
 * exports only that class or function), then attach the classes or functions to the `module`
 * property of the appropriate module doclets. The name of each class or function is also updated
 * for display purposes. This function mutates the original arrays.
 *
 * @private
 * @param {Array.&lt;module:jsdoc/doclet.Doclet>} doclets - The array of classes and functions to
 * check.
 * @param {Array.&lt;module:jsdoc/doclet.Doclet>} modules - The array of module doclets to search.
 */
function attachModuleSymbols(doclets, modules) {
    var symbols = {};

    // build a lookup table
    doclets.forEach(function(symbol) {
        symbols[symbol.longname] = symbols[symbol.longname] || [];
        symbols[symbol.longname].push(symbol);
    });

    // eslint-disable-next-line array-callback-return
    return modules.map(function(module) {
        if (symbols[module.longname]) {
            module.modules = symbols[module.longname]
                // Only show symbols that have a description. Make an exception for classes, because
                // we want to show the constructor-signature heading no matter what.
                .filter(function(symbol) {
                    return symbol.description || symbol.kind === 'class';
                })
                .map(function(symbol) {
                    symbol = doop(symbol);

                    if (symbol.kind === 'class' || symbol.kind === 'function') {
                        symbol.name =
                            symbol.name.replace('module:', '(require("') +
                            '"))';
                    }

                    return symbol;
                });
        }
    });
}

function buildMenuNav(menu) {
    if (menu === undefined) {
        return '';
    }

    var m = '&lt;ul>';

    menu.forEach(function(item) {
        // Setting default value for optional parameter
        var c = item.class || '';
        var id = item.id || '';
        var target = item.target || '';

        c += ' menu-link';

        m +=
            '&lt;li class="menu-li">' +
            "&lt;a href='" +
            item.link +
            "' class='" +
            c +
            "' id='" +
            id +
            "' target='" +
            target +
            "'>" +
            item.title +
            '&lt;/a>&lt;/li>';
    });

    m += '&lt;/ul>';

    return m;
}

function buildSearch() {
    var searchHTML =
        '&lt;div class="search-box" id="search-box">' +
        '&lt;div class="search-box-input-container">' +
        '&lt;input class="search-box-input" type="text" placeholder="Search..." id="search-box-input" />' +
        '&lt;svg class="search-icon" alt="search-icon">&lt;use xlink:href="#search-icon">&lt;/use>&lt;/svg>' +
        '&lt;/div>';

    var searchItemContainer =
        '&lt;div class="search-item-container" id="search-item-container">&lt;ul class="search-item-ul" id="search-item-ul">&lt;/ul>&lt;/div>&lt;/div>';

    searchHTML += searchItemContainer;

    return searchHTML;
}

function buildFooter() {
    var footer = themeOpts.footer || '';

    return footer;
}

function getFavicon() {
    var favicon = themeOpts.favicon || undefined;

    return favicon;
}

// function copy
function createDynamicStyleSheet() {
    var styleClass = themeOpts.create_style || undefined;
    /* prettier-ignore-start */

    return styleClass;
}

function createDynamicsScripts() {
    var scripts = themeOpts.add_scripts || undefined;

    return scripts;
}

function returnPathOfScriptScr() {
    var scriptPath = themeOpts.add_script_path || undefined;

    return scriptPath;
}

function returnPathOfStyleSrc() {
    var stylePath = themeOpts.add_style_path || undefined;

    return stylePath;
}

function includeCss() {
    var stylePath = themeOpts.include_css || undefined;

    if (stylePath) {
        stylePath = copyToOutputFolderFromArray(stylePath);
    }

    return stylePath;
}

function resizeable() {
    var resizeOpts = themeOpts.resizeable || {};

    return resizeOpts;
}

function codepen() {
    var codepenOpts = themeOpts.codepen || {};

    return codepenOpts;
}

function overlayScrollbarOptions() {
    var overlayOptions = themeOpts.overlay_scrollbar || undefined;

    if (overlayOptions) {
        return JSON.stringify(overlayOptions);
    }

    return undefined;
}

function includeScript() {
    var scriptPath = themeOpts.include_js || undefined;

    if (scriptPath) {
        scriptPath = copyToOutputFolderFromArray(scriptPath);
    }

    return scriptPath;
}

function getMetaTagData() {
    var meta = themeOpts.meta || undefined;

    return meta;
}

function getTheme() {
    var theme = themeOpts.theme || 'light';
    var baseThemeName = 'clean-jsdoc-theme';
    var themeSrc = `${baseThemeName}-${theme}.css`.trim();

    return themeSrc;
}

function search() {
    var searchOption = themeOpts.search;

    var obj = {
        list: searchListArray,
        options: JSON.stringify(searchOption)
    };

    return obj;
}

function buildMemberNav({
    items,
    itemHeading,
    itemsSeen,
    linktoFn,
    sectionName
}) {
    var nav = '';

    if (items.length) {
        var itemsNav = '';

        items.forEach(function(item) {
            var methods =
                sectionName === SECTION_TYPE.Tutorials ||
                sectionName === SECTION_TYPE.Global ?
                    [] :
                    find({
                        kind: 'function',
                        memberof: item.longname,
                        inherited: {'!is': Boolean(themeOpts.exclude_inherited)}
                    });

            if (!hasOwnProp.call(item, 'longname')) {
                itemsNav += '&lt;li>' + linktoFn('', item.name);
                itemsNav += '&lt;/li>';
            } else if (!hasOwnProp.call(itemsSeen, item.longname)) {
                /**
                 * Only have accordion class name if it have any child.
                 * Otherwise it didn't makes any sense.
                 */
                var accordionClassName = methods.length ?
                    '"accordion collapsed child"' :
                    '"accordion-list"';

                /**
                 * Id give to accordion.
                 */
                var accordionId = methods.length ?
                    Math.floor(Math.random() * 10000000) :
                    '""';

                itemsNav +=
                    '&lt;li class=' +
                    accordionClassName +
                    ' id=' +
                    accordionId +
                    '>';

                var linkTitle = linktoFn(
                    item.longname,
                    item.name.replace(/^module:/, '')
                );

                if (methods.length) {
                    itemsNav +=
                        '&lt;div class="accordion-heading child">' +
                        linkTitle +
                        '&lt;svg>&lt;use xlink:href="#down-icon">&lt;/use>&lt;/svg>' +
                        '&lt;/div>';
                } else {
                    itemsNav += linkTitle;
                }

                if (haveSearch) {
                    searchListArray.push(
                        JSON.stringify({
                            title: item.name,
                            link: linkto(item.longname, item.name)
                        })
                    );
                }

                if (methods.length) {
                    itemsNav += "&lt;ul class='methods accordion-content'>";

                    methods.forEach(function(method) {
                        var name = method.longname.split(method.scope === 'static' ? '.' : '#');
                        var first = name[0];
                        var last = name[1];

                        name = first + ' &amp;rtrif; ' + last;

                        if (haveSearch) {
                            searchListArray.push(
                                JSON.stringify({
                                    title: method.longname,
                                    link: linkto(method.longname, name)
                                })
                            );
                        }
                        itemsNav += "&lt;li data-type='method'>";
                        itemsNav += linkto(method.longname, method.name);
                        itemsNav += '&lt;/li>';
                    });

                    itemsNav += '&lt;/ul>';
                }
                itemsNav += '&lt;/li>';
                itemsSeen[item.longname] = true;
            }
        });

        if (itemsNav !== '') {
            nav +=
                '&lt;div class="accordion collapsed" id="' +
                Math.floor(Math.random() * 10000000) +
                '" > &lt;h3 class="accordion-heading">' +
                itemHeading +
                '&lt;svg>&lt;use xlink:href="#down-icon">&lt;/use>&lt;/svg>' +
                '&lt;/h3>&lt;ul class="accordion-content">' +
                itemsNav +
                '&lt;/ul> &lt;/div>';
        }
    }

    return nav;
}

function linktoTutorial(longName, name) {
    return tutoriallink(name);
}

function linktoExternal(longName, name) {
    return linkto(longName, name.replace(/(^"|"$)/g, ''));
}

/**
 * Create the navigation sidebar.
 * @param {object} members The members that will be used to create the sidebar.
 * @param {array&lt;object>} members.classes
 * @param {array&lt;object>} members.externals
 * @param {array&lt;object>} members.globals
 * @param {array&lt;object>} members.mixins
 * @param {array&lt;object>} members.modules
 * @param {array&lt;object>} members.namespaces
 * @param {array&lt;object>} members.tutorials
 * @param {array&lt;object>} members.events
 * @param {array&lt;object>} members.interfaces
 * @return {string} The HTML for the navigation sidebar.
 */
function buildNav(members) {
    var title = themeOpts.title || 'Home';

    var isHTML = RegExp.prototype.test.bind(/(&lt;([^>]+)>)/i);
    var nav;

    if (!isHTML(title)) {
        nav =
            '&lt;div class="navbar-heading" id="navbar-heading">&lt;a href="index.html">&lt;h2 class="navbar-heading-text">' +
            title +
            '&lt;/h2>&lt;/a>&lt;/div>';
    } else {
        nav = '&lt;h2>&lt;a href="index.html">' + title + '&lt;/a>&lt;/h2>';
    }

    if (haveSearch) {
        nav += buildSearch();
    }
    nav += '&lt;div class="sidebar-main-content" id="sidebar-main-content">';
    var seen = {};
    var seenTutorials = {};
    var seenGlobal = {};

    var menu = themeOpts.menu || undefined;
    var sectionsOrder = themeOpts.sections || defaultSections;

    var sections = {
        [SECTION_TYPE.Menu]: buildMenuNav(menu),

        [SECTION_TYPE.Modules]: buildMemberNav({
            itemHeading: 'Modules',
            items: members.modules,
            itemsSeen: seen,
            linktoFn: linkto,
            sectionName: SECTION_TYPE.Modules
        }),

        [SECTION_TYPE.Classes]: buildMemberNav({
            itemHeading: 'Classes',
            items: members.classes,
            itemsSeen: seen,
            linktoFn: linkto,
            sectionName: SECTION_TYPE.Classes
        }),

        [SECTION_TYPE.Externals]: buildMemberNav({
            itemHeading: 'Externals',
            items: members.externals,
            itemsSeen: seen,
            linktoFn: linktoExternal,
            sectionName: SECTION_TYPE.Externals
        }),

        [SECTION_TYPE.Events]: buildMemberNav({
            itemHeading: 'Events',
            items: members.events,
            itemsSeen: seen,
            linktoFn: linkto,
            sectionName: SECTION_TYPE.Events
        }),

        [SECTION_TYPE.Namespaces]: buildMemberNav({
            itemHeading: 'Namespaces',
            items: members.namespaces,
            itemsSeen: seen,
            linktoFn: linkto,
            sectionName: SECTION_TYPE.Namespaces
        }),

        [SECTION_TYPE.Mixins]: buildMemberNav({
            itemHeading: 'Mixins',
            items: members.mixins,
            itemsSeen: seen,
            linktoFn: linkto,
            sectionName: SECTION_TYPE.Mixins
        }),

        [SECTION_TYPE.Tutorials]: buildMemberNav({
            itemHeading: 'Tutorials',
            items: members.tutorials,
            itemsSeen: seenTutorials,
            linktoFn: linktoTutorial,
            sectionName: SECTION_TYPE.Tutorials
        }),

        [SECTION_TYPE.Interfaces]: buildMemberNav({
            itemHeading: 'Interfaces',
            items: members.interfaces,
            itemsSeen: seen,
            linktoFn: linkto,
            sectionName: SECTION_TYPE.Interfaces
        }),

        [SECTION_TYPE.Global]: buildMemberNav({
            itemHeading: 'Global',
            items: members.globals,
            itemsSeen: seenGlobal,
            linktoFn: linkto,
            sectionName: SECTION_TYPE.Global
        })
    };

    sectionsOrder.forEach((section) => {
        if (SECTION_TYPE[section] !== undefined) {
            nav += sections[section];
        } else {
            var errorMsg = `While building nav. Section name: ${section} is not recognized.
            Accepted sections are: ${defaultSections.join(', ')} 
            `;

            throw new Error(errorMsg);
        }
    });

    return nav;
}

/**
    @param {TAFFY} taffyData See &lt;http://taffydb.com/>.
    @param {object} opts
    @param {Tutorial} tutorials
 */
exports.publish = function(taffyData, opts, tutorials) {
    data = taffyData;

    // eslint-disable-next-line no-restricted-globals
    var conf = env.conf.templates || {};

    conf.default = conf.default || {};

    var templatePath = path.normalize(opts.template);

    view = new template.Template(path.join(templatePath, 'tmpl'));

    // claim some special filenames in advance, so the All-Powerful Overseer of Filename Uniqueness
    // doesn't try to hand them out later
    var indexUrl = helper.getUniqueFilename('index');
    // don't call registerLink() on this one! 'index' is also a valid longname

    var globalUrl = helper.getUniqueFilename('global');

    helper.registerLink('global', globalUrl);

    // set up templating
    view.layout = conf.default.layoutFile ?
        path.getResourcePath(
            path.dirname(conf.default.layoutFile),
            path.basename(conf.default.layoutFile)
        ) :
        'layout.tmpl';

    // set up tutorials for helper
    helper.setTutorials(tutorials);

    data = helper.prune(data);
    data.sort('longname, version, since');
    helper.addEventListeners(data);

    var sourceFiles = {};
    var sourceFilePaths = [];

    data().each(function(doclet) {
        doclet.attribs = '';

        if (doclet.examples) {
            doclet.examples = doclet.examples.map(function(example) {
                var caption, code;

                if (example === undefined) {
                    return {
                        caption: '',
                        code: ''
                    };
                }

                if (
                    example.match(
                        /^\s*&lt;caption>([\s\S]+?)&lt;\/caption>(\s*[\n\r])([\s\S]+)$/i
                    )
                ) {
                    caption = RegExp.$1;
                    code = RegExp.$3;
                }

                return {
                    caption: caption || '',
                    code: code || example
                };
            });
        }
        if (doclet.see) {
            doclet.see.forEach(function(seeItem, i) {
                doclet.see[i] = hashToLink(doclet, seeItem);
            });
        }

        // build a list of source files
        var sourcePath;

        if (doclet.meta) {
            sourcePath = getPathFromDoclet(doclet);
            sourceFiles[sourcePath] = {
                resolved: sourcePath,
                shortened: null
            };
            if (sourceFilePaths.indexOf(sourcePath) === -1) {
                sourceFilePaths.push(sourcePath);
            }
        }
    });

    // update outdir if necessary, then create outdir
    var packageInfo = (find({ kind: 'package' }) || [])[0];

    if (packageInfo &amp;&amp; packageInfo.name) {
        outdir = path.join(outdir, packageInfo.name, packageInfo.version || '');
    }
    fs.mkPath(outdir);

    // copy the template's static files to outdir
    var fromDir = path.join(templatePath, 'static');
    var staticFiles = fs.ls(fromDir, 3);

    staticFiles.forEach(function(fileName) {
        var toDir = fs.toDir(fileName.replace(fromDir, outdir));

        fs.mkPath(toDir);
        fs.copyFileSync(fileName, toDir);
    });

    // copy user-specified static files to outdir
    var staticFilePaths;
    var staticFileFilter;
    var staticFileScanner;

    if (conf.default.staticFiles) {
        // The canonical property name is `include`. We accept `paths` for backwards compatibility
        // with a bug in JSDoc 3.2.x.
        staticFilePaths =
            conf.default.staticFiles.include ||
            conf.default.staticFiles.paths ||
            [];
        staticFileFilter = new (require('jsdoc/src/filter').Filter)(
            conf.default.staticFiles
        );
        staticFileScanner = new (require('jsdoc/src/scanner').Scanner)();

        staticFilePaths.forEach(function(filePath) {
            var extraStaticFiles = staticFileScanner.scan(
                [filePath],
                10,
                staticFileFilter
            );

            extraStaticFiles.forEach(function(fileName) {
                var sourcePath = fs.toDir(filePath);
                var toDir = fs.toDir(fileName.replace(sourcePath, outdir));

                fs.mkPath(toDir);
                fs.copyFileSync(fileName, toDir);
            });
        });
    }

    if (sourceFilePaths.length) {
        sourceFiles = shortenPaths(
            sourceFiles,
            path.commonPrefix(sourceFilePaths)
        );
    }
    data().each(function(doclet) {
        var url = helper.createLink(doclet);

        helper.registerLink(doclet.longname, url);

        // add a shortened version of the full path
        var docletPath;

        if (doclet.meta) {
            docletPath = getPathFromDoclet(doclet);
            docletPath = sourceFiles[docletPath].shortened;
            if (docletPath) {
                doclet.meta.shortpath = docletPath;
            }
        }
    });

    data().each(function(doclet) {
        var url = helper.longnameToUrl[doclet.longname];

        if (url.indexOf('#') > -1) {
            doclet.id = helper.longnameToUrl[doclet.longname].split(/#/).pop();
        } else {
            doclet.id = doclet.name;
        }

        if (needsSignature(doclet)) {
            addSignatureParams(doclet);
            addSignatureReturns(doclet);
            addAttribs(doclet);
        }
    });

    // do this after the urls have all been generated
    data().each(function(doclet) {
        doclet.ancestors = getAncestorLinks(doclet);

        if (doclet.kind === 'member') {
            addSignatureTypes(doclet);
            addAttribs(doclet);
        }

        if (doclet.kind === 'constant') {
            addSignatureTypes(doclet);
            addAttribs(doclet);
            doclet.kind = 'member';
        }
    });

    var members = helper.getMembers(data);

    members.tutorials = tutorials.children;

    // output pretty-printed source files by default
    var outputSourceFiles = Boolean(
        conf.default &amp;&amp; conf.default.outputSourceFiles !== false
    );

    // add template helpers
    view.find = find;
    view.linkto = linkto;
    view.resolveAuthorLinks = resolveAuthorLinks;
    view.tutoriallink = tutoriallink;
    view.htmlsafe = htmlsafe;
    view.outputSourceFiles = outputSourceFiles;
    view.footer = buildFooter();
    view.favicon = getFavicon();
    view.dynamicStyle = createDynamicStyleSheet();
    view.dynamicStyleSrc = returnPathOfStyleSrc();
    view.dynamicScript = createDynamicsScripts();
    view.dynamicScriptSrc = returnPathOfScriptScr();
    view.includeScript = includeScript();
    view.includeCss = includeCss();
    view.meta = getMetaTagData();
    view.overlayScrollbar = overlayScrollbarOptions();
    view.theme = getTheme();
    // once for all
    view.nav = buildNav(members);
    view.search = search();
    view.resizeable = resizeable();
    view.codepen = codepen();
    view.excludeInherited = Boolean(themeOpts.exclude_inherited);
    attachModuleSymbols(
        find({ longname: { left: 'module:' } }),
        members.modules
    );

    // generate the pretty-printed source files first so other pages can link to them
    if (outputSourceFiles) {
        generateSourceFiles(sourceFiles, opts.encoding);
    }

    if (members.globals.length) {
        generate('', 'Global', [{ kind: 'globalobj' }], globalUrl);
    }

    // index page displays information from package.json and lists files
    var files = find({ kind: 'file' });
    var packages = find({ kind: 'package' });

    generate(
        '',
        'Home',
        packages
            .concat([
                {
                    kind: 'mainpage',
                    readme: opts.readme,
                    longname: opts.mainpagetitle ?
                        opts.mainpagetitle :
                        'Main Page'
                }
            ])
            .concat(files),
        indexUrl
    );

    // set up the lists that we'll use to generate pages
    var classes = taffy(members.classes);
    var modules = taffy(members.modules);
    var namespaces = taffy(members.namespaces);
    var mixins = taffy(members.mixins);
    var externals = taffy(members.externals);
    var interfaces = taffy(members.interfaces);

    Object.keys(helper.longnameToUrl).forEach(function(longname) {
        var myModules = helper.find(modules, { longname: longname });

        if (myModules.length) {
            generate(
                'Module',
                myModules[0].name,
                myModules,
                helper.longnameToUrl[longname]
            );
        }

        var myClasses = helper.find(classes, { longname: longname });

        if (myClasses.length) {
            generate(
                'Class',
                myClasses[0].name,
                myClasses,
                helper.longnameToUrl[longname]
            );
        }

        var myNamespaces = helper.find(namespaces, { longname: longname });

        if (myNamespaces.length) {
            generate(
                'Namespace',
                myNamespaces[0].name,
                myNamespaces,
                helper.longnameToUrl[longname]
            );
        }

        var myMixins = helper.find(mixins, { longname: longname });

        if (myMixins.length) {
            generate(
                'Mixin',
                myMixins[0].name,
                myMixins,
                helper.longnameToUrl[longname]
            );
        }

        var myExternals = helper.find(externals, { longname: longname });

        if (myExternals.length) {
            generate(
                'External',
                myExternals[0].name,
                myExternals,
                helper.longnameToUrl[longname]
            );
        }

        var myInterfaces = helper.find(interfaces, { longname: longname });

        if (myInterfaces.length) {
            generate(
                'Interface',
                myInterfaces[0].name,
                myInterfaces,
                helper.longnameToUrl[longname]
            );
        }
    });

    // TODO: move the tutorial functions to templateHelper.js
    function generateTutorial(title, tutorial, filename) {
        var tutorialData = {
            title: title,
            header: tutorial.title,
            content: tutorial.parse(),
            children: tutorial.children
        };

        var tutorialPath = path.join(outdir, filename);
        var html = view.render('tutorial.tmpl', tutorialData);

        // yes, you can use {@link} in tutorials too!
        html = helper.resolveLinks(html); // turn {@link foo} into &lt;a href="foodoc.html">foo&lt;/a>
        fs.writeFileSync(tutorialPath, html, 'utf8');
    }

    // tutorials can have only one parent so there is no risk for loops
    function saveChildren(node) {
        node.children.forEach(function(child) {
            generateTutorial(
                'Tutorial: ' + child.title,
                child,
                helper.tutorialToUrl(child.name)
            );
            saveChildren(child);
        });
    }

    saveChildren(tutorials);
};
</code></pre>
        </article>
    </section>




    </div>

    <footer class="footer" id="footer">
      
    </footer>

    <script src="scripts/third-party/prettify.js"></script>
    <script src="scripts/third-party/lang-css.js"></script>
    <script type="text/javascript" src="scripts/misc.js"></script>

    <script>prettyPrint();</script>
    <script src="scripts/linenumber.js"></script>
    <script src="scripts/fix-code-block.js"></script>
    <script src="scripts/fix-navbar.js"></script>
    
      <script src="scripts/search.js"></script>
      <script src="scripts/third-party/fuse.js"></script>
      <script>
        var list = [{"title":"_loader","link":"<a href=\"module-_loader.html\">_loader</a>"},{"title":"Web3osTerminal","link":"<a href=\"Web3osTerminal.html\">Web3osTerminal</a>"},{"title":"Web3osTerminal#interruptHandler","link":"<a href=\"Web3osTerminal.html#interruptHandler\">Web3osTerminal &rtrif; interruptHandler</a>"},{"title":"Web3osTerminal#isPrintable","link":"<a href=\"Web3osTerminal.html#isPrintable\">Web3osTerminal &rtrif; isPrintable</a>"},{"title":"Web3osTerminal#keyHandler","link":"<a href=\"Web3osTerminal.html#keyHandler\">Web3osTerminal &rtrif; keyHandler</a>"},{"title":"Web3osTerminal#listen","link":"<a href=\"Web3osTerminal.html#listen\">Web3osTerminal &rtrif; listen</a>"},{"title":"Web3osTerminal#log","link":"<a href=\"Web3osTerminal.html#log\">Web3osTerminal &rtrif; log</a>"},{"title":"Web3osTerminal#paste","link":"<a href=\"Web3osTerminal.html#paste\">Web3osTerminal &rtrif; paste</a>"},{"title":"Web3osTerminal#prompt","link":"<a href=\"Web3osTerminal.html#prompt\">Web3osTerminal &rtrif; prompt</a>"},{"title":"Web3osTerminal#promptCompile","link":"<a href=\"Web3osTerminal.html#promptCompile\">Web3osTerminal &rtrif; promptCompile</a>"},{"title":"buildNav","link":"<a href=\"global.html#buildNav\">buildNav</a>"},{"title":"builtinModules","link":"<a href=\"global.html#builtinModules\">builtinModules</a>"},{"title":"copy","link":"<a href=\"global.html#copy\">copy</a>"},{"title":"deleteKey","link":"<a href=\"global.html#deleteKey\">deleteKey</a>"},{"title":"deleteNamespace","link":"<a href=\"global.html#deleteNamespace\">deleteNamespace</a>"},{"title":"dump","link":"<a href=\"global.html#dump\">dump</a>"},{"title":"e","link":"<a href=\"global.html#e\">e</a>"},{"title":"fs","link":"<a href=\"global.html#fs\">fs</a>"},{"title":"get","link":"<a href=\"global.html#get\">get</a>"},{"title":"getAccordionIdsFromLocalStorage","link":"<a href=\"global.html#getAccordionIdsFromLocalStorage\">getAccordionIdsFromLocalStorage</a>"},{"title":"loadLocalStorage","link":"<a href=\"global.html#loadLocalStorage\">loadLocalStorage</a>"},{"title":"log","link":"<a href=\"global.html#log\">log</a>"},{"title":"modules","link":"<a href=\"global.html#modules\">modules</a>"},{"title":"publish","link":"<a href=\"global.html#publish\">publish</a>"},{"title":"removeAccordionIdFromLocalStorage","link":"<a href=\"global.html#removeAccordionIdFromLocalStorage\">removeAccordionIdFromLocalStorage</a>"},{"title":"restore","link":"<a href=\"global.html#restore\">restore</a>"},{"title":"set","link":"<a href=\"global.html#set\">set</a>"},{"title":"setAccordionIdToLocalStorage","link":"<a href=\"global.html#setAccordionIdToLocalStorage\">setAccordionIdToLocalStorage</a>"},{"title":"showBootIntro","link":"<a href=\"global.html#showBootIntro\">showBootIntro</a>"},{"title":"toggleNavbar","link":"<a href=\"global.html#toggleNavbar\">toggleNavbar</a>"},{"title":"updateLocalStorage","link":"<a href=\"global.html#updateLocalStorage\">updateLocalStorage</a>"},{"title":"utils","link":"<a href=\"global.html#utils\">utils</a>"},{"title":"windows","link":"<a href=\"global.html#windows\">windows</a>"}];
        var options = 
          setupSearch(list, options)
      </script>
    

    

    

    


  </body>

</html>
