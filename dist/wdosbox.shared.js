var WDOSBOX=(()=>{var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return"undefined"!=typeof __filename&&(e=e||__filename),function(r){function t(){return O.buffer!=Y&&re(O.buffer),X}function n(){return O.buffer!=Y&&re(O.buffer),G}function o(){return O.buffer!=Y&&re(O.buffer),V}function a(){return O.buffer!=Y&&re(O.buffer),K}function s(){return O.buffer!=Y&&re(O.buffer),$}function i(){return O.buffer!=Y&&re(O.buffer),Q}var u,c,d=void 0!==(r=r||{})?r:{};d.ready=new Promise((function(e,r){u=e,c=r}));var f,l,p,m,h,w,v=Object.assign({},d),y=[],_="./this.program",g=(e,r)=>{throw r},E="object"==typeof window,k="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,S=d.ENVIRONMENT_IS_PTHREAD||!1,D="";function M(e){return d.locateFile?d.locateFile(e,D):D+e}if(b){let e;D=k?require("path").dirname(D)+"/":__dirname+"/",w=()=>{h||(m=require("fs"),h=require("path"))},f=function(e,r){return w(),e=h.normalize(e),m.readFileSync(e,r?void 0:"utf8")},p=e=>{var r=f(e,!0);return r.buffer||(r=new Uint8Array(r)),r},l=(e,r,t)=>{w(),e=h.normalize(e),m.readFile(e,(function(e,n){e?t(e):r(n.buffer)}))},process.argv.length>1&&(_=process.argv[1].replace(/\\/g,"/")),y=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof lt))throw e})),process.on("unhandledRejection",(function(e){throw e})),g=(e,r)=>{if(de())throw process.exitCode=e,r;var t;(t=r)instanceof lt||T("exiting due to exception: "+t),process.exit(e)},d.inspect=function(){return"[Emscripten Module object]"};try{e=require("worker_threads")}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}global.Worker=e.Worker}else(E||k)&&(k?D=self.location.href:"undefined"!=typeof document&&document.currentScript&&(D=document.currentScript.src),e&&(D=e),D=0!==D.indexOf("blob:")?D.substr(0,D.replace(/[?#].*/,"").lastIndexOf("/")+1):"",b||(f=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},k&&(p=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),l=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?r(n.response):t()},n.onerror=t,n.send(null)}));b&&"undefined"==typeof performance&&(global.performance=require("perf_hooks").performance);var F=console.log.bind(console),A=console.warn.bind(console);b&&(w(),F=e=>m.writeSync(1,e+"\n"),A=e=>m.writeSync(2,e+"\n"));var P,x=d.print||F,T=d.printErr||A;function R(e){R.shown||(R.shown={}),R.shown[e]||(R.shown[e]=1,T(e))}Object.assign(d,v),v=null,d.arguments&&(y=d.arguments),d.thisProgram&&(_=d.thisProgram),d.quit&&(g=d.quit),Atomics.load,Atomics.store,Atomics.compareExchange,d.wasmBinary&&(P=d.wasmBinary);var O,C,z=d.noExitRuntime||!1;"object"!=typeof WebAssembly&&ge("no native wasm support detected");var N,I=!1;function B(e,r){e||ge(r)}var U="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function L(e,r,t){for(var n=r+t,o=r;e[o]&&!(o>=n);)++o;if(o-r>16&&e.buffer&&U)return U.decode(e.slice(r,o));for(var a="";r<o;){var s=e[r++];if(128&s){var i=63&e[r++];if(192!=(224&s)){var u=63&e[r++];if((s=224==(240&s)?(15&s)<<12|i<<6|u:(7&s)<<18|i<<12|u<<6|63&e[r++])<65536)a+=String.fromCharCode(s);else{var c=s-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&s)<<6|i)}else a+=String.fromCharCode(s)}return a}function j(e,r){return e?L(n(),e,r):""}function H(e,r,t,n){if(!(n>0))return 0;for(var o=t,a=t+n-1,s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++s)),i<=127){if(t>=a)break;r[t++]=i}else if(i<=2047){if(t+1>=a)break;r[t++]=192|i>>6,r[t++]=128|63&i}else if(i<=65535){if(t+2>=a)break;r[t++]=224|i>>12,r[t++]=128|i>>6&63,r[t++]=128|63&i}else{if(t+3>=a)break;r[t++]=240|i>>18,r[t++]=128|i>>12&63,r[t++]=128|i>>6&63,r[t++]=128|63&i}}return r[t]=0,t-o}function W(e,r,t){return H(e,n(),r,t)}function q(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++t)),n<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}var Y,X,G,V,K,$,Q,Z="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function J(e){var r=q(e)+1,n=Yr(r);return n&&H(e,t(),n,r),n}function ee(e){var r=q(e)+1,n=it(r);return H(e,t(),n,r),n}function re(e){Y=e,d.HEAP8=X=new Int8Array(e),d.HEAP16=V=new Int16Array(e),d.HEAP32=$=new Int32Array(e),d.HEAPU8=G=new Uint8Array(e),d.HEAPU16=K=new Uint16Array(e),d.HEAPU32=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=Q=new Float64Array(e)}S&&(Y=d.buffer);var te=d.INITIAL_MEMORY||67108864;if(S)O=d.wasmMemory,Y=d.buffer;else if(d.wasmMemory)O=d.wasmMemory;else if(!((O=new WebAssembly.Memory({initial:te/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw T("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),b&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");O&&(Y=O.buffer),te=Y.byteLength,re(Y);var ne=[],oe=[],ae=[],se=[],ie=[],ue=!1,ce=0;function de(){return z||ce>0}function fe(){S||(Be.root=Ie.mount(Be,{},null),d.noFSInit||Ie.init.initialized||Ie.init(),Ie.ignorePermissions=!1,ze.init(),De(oe))}var le,pe,me,he=0,we=null,ve=null;function ye(e){he++,d.monitorRunDependencies&&d.monitorRunDependencies(he)}function _e(e){if(he--,d.monitorRunDependencies&&d.monitorRunDependencies(he),0==he&&(null!==we&&(clearInterval(we),we=null),ve)){var r=ve;ve=null,r()}}function ge(e){S?postMessage({cmd:"onAbort",arg:e}):d.onAbort&&d.onAbort(e),T(e="Aborted("+e+")"),I=!0,N=1,e+=". Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(e);throw c(r),r}function Ee(e){return e.startsWith("data:application/octet-stream;base64,")}function ke(e){return e.startsWith("file://")}function be(e){try{if(e==le&&P)return new Uint8Array(P);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ge(e)}}d.preloadedImages={},d.preloadedAudios={},Ee(le="wdosbox.shared.wasm")||(le=M(le));var Se={277868:function(){d.paused=!0},277896:function(){d.paused=!1},277925:function(){d.performance=d.performance||("object"==typeof performance?performance:Date)},278030:function(){d.screenIsReadOnly=!0},278065:function(e,r){d.websocket.url=j(e)+":"+r}};function De(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var t=r.func;"number"==typeof t?void 0===r.arg?ct.call(null,t):(n=r.arg,ut.apply(null,[t,n])):t(void 0===r.arg?null:r.arg)}else r(d)}var n}function Me(e){var r=at(),t=e();return st(r),t}function Fe(e){var r=Te.pthreads[e];if(r){s()[e>>2]=0;var t=r.worker;Te.returnWorkerToPool(t)}}function Ae(e,r){n().fill(0,e,e+r)}function Pe(e){ht(e)}function xe(e){if(e instanceof lt||"unwind"==e)return N;g(1,e)}var Te={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],init:function(){S?Te.initWorker():Te.initMainThread()},initMainThread:function(){},initWorker:function(){z=!1},pthreads:{},setExitStatus:function(e){N=e},terminateAllThreads:function(){for(var e in Te.pthreads){var r=Te.pthreads[e];r&&r.worker&&Te.returnWorkerToPool(r.worker)}for(var t=0;t<Te.unusedWorkers.length;++t)Te.unusedWorkers[t].terminate();Te.unusedWorkers=[]},returnWorkerToPool:function(e){Te.runWithoutMainThreadQueuedCalls((function(){delete Te.pthreads[e.pthread.threadInfoStruct],Te.unusedWorkers.push(e),Te.runningWorkers.splice(Te.runningWorkers.indexOf(e),1),tt(e.pthread.threadInfoStruct),e.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(e){s()[ft>>2]=0;try{e()}finally{s()[ft>>2]=1}},receiveObjectTransfer:function(e){},threadInit:function(){for(var e in Te.tlsInitFunctions)Te.tlsInitFunctions.hasOwnProperty(e)&&Te.tlsInitFunctions[e]()},loadWasmModuleToWorker:function(r,t){r.onmessage=e=>{var n,o=e.data,a=o.cmd;if(r.pthread&&(Te.currentProxiedOperationCallerThread=r.pthread.threadInfoStruct),o.targetThread&&o.targetThread!=$r()){var i=Te.pthreads[o.targetThread];return i?i.worker.postMessage(o,o.transferList):T('Internal error! Worker sent a message "'+a+'" to target pthread '+o.targetThread+", but that thread no longer exists!"),void(Te.currentProxiedOperationCallerThread=void 0)}"processProxyingQueue"===a?(Jr(o.queue),Atomics.sub(s(),o.queue>>2,1)):"spawnThread"===a?function(e){var r=Te.getNewWorker();if(!r)return 6;Te.runningWorkers.push(r);var t=Te.pthreads[e.pthread_ptr]={worker:r,threadInfoStruct:e.pthread_ptr};r.pthread=t;var n={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr};r.runPthread=()=>{n.time=performance.now(),r.postMessage(n,e.transferList)},r.loaded&&(r.runPthread(),delete r.runPthread)}(o):"cleanupThread"===a?Fe(o.thread):"killThread"===a?function(e){s()[e>>2]=0;var r=Te.pthreads[e];delete Te.pthreads[e],r.worker.terminate(),tt(e),Te.runningWorkers.splice(Te.runningWorkers.indexOf(r.worker),1),r.worker.pthread=void 0}(o.thread):"cancelThread"===a?(n=o.thread,Te.pthreads[n].worker.postMessage({cmd:"cancel"})):"loaded"===a?(r.loaded=!0,t&&t(r),r.runPthread&&(r.runPthread(),delete r.runPthread)):"print"===a?x("Thread "+o.threadId+": "+o.text):"printErr"===a?T("Thread "+o.threadId+": "+o.text):"alert"===a?alert("Thread "+o.threadId+": "+o.text):"setimmediate"===o.target?r.postMessage(o):"onAbort"===a?d.onAbort&&d.onAbort(o.arg):a&&T("worker sent an unknown command "+a),Te.currentProxiedOperationCallerThread=void 0},r.onerror=e=>{throw T("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},b&&(r.on("message",(function(e){r.onmessage({data:e})})),r.on("error",(function(e){r.onerror(e)})),r.on("detachedExit",(function(){}))),r.postMessage({cmd:"load",urlOrBlob:d.mainScriptUrlOrBlob||e,wasmMemory:O,wasmModule:C})},allocateUnusedWorker:function(){var e=M("wdosbox.shared.worker.js");Te.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==Te.unusedWorkers.length&&(Te.allocateUnusedWorker(),Te.loadWasmModuleToWorker(Te.unusedWorkers[0])),Te.unusedWorkers.pop()}};function Re(e){if(S)return kr(1,0,e);try{Pe(e)}catch(e){xe(e)}}d.establishStackSpace=function(){var e=$r(),r=s()[e+44>>2],t=s()[e+48>>2];ot(r,r-t),st(r)},d.invokeEntryPoint=function(e,r){return t=r,dt.apply(null,[e,t]);var t};var Oe={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=Oe.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=Oe.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:function(e){if("/"===e)return"/";var r=(e=(e=Oe.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return Oe.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Oe.normalize(e.join("/"))},join2:function(e,r){return Oe.normalize(e+"/"+r)}},Ce={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:Ie.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=Oe.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=Ce.resolve(e).substr(1),r=Ce.resolve(r).substr(1);for(var n=t(e.split("/")),o=t(r.split("/")),a=Math.min(n.length,o.length),s=a,i=0;i<a;i++)if(n[i]!==o[i]){s=i;break}var u=[];for(i=s;i<n.length;i++)u.push("..");return(u=u.concat(o.slice(s))).join("/")}},ze={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){ze.ttys[e]={input:[],output:[],ops:r},Ie.registerDevice(e,ze.stream_ops)},stream_ops:{open:function(e){var r=ze.ttys[e.node.rdev];if(!r)throw new Ie.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.get_char)throw new Ie.ErrnoError(60);for(var a=0,s=0;s<n;s++){var i;try{i=e.tty.ops.get_char(e.tty)}catch(e){throw new Ie.ErrnoError(29)}if(void 0===i&&0===a)throw new Ie.ErrnoError(6);if(null==i)break;a++,r[t+s]=i}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,n,o){if(!e.tty||!e.tty.ops.put_char)throw new Ie.ErrnoError(60);try{for(var a=0;a<n;a++)e.tty.ops.put_char(e.tty,r[t+a])}catch(e){throw new Ie.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(b){var t=Buffer.alloc(256),n=0;try{n=m.readSync(process.stdin.fd,t,0,256,-1)}catch(e){if(!e.toString().includes("EOF"))throw e;n=0}r=n>0?t.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n");if(!r)return null;e.input=jr(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(x(L(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(x(L(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(T(L(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(T(L(e.output,0)),e.output=[])}}};var Ne={ops_table:null,mount:function(e){return Ne.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(Ie.isBlkdev(t)||Ie.isFIFO(t))throw new Ie.ErrnoError(63);Ne.ops_table||(Ne.ops_table={dir:{node:{getattr:Ne.node_ops.getattr,setattr:Ne.node_ops.setattr,lookup:Ne.node_ops.lookup,mknod:Ne.node_ops.mknod,rename:Ne.node_ops.rename,unlink:Ne.node_ops.unlink,rmdir:Ne.node_ops.rmdir,readdir:Ne.node_ops.readdir,symlink:Ne.node_ops.symlink},stream:{llseek:Ne.stream_ops.llseek}},file:{node:{getattr:Ne.node_ops.getattr,setattr:Ne.node_ops.setattr},stream:{llseek:Ne.stream_ops.llseek,read:Ne.stream_ops.read,write:Ne.stream_ops.write,allocate:Ne.stream_ops.allocate,mmap:Ne.stream_ops.mmap,msync:Ne.stream_ops.msync}},link:{node:{getattr:Ne.node_ops.getattr,setattr:Ne.node_ops.setattr,readlink:Ne.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ne.node_ops.getattr,setattr:Ne.node_ops.setattr},stream:Ie.chrdev_stream_ops}});var o=Ie.createNode(e,r,t,n);return Ie.isDir(o.mode)?(o.node_ops=Ne.ops_table.dir.node,o.stream_ops=Ne.ops_table.dir.stream,o.contents={}):Ie.isFile(o.mode)?(o.node_ops=Ne.ops_table.file.node,o.stream_ops=Ne.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ie.isLink(o.mode)?(o.node_ops=Ne.ops_table.link.node,o.stream_ops=Ne.ops_table.link.stream):Ie.isChrdev(o.mode)&&(o.node_ops=Ne.ops_table.chrdev.node,o.stream_ops=Ne.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[r]=o,e.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r)if(0==r)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Ie.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Ie.isDir(e.mode)?r.size=4096:Ie.isFile(e.mode)?r.size=e.usedBytes:Ie.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&Ne.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Ie.genericErrors[44]},mknod:function(e,r,t,n){return Ne.createNode(e,r,t,n)},rename:function(e,r,t){if(Ie.isDir(e.mode)){var n;try{n=Ie.lookupNode(r,t)}catch(e){}if(n)for(var o in n.contents)throw new Ie.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink:function(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir:function(e,r){var t=Ie.lookupNode(e,r);for(var n in t.contents)throw new Ie.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=Ne.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!Ie.isLink(e.mode))throw new Ie.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,o){var a=e.node.contents;if(o>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-o,n);if(s>8&&a.subarray)r.set(a.subarray(o,o+s),t);else for(var i=0;i<s;i++)r[t+i]=a[o+i];return s},write:function(e,r,n,o,a,s){if(r.buffer===t().buffer&&(s=!1),!o)return 0;var i=e.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(s)return i.contents=r.subarray(n,n+o),i.usedBytes=o,o;if(0===i.usedBytes&&0===a)return i.contents=r.slice(n,n+o),i.usedBytes=o,o;if(a+o<=i.usedBytes)return i.contents.set(r.subarray(n,n+o),a),o}if(Ne.expandFileStorage(i,a+o),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(n,n+o),a);else for(var u=0;u<o;u++)i.contents[a+u]=r[n+u];return i.usedBytes=Math.max(i.usedBytes,a+o),o},llseek:function(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&Ie.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Ie.ErrnoError(28);return n},allocate:function(e,r,t){Ne.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,n,o,a,s){if(0!==r)throw new Ie.ErrnoError(28);if(!Ie.isFile(e.node.mode))throw new Ie.ErrnoError(43);var i,u,c=e.node.contents;if(2&s||c.buffer!==Y){if((o>0||o+n<c.length)&&(c=c.subarray?c.subarray(o,o+n):Array.prototype.slice.call(c,o,o+n)),u=!0,!(i=function(e){e=function(e,r){return 65536*Math.ceil(e/65536)}(e);var r=Gr(65536,e);return r?(Ae(r,e),r):0}(n)))throw new Ie.ErrnoError(48);t().set(c,i)}else u=!1,i=c.byteOffset;return{ptr:i,allocated:u}},msync:function(e,r,t,n,o){if(!Ie.isFile(e.node.mode))throw new Ie.ErrnoError(43);return 2&o||Ne.stream_ops.write(e,r,0,n,t,!1),0}}},Ie={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(e,r={})=>{if(!(e=Ce.resolve(Ie.cwd(),e)))return{path:"",node:null};if((r=Object.assign({follow_mount:!0,recurse_count:0},r)).recurse_count>8)throw new Ie.ErrnoError(32);for(var t=Oe.normalizeArray(e.split("/").filter((e=>!!e)),!1),n=Ie.root,o="/",a=0;a<t.length;a++){var s=a===t.length-1;if(s&&r.parent)break;if(n=Ie.lookupNode(n,t[a]),o=Oe.join2(o,t[a]),Ie.isMountpoint(n)&&(!s||s&&r.follow_mount)&&(n=n.mounted.root),!s||r.follow)for(var i=0;Ie.isLink(n.mode);){var u=Ie.readlink(o);if(o=Ce.resolve(Oe.dirname(o),u),n=Ie.lookupPath(o,{recurse_count:r.recurse_count+1}).node,i++>40)throw new Ie.ErrnoError(32)}}return{path:o,node:n}},getPath:e=>{for(var r;;){if(Ie.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:(e,r)=>{for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%Ie.nameTable.length},hashAddNode:e=>{var r=Ie.hashName(e.parent.id,e.name);e.name_next=Ie.nameTable[r],Ie.nameTable[r]=e},hashRemoveNode:e=>{var r=Ie.hashName(e.parent.id,e.name);if(Ie.nameTable[r]===e)Ie.nameTable[r]=e.name_next;else for(var t=Ie.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:(e,r)=>{var t=Ie.mayLookup(e);if(t)throw new Ie.ErrnoError(t,e);for(var n=Ie.hashName(e.id,r),o=Ie.nameTable[n];o;o=o.name_next){var a=o.name;if(o.parent.id===e.id&&a===r)return o}return Ie.lookup(e,r)},createNode:(e,r,t,n)=>{var o=new Ie.FSNode(e,r,t,n);return Ie.hashAddNode(o),o},destroyNode:e=>{Ie.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>49152==(49152&e),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:e=>{var r=Ie.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:e=>{var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:(e,r)=>Ie.ignorePermissions||(!r.includes("r")||292&e.mode)&&(!r.includes("w")||146&e.mode)&&(!r.includes("x")||73&e.mode)?0:2,mayLookup:e=>Ie.nodePermissions(e,"x")||(e.node_ops.lookup?0:2),mayCreate:(e,r)=>{try{return Ie.lookupNode(e,r),20}catch(e){}return Ie.nodePermissions(e,"wx")},mayDelete:(e,r,t)=>{var n;try{n=Ie.lookupNode(e,r)}catch(e){return e.errno}var o=Ie.nodePermissions(e,"wx");if(o)return o;if(t){if(!Ie.isDir(n.mode))return 54;if(Ie.isRoot(n)||Ie.getPath(n)===Ie.cwd())return 10}else if(Ie.isDir(n.mode))return 31;return 0},mayOpen:(e,r)=>e?Ie.isLink(e.mode)?32:Ie.isDir(e.mode)&&("r"!==Ie.flagsToPermissionString(r)||512&r)?31:Ie.nodePermissions(e,Ie.flagsToPermissionString(r)):44,MAX_OPEN_FDS:4096,nextfd:(e=0,r=Ie.MAX_OPEN_FDS)=>{for(var t=e;t<=r;t++)if(!Ie.streams[t])return t;throw new Ie.ErrnoError(33)},getStream:e=>Ie.streams[e],createStream:(e,r,t)=>{Ie.FSStream||(Ie.FSStream=function(){},Ie.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}),e=Object.assign(new Ie.FSStream,e);var n=Ie.nextfd(r,t);return e.fd=n,Ie.streams[n]=e,e},closeStream:e=>{Ie.streams[e]=null},chrdev_stream_ops:{open:e=>{var r=Ie.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:()=>{throw new Ie.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,r)=>e<<8|r,registerDevice:(e,r)=>{Ie.devices[e]={stream_ops:r}},getDevice:e=>Ie.devices[e],getMounts:e=>{for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:(e,r)=>{"function"==typeof e&&(r=e,e=!1),Ie.syncFSRequests++,Ie.syncFSRequests>1&&T("warning: "+Ie.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=Ie.getMounts(Ie.root.mount),n=0;function o(e){return Ie.syncFSRequests--,r(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,o(e));++n>=t.length&&o(null)}t.forEach((r=>{if(!r.type.syncfs)return a(null);r.type.syncfs(r,e,a)}))},mount:(e,r,t)=>{var n,o="/"===t,a=!t;if(o&&Ie.root)throw new Ie.ErrnoError(10);if(!o&&!a){var s=Ie.lookupPath(t,{follow_mount:!1});if(t=s.path,n=s.node,Ie.isMountpoint(n))throw new Ie.ErrnoError(10);if(!Ie.isDir(n.mode))throw new Ie.ErrnoError(54)}var i={type:e,opts:r,mountpoint:t,mounts:[]},u=e.mount(i);return u.mount=i,i.root=u,o?Ie.root=u:n&&(n.mounted=i,n.mount&&n.mount.mounts.push(i)),u},unmount:e=>{var r=Ie.lookupPath(e,{follow_mount:!1});if(!Ie.isMountpoint(r.node))throw new Ie.ErrnoError(28);var t=r.node,n=t.mounted,o=Ie.getMounts(n);Object.keys(Ie.nameTable).forEach((e=>{for(var r=Ie.nameTable[e];r;){var t=r.name_next;o.includes(r.mount)&&Ie.destroyNode(r),r=t}})),t.mounted=null;var a=t.mount.mounts.indexOf(n);t.mount.mounts.splice(a,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod:(e,r,t)=>{var n=Ie.lookupPath(e,{parent:!0}).node,o=Oe.basename(e);if(!o||"."===o||".."===o)throw new Ie.ErrnoError(28);var a=Ie.mayCreate(n,o);if(a)throw new Ie.ErrnoError(a);if(!n.node_ops.mknod)throw new Ie.ErrnoError(63);return n.node_ops.mknod(n,o,r,t)},create:(e,r)=>(r=void 0!==r?r:438,r&=4095,r|=32768,Ie.mknod(e,r,0)),mkdir:(e,r)=>(r=void 0!==r?r:511,r&=1023,r|=16384,Ie.mknod(e,r,0)),mkdirTree:(e,r)=>{for(var t=e.split("/"),n="",o=0;o<t.length;++o)if(t[o]){n+="/"+t[o];try{Ie.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,r,t)=>(void 0===t&&(t=r,r=438),r|=8192,Ie.mknod(e,r,t)),symlink:(e,r)=>{if(!Ce.resolve(e))throw new Ie.ErrnoError(44);var t=Ie.lookupPath(r,{parent:!0}).node;if(!t)throw new Ie.ErrnoError(44);var n=Oe.basename(r),o=Ie.mayCreate(t,n);if(o)throw new Ie.ErrnoError(o);if(!t.node_ops.symlink)throw new Ie.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:(e,r)=>{var t,n,o=Oe.dirname(e),a=Oe.dirname(r),s=Oe.basename(e),i=Oe.basename(r);if(t=Ie.lookupPath(e,{parent:!0}).node,n=Ie.lookupPath(r,{parent:!0}).node,!t||!n)throw new Ie.ErrnoError(44);if(t.mount!==n.mount)throw new Ie.ErrnoError(75);var u,c=Ie.lookupNode(t,s),d=Ce.relative(e,a);if("."!==d.charAt(0))throw new Ie.ErrnoError(28);if("."!==(d=Ce.relative(r,o)).charAt(0))throw new Ie.ErrnoError(55);try{u=Ie.lookupNode(n,i)}catch(e){}if(c!==u){var f=Ie.isDir(c.mode),l=Ie.mayDelete(t,s,f);if(l)throw new Ie.ErrnoError(l);if(l=u?Ie.mayDelete(n,i,f):Ie.mayCreate(n,i))throw new Ie.ErrnoError(l);if(!t.node_ops.rename)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(c)||u&&Ie.isMountpoint(u))throw new Ie.ErrnoError(10);if(n!==t&&(l=Ie.nodePermissions(t,"w")))throw new Ie.ErrnoError(l);Ie.hashRemoveNode(c);try{t.node_ops.rename(c,n,i)}catch(e){throw e}finally{Ie.hashAddNode(c)}}},rmdir:e=>{var r=Ie.lookupPath(e,{parent:!0}).node,t=Oe.basename(e),n=Ie.lookupNode(r,t),o=Ie.mayDelete(r,t,!0);if(o)throw new Ie.ErrnoError(o);if(!r.node_ops.rmdir)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(n))throw new Ie.ErrnoError(10);r.node_ops.rmdir(r,t),Ie.destroyNode(n)},readdir:e=>{var r=Ie.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Ie.ErrnoError(54);return r.node_ops.readdir(r)},unlink:e=>{var r=Ie.lookupPath(e,{parent:!0}).node;if(!r)throw new Ie.ErrnoError(44);var t=Oe.basename(e),n=Ie.lookupNode(r,t),o=Ie.mayDelete(r,t,!1);if(o)throw new Ie.ErrnoError(o);if(!r.node_ops.unlink)throw new Ie.ErrnoError(63);if(Ie.isMountpoint(n))throw new Ie.ErrnoError(10);r.node_ops.unlink(r,t),Ie.destroyNode(n)},readlink:e=>{var r=Ie.lookupPath(e).node;if(!r)throw new Ie.ErrnoError(44);if(!r.node_ops.readlink)throw new Ie.ErrnoError(28);return Ce.resolve(Ie.getPath(r.parent),r.node_ops.readlink(r))},stat:(e,r)=>{var t=Ie.lookupPath(e,{follow:!r}).node;if(!t)throw new Ie.ErrnoError(44);if(!t.node_ops.getattr)throw new Ie.ErrnoError(63);return t.node_ops.getattr(t)},lstat:e=>Ie.stat(e,!0),chmod:(e,r,t)=>{var n;if(!(n="string"==typeof e?Ie.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new Ie.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&r|-4096&n.mode,timestamp:Date.now()})},lchmod:(e,r)=>{Ie.chmod(e,r,!0)},fchmod:(e,r)=>{var t=Ie.getStream(e);if(!t)throw new Ie.ErrnoError(8);Ie.chmod(t.node,r)},chown:(e,r,t,n)=>{var o;if(!(o="string"==typeof e?Ie.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new Ie.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:(e,r,t)=>{Ie.chown(e,r,t,!0)},fchown:(e,r,t)=>{var n=Ie.getStream(e);if(!n)throw new Ie.ErrnoError(8);Ie.chown(n.node,r,t)},truncate:(e,r)=>{if(r<0)throw new Ie.ErrnoError(28);var t;if(!(t="string"==typeof e?Ie.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new Ie.ErrnoError(63);if(Ie.isDir(t.mode))throw new Ie.ErrnoError(31);if(!Ie.isFile(t.mode))throw new Ie.ErrnoError(28);var n=Ie.nodePermissions(t,"w");if(n)throw new Ie.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:(e,r)=>{var t=Ie.getStream(e);if(!t)throw new Ie.ErrnoError(8);if(0==(2097155&t.flags))throw new Ie.ErrnoError(28);Ie.truncate(t.node,r)},utime:(e,r,t)=>{var n=Ie.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open:(e,r,t,n,o)=>{if(""===e)throw new Ie.ErrnoError(44);var a;if(t=void 0===t?438:t,t=64&(r="string"==typeof r?Ie.modeStringToFlags(r):r)?4095&t|32768:0,"object"==typeof e)a=e;else{e=Oe.normalize(e);try{a=Ie.lookupPath(e,{follow:!(131072&r)}).node}catch(e){}}var s=!1;if(64&r)if(a){if(128&r)throw new Ie.ErrnoError(20)}else a=Ie.mknod(e,t,0),s=!0;if(!a)throw new Ie.ErrnoError(44);if(Ie.isChrdev(a.mode)&&(r&=-513),65536&r&&!Ie.isDir(a.mode))throw new Ie.ErrnoError(54);if(!s){var i=Ie.mayOpen(a,r);if(i)throw new Ie.ErrnoError(i)}512&r&&Ie.truncate(a,0),r&=-131713;var u=Ie.createStream({node:a,path:Ie.getPath(a),flags:r,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);return u.stream_ops.open&&u.stream_ops.open(u),!d.logReadFiles||1&r||(Ie.readFiles||(Ie.readFiles={}),e in Ie.readFiles||(Ie.readFiles[e]=1)),u},close:e=>{if(Ie.isClosed(e))throw new Ie.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ie.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek:(e,r,t)=>{if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ie.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new Ie.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:(e,r,t,n,o)=>{if(n<0||o<0)throw new Ie.ErrnoError(28);if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(1==(2097155&e.flags))throw new Ie.ErrnoError(8);if(Ie.isDir(e.node.mode))throw new Ie.ErrnoError(31);if(!e.stream_ops.read)throw new Ie.ErrnoError(28);var a=void 0!==o;if(a){if(!e.seekable)throw new Ie.ErrnoError(70)}else o=e.position;var s=e.stream_ops.read(e,r,t,n,o);return a||(e.position+=s),s},write:(e,r,t,n,o,a)=>{if(n<0||o<0)throw new Ie.ErrnoError(28);if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(0==(2097155&e.flags))throw new Ie.ErrnoError(8);if(Ie.isDir(e.node.mode))throw new Ie.ErrnoError(31);if(!e.stream_ops.write)throw new Ie.ErrnoError(28);e.seekable&&1024&e.flags&&Ie.llseek(e,0,2);var s=void 0!==o;if(s){if(!e.seekable)throw new Ie.ErrnoError(70)}else o=e.position;var i=e.stream_ops.write(e,r,t,n,o,a);return s||(e.position+=i),i},allocate:(e,r,t)=>{if(Ie.isClosed(e))throw new Ie.ErrnoError(8);if(r<0||t<=0)throw new Ie.ErrnoError(28);if(0==(2097155&e.flags))throw new Ie.ErrnoError(8);if(!Ie.isFile(e.node.mode)&&!Ie.isDir(e.node.mode))throw new Ie.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ie.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:(e,r,t,n,o,a)=>{if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new Ie.ErrnoError(2);if(1==(2097155&e.flags))throw new Ie.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ie.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,o,a)},msync:(e,r,t,n,o)=>e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,o):0,munmap:e=>0,ioctl:(e,r,t)=>{if(!e.stream_ops.ioctl)throw new Ie.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:(e,r={})=>{if(r.flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=Ie.open(e,r.flags),o=Ie.stat(e).size,a=new Uint8Array(o);return Ie.read(n,a,0,o,0),"utf8"===r.encoding?t=L(a,0):"binary"===r.encoding&&(t=a),Ie.close(n),t},writeFile:(e,r,t={})=>{t.flags=t.flags||577;var n=Ie.open(e,t.flags,t.mode);if("string"==typeof r){var o=new Uint8Array(q(r)+1),a=H(r,o,0,o.length);Ie.write(n,o,0,a,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Ie.write(n,r,0,r.byteLength,void 0,t.canOwn)}Ie.close(n)},cwd:()=>Ie.currentPath,chdir:e=>{var r=Ie.lookupPath(e,{follow:!0});if(null===r.node)throw new Ie.ErrnoError(44);if(!Ie.isDir(r.node.mode))throw new Ie.ErrnoError(54);var t=Ie.nodePermissions(r.node,"x");if(t)throw new Ie.ErrnoError(t);Ie.currentPath=r.path},createDefaultDirectories:()=>{Ie.mkdir("/tmp"),Ie.mkdir("/home"),Ie.mkdir("/home/web_user")},createDefaultDevices:()=>{Ie.mkdir("/dev"),Ie.registerDevice(Ie.makedev(1,3),{read:()=>0,write:(e,r,t,n,o)=>n}),Ie.mkdev("/dev/null",Ie.makedev(1,3)),ze.register(Ie.makedev(5,0),ze.default_tty_ops),ze.register(Ie.makedev(6,0),ze.default_tty1_ops),Ie.mkdev("/dev/tty",Ie.makedev(5,0)),Ie.mkdev("/dev/tty1",Ie.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(b)try{var r=require("crypto");return function(){return r.randomBytes(1)[0]}}catch(e){}return function(){ge("randomDevice")}}();Ie.createDevice("/dev","random",e),Ie.createDevice("/dev","urandom",e),Ie.mkdir("/dev/shm"),Ie.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{Ie.mkdir("/proc");var e=Ie.mkdir("/proc/self");Ie.mkdir("/proc/self/fd"),Ie.mount({mount:()=>{var r=Ie.createNode(e,"fd",16895,73);return r.node_ops={lookup:(e,r)=>{var t=+r,n=Ie.getStream(t);if(!n)throw new Ie.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path}};return o.parent=o,o}},r}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?Ie.createDevice("/dev","stdin",d.stdin):Ie.symlink("/dev/tty","/dev/stdin"),d.stdout?Ie.createDevice("/dev","stdout",null,d.stdout):Ie.symlink("/dev/tty","/dev/stdout"),d.stderr?Ie.createDevice("/dev","stderr",null,d.stderr):Ie.symlink("/dev/tty1","/dev/stderr"),Ie.open("/dev/stdin",0),Ie.open("/dev/stdout",1),Ie.open("/dev/stderr",1)},ensureErrnoError:()=>{Ie.ErrnoError||(Ie.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ie.ErrnoError.prototype=new Error,Ie.ErrnoError.prototype.constructor=Ie.ErrnoError,[44].forEach((e=>{Ie.genericErrors[e]=new Ie.ErrnoError(e),Ie.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:()=>{Ie.ensureErrnoError(),Ie.nameTable=new Array(4096),Ie.mount(Ne,{},"/"),Ie.createDefaultDirectories(),Ie.createDefaultDevices(),Ie.createSpecialDirectories(),Ie.filesystems={MEMFS:Ne}},init:(e,r,t)=>{Ie.init.initialized=!0,Ie.ensureErrnoError(),d.stdin=e||d.stdin,d.stdout=r||d.stdout,d.stderr=t||d.stderr,Ie.createStandardStreams()},quit:()=>{Ie.init.initialized=!1,Vr();for(var e=0;e<Ie.streams.length;e++){var r=Ie.streams[e];r&&Ie.close(r)}},getMode:(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},findObject:(e,r)=>{var t=Ie.analyzePath(e,r);return t.exists?t.object:null},analyzePath:(e,r)=>{try{e=(n=Ie.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Ie.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=Oe.basename(e),n=Ie.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createPath:(e,r,t,n)=>{e="string"==typeof e?e:Ie.getPath(e);for(var o=r.split("/").reverse();o.length;){var a=o.pop();if(a){var s=Oe.join2(e,a);try{Ie.mkdir(s)}catch(e){}e=s}}return s},createFile:(e,r,t,n,o)=>{var a=Oe.join2("string"==typeof e?e:Ie.getPath(e),r),s=Ie.getMode(n,o);return Ie.create(a,s)},createDataFile:(e,r,t,n,o,a)=>{var s=r;e&&(e="string"==typeof e?e:Ie.getPath(e),s=r?Oe.join2(e,r):e);var i=Ie.getMode(n,o),u=Ie.create(s,i);if(t){if("string"==typeof t){for(var c=new Array(t.length),d=0,f=t.length;d<f;++d)c[d]=t.charCodeAt(d);t=c}Ie.chmod(u,146|i);var l=Ie.open(u,577);Ie.write(l,t,0,t.length,0,a),Ie.close(l),Ie.chmod(u,i)}return u},createDevice:(e,r,t,n)=>{var o=Oe.join2("string"==typeof e?e:Ie.getPath(e),r),a=Ie.getMode(!!t,!!n);Ie.createDevice.major||(Ie.createDevice.major=64);var s=Ie.makedev(Ie.createDevice.major++,0);return Ie.registerDevice(s,{open:e=>{e.seekable=!1},close:e=>{n&&n.buffer&&n.buffer.length&&n(10)},read:(e,r,n,o,a)=>{for(var s=0,i=0;i<o;i++){var u;try{u=t()}catch(e){throw new Ie.ErrnoError(29)}if(void 0===u&&0===s)throw new Ie.ErrnoError(6);if(null==u)break;s++,r[n+i]=u}return s&&(e.node.timestamp=Date.now()),s},write:(e,r,t,o,a)=>{for(var s=0;s<o;s++)try{n(r[t+s])}catch(e){throw new Ie.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),s}}),Ie.mkdev(o,a,s)},forceLoadFile:e=>{if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!f)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=jr(f(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new Ie.ErrnoError(29)}},createLazyFile:(e,r,t,n,o)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,t=e/this.chunkSize|0;return this.getter(t)[r]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var r,n=Number(e.getResponseHeader("Content-length")),o=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,a=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,s=1048576;o||(s=n);var i=this;i.setDataGetter((e=>{var r=e*s,o=(e+1)*s-1;if(o=Math.min(o,n-1),void 0===i.chunks[e]&&(i.chunks[e]=((e,r)=>{if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",t,!1),n!==s&&o.setRequestHeader("Range","bytes="+e+"-"+r),o.responseType="arraybuffer",o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+t+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):jr(o.responseText||"",!0)})(r,o)),void 0===i.chunks[e])throw new Error("doXHR failed!");return i.chunks[e]})),!a&&n||(s=n=1,n=this.getter(0).length,s=n,x("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=s,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!k)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new a;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var i={isDevice:!1,contents:s}}else i={isDevice:!1,url:t};var u=Ie.createFile(e,r,i,n,o);i.contents?u.contents=i.contents:i.url&&(u.contents=null,u.url=i.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach((e=>{var r=u.stream_ops[e];c[e]=function(){return Ie.forceLoadFile(u),r.apply(null,arguments)}})),c.read=(e,r,t,n,o)=>{Ie.forceLoadFile(u);var a=e.node.contents;if(o>=a.length)return 0;var s=Math.min(a.length-o,n);if(a.slice)for(var i=0;i<s;i++)r[t+i]=a[o+i];else for(i=0;i<s;i++)r[t+i]=a.get(o+i);return s},u.stream_ops=c,u},createPreloadedFile:(e,r,t,n,o,a,s,i,u,c)=>{var d=r?Ce.resolve(Oe.join2(e,r)):e;function f(t){function f(t){c&&c(),i||Ie.createDataFile(e,r,t,n,o,u),a&&a(),_e()}Browser.handledByPreloadPlugin(t,d,f,(()=>{s&&s(),_e()}))||f(t)}ye(),"string"==typeof t?function(e,r,t,n){var o="al "+e;l(e,(function(r){B(r,'Loading data file "'+e+'" failed (no arrayBuffer).'),f(new Uint8Array(r)),o&&_e()}),(function(r){if(!t)throw'Loading data file "'+e+'" failed.';t()})),o&&ye()}(t,0,s):f(t)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var n=Ie.indexedDB();try{var o=n.open(Ie.DB_NAME(),Ie.DB_VERSION)}catch(e){return t(e)}o.onupgradeneeded=()=>{x("creating db"),o.result.createObjectStore(Ie.DB_STORE_NAME)},o.onsuccess=()=>{var n=o.result.transaction([Ie.DB_STORE_NAME],"readwrite"),a=n.objectStore(Ie.DB_STORE_NAME),s=0,i=0,u=e.length;function c(){0==i?r():t()}e.forEach((e=>{var r=a.put(Ie.analyzePath(e).object.contents,e);r.onsuccess=()=>{++s+i==u&&c()},r.onerror=()=>{i++,s+i==u&&c()}})),n.onerror=t},o.onerror=t},loadFilesFromDB:(e,r,t)=>{r=r||(()=>{}),t=t||(()=>{});var n=Ie.indexedDB();try{var o=n.open(Ie.DB_NAME(),Ie.DB_VERSION)}catch(e){return t(e)}o.onupgradeneeded=t,o.onsuccess=()=>{var n=o.result;try{var a=n.transaction([Ie.DB_STORE_NAME],"readonly")}catch(e){return void t(e)}var s=a.objectStore(Ie.DB_STORE_NAME),i=0,u=0,c=e.length;function d(){0==u?r():t()}e.forEach((e=>{var r=s.get(e);r.onsuccess=()=>{Ie.analyzePath(e).exists&&Ie.unlink(e),Ie.createDataFile(Oe.dirname(e),Oe.basename(e),r.result,!0,!0,!0),++i+u==c&&d()},r.onerror=()=>{u++,i+u==c&&d()}})),a.onerror=t},o.onerror=t}},Be={mount:function(e){return d.websocket=d.websocket&&"object"==typeof d.websocket?d.websocket:{},d.websocket._callbacks={},d.websocket.on=function(e,r){return"function"==typeof r&&(this._callbacks[e]=r),this},d.websocket.emit=function(e,r){"function"==typeof this._callbacks[e]&&this._callbacks[e].call(this,r)},Ie.createNode(null,"/",16895,0)},createSocket:function(e,r,t){if(1==(r&=-526337)&&t&&6!=t)throw new Ie.ErrnoError(66);var n={family:e,type:r,protocol:t,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:Be.websocket_sock_ops},o=Be.nextname(),a=Ie.createNode(Be.root,o,49152,0);a.sock=n;var s=Ie.createStream({path:o,node:a,flags:2,seekable:!1,stream_ops:Be.stream_ops});return n.stream=s,n},getSocket:function(e){var r=Ie.getStream(e);return r&&Ie.isSocket(r.node.mode)?r.node.sock:null},stream_ops:{poll:function(e){var r=e.node.sock;return r.sock_ops.poll(r)},ioctl:function(e,r,t){var n=e.node.sock;return n.sock_ops.ioctl(n,r,t)},read:function(e,r,t,n,o){var a=e.node.sock,s=a.sock_ops.recvmsg(a,n);return s?(r.set(s.buffer,t),s.buffer.length):0},write:function(e,r,t,n,o){var a=e.node.sock;return a.sock_ops.sendmsg(a,r,t,n)},close:function(e){var r=e.node.sock;r.sock_ops.close(r)}},nextname:function(){return Be.nextname.current||(Be.nextname.current=0),"socket["+Be.nextname.current+++"]"},websocket_sock_ops:{createPeer:function(e,r,t){var n;if("object"==typeof r&&(n=r,r=null,t=null),n)if(n._socket)r=n._socket.remoteAddress,t=n._socket.remotePort;else{var o=/ws[s]?:\/\/([^:]+):(\d+)/.exec(n.url);if(!o)throw new Error("WebSocket URL must be in the format ws(s)://address:port");r=o[1],t=parseInt(o[2],10)}else try{var a=d.websocket&&"object"==typeof d.websocket,s="ws:#".replace("#","//");if(a&&"string"==typeof d.websocket.url&&(s=d.websocket.url),"ws://"===s||"wss://"===s){var i=r.split("/");s=s+i[0]+":"+t+"/"+i.slice(1).join("/")}var u="binary";a&&"string"==typeof d.websocket.subprotocol&&(u=d.websocket.subprotocol);var c=void 0;"null"!==u&&(u=u.replace(/^ +| +$/g,"").split(/ *, */),c=b?{protocol:u.toString()}:u),a&&null===d.websocket.subprotocol&&(u="null",c=void 0),(n=new(b?require("ws"):WebSocket)(s,c)).binaryType="arraybuffer"}catch(e){throw new Ie.ErrnoError(23)}var f={addr:r,port:t,socket:n,dgram_send_queue:[]};return Be.websocket_sock_ops.addPeer(e,f),Be.websocket_sock_ops.handlePeerEvents(e,f),2===e.type&&void 0!==e.sport&&f.dgram_send_queue.push(new Uint8Array([255,255,255,255,"p".charCodeAt(0),"o".charCodeAt(0),"r".charCodeAt(0),"t".charCodeAt(0),(65280&e.sport)>>8,255&e.sport])),f},getPeer:function(e,r,t){return e.peers[r+":"+t]},addPeer:function(e,r){e.peers[r.addr+":"+r.port]=r},removePeer:function(e,r){delete e.peers[r.addr+":"+r.port]},handlePeerEvents:function(e,r){var t=!0,n=function(){d.websocket.emit("open",e.stream.fd);try{for(var t=r.dgram_send_queue.shift();t;)r.socket.send(t),t=r.dgram_send_queue.shift()}catch(e){r.socket.close()}};function o(n){if("string"==typeof n)n=(new TextEncoder).encode(n);else{if(B(void 0!==n.byteLength),0==n.byteLength)return;n=new Uint8Array(n)}var o=t;if(t=!1,o&&10===n.length&&255===n[0]&&255===n[1]&&255===n[2]&&255===n[3]&&n[4]==="p".charCodeAt(0)&&n[5]==="o".charCodeAt(0)&&n[6]==="r".charCodeAt(0)&&n[7]==="t".charCodeAt(0)){var a=n[8]<<8|n[9];return Be.websocket_sock_ops.removePeer(e,r),r.port=a,void Be.websocket_sock_ops.addPeer(e,r)}e.recv_queue.push({addr:r.addr,port:r.port,data:n}),d.websocket.emit("message",e.stream.fd)}b?(r.socket.on("open",n),r.socket.on("message",(function(e,r){r.binary&&o(new Uint8Array(e).buffer)})),r.socket.on("close",(function(){d.websocket.emit("close",e.stream.fd)})),r.socket.on("error",(function(r){e.error=14,d.websocket.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])}))):(r.socket.onopen=n,r.socket.onclose=function(){d.websocket.emit("close",e.stream.fd)},r.socket.onmessage=function(e){o(e.data)},r.socket.onerror=function(r){e.error=14,d.websocket.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])})},poll:function(e){if(1===e.type&&e.server)return e.pending.length?65:0;var r=0,t=1===e.type?Be.websocket_sock_ops.getPeer(e,e.daddr,e.dport):null;return(e.recv_queue.length||!t||t&&t.socket.readyState===t.socket.CLOSING||t&&t.socket.readyState===t.socket.CLOSED)&&(r|=65),(!t||t&&t.socket.readyState===t.socket.OPEN)&&(r|=4),(t&&t.socket.readyState===t.socket.CLOSING||t&&t.socket.readyState===t.socket.CLOSED)&&(r|=16),r},ioctl:function(e,r,t){if(21531===r){var n=0;return e.recv_queue.length&&(n=e.recv_queue[0].data.length),s()[t>>2]=n,0}return 28},close:function(e){if(e.server){try{e.server.close()}catch(e){}e.server=null}for(var r=Object.keys(e.peers),t=0;t<r.length;t++){var n=e.peers[r[t]];try{n.socket.close()}catch(e){}Be.websocket_sock_ops.removePeer(e,n)}return 0},bind:function(e,r,t){if(void 0!==e.saddr||void 0!==e.sport)throw new Ie.ErrnoError(28);if(e.saddr=r,e.sport=t,2===e.type){e.server&&(e.server.close(),e.server=null);try{e.sock_ops.listen(e,0)}catch(e){if(!(e instanceof Ie.ErrnoError))throw e;if(138!==e.errno)throw e}}},connect:function(e,r,t){if(e.server)throw new Ie.ErrnoError(138);if(void 0!==e.daddr&&void 0!==e.dport){var n=Be.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(n)throw n.socket.readyState===n.socket.CONNECTING?new Ie.ErrnoError(7):new Ie.ErrnoError(30)}var o=Be.websocket_sock_ops.createPeer(e,r,t);throw e.daddr=o.addr,e.dport=o.port,new Ie.ErrnoError(26)},listen:function(e,r){if(!b)throw new Ie.ErrnoError(138);if(e.server)throw new Ie.ErrnoError(28);var t=require("ws").Server,n=e.saddr;e.server=new t({host:n,port:e.sport}),d.websocket.emit("listen",e.stream.fd),e.server.on("connection",(function(r){if(1===e.type){var t=Be.createSocket(e.family,e.type,e.protocol),n=Be.websocket_sock_ops.createPeer(t,r);t.daddr=n.addr,t.dport=n.port,e.pending.push(t),d.websocket.emit("connection",t.stream.fd)}else Be.websocket_sock_ops.createPeer(e,r),d.websocket.emit("connection",e.stream.fd)})),e.server.on("closed",(function(){d.websocket.emit("close",e.stream.fd),e.server=null})),e.server.on("error",(function(r){e.error=23,d.websocket.emit("error",[e.stream.fd,e.error,"EHOSTUNREACH: Host is unreachable"])}))},accept:function(e){if(!e.server||!e.pending.length)throw new Ie.ErrnoError(28);var r=e.pending.shift();return r.stream.flags=e.stream.flags,r},getname:function(e,r){var t,n;if(r){if(void 0===e.daddr||void 0===e.dport)throw new Ie.ErrnoError(53);t=e.daddr,n=e.dport}else t=e.saddr||0,n=e.sport||0;return{addr:t,port:n}},sendmsg:function(e,r,t,n,o,a){if(2===e.type){if(void 0!==o&&void 0!==a||(o=e.daddr,a=e.dport),void 0===o||void 0===a)throw new Ie.ErrnoError(17)}else o=e.daddr,a=e.dport;var s,i=Be.websocket_sock_ops.getPeer(e,o,a);if(1===e.type){if(!i||i.socket.readyState===i.socket.CLOSING||i.socket.readyState===i.socket.CLOSED)throw new Ie.ErrnoError(53);if(i.socket.readyState===i.socket.CONNECTING)throw new Ie.ErrnoError(6)}if(ArrayBuffer.isView(r)&&(t+=r.byteOffset,r=r.buffer),s=r instanceof SharedArrayBuffer?new Uint8Array(new Uint8Array(r.slice(t,t+n))).buffer:r.slice(t,t+n),2===e.type&&(!i||i.socket.readyState!==i.socket.OPEN))return i&&i.socket.readyState!==i.socket.CLOSING&&i.socket.readyState!==i.socket.CLOSED||(i=Be.websocket_sock_ops.createPeer(e,o,a)),i.dgram_send_queue.push(s),n;try{return i.socket.send(s),n}catch(e){throw new Ie.ErrnoError(28)}},recvmsg:function(e,r){if(1===e.type&&e.server)throw new Ie.ErrnoError(53);var t=e.recv_queue.shift();if(!t){if(1===e.type){var n=Be.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(n){if(n.socket.readyState===n.socket.CLOSING||n.socket.readyState===n.socket.CLOSED)return null;throw new Ie.ErrnoError(6)}throw new Ie.ErrnoError(53)}throw new Ie.ErrnoError(6)}var o=t.data.byteLength||t.data.length,a=t.data.byteOffset||0,s=t.data.buffer||t.data,i=Math.min(r,o),u={buffer:new Uint8Array(s,a,i),addr:t.addr,port:t.port};if(1===e.type&&i<o){var c=o-i;t.data=new Uint8Array(s,a+i,c),e.recv_queue.unshift(t)}return u}}};function Ue(e){var r=Be.getSocket(e);if(!r)throw new Ie.ErrnoError(8);return r}function Le(e){return(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function je(e){for(var r=e.split("."),t=0;t<4;t++){var n=Number(r[t]);if(isNaN(n))return null;r[t]=n}return(r[0]|r[1]<<8|r[2]<<16|r[3]<<24)>>>0}function He(e){return parseInt(e)}function We(e){var r,t,n,o,a=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((r=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[r.length-4]=He(r[r.length-4])+256*He(r[r.length-3]),r[r.length-3]=He(r[r.length-2])+256*He(r[r.length-1]),r=r.slice(0,r.length-2)):r=e.split(":"),n=0,o=0,t=0;t<r.length;t++)if("string"==typeof r[t])if("Z"===r[t]){for(o=0;o<8-r.length+1;o++)a[t+o]=0;n=o-1}else a[t+n]=Zr(parseInt(r[t],16));else a[t+n]=r[t];return[a[1]<<16|a[0],a[3]<<16|a[2],a[5]<<16|a[4],a[7]<<16|a[6]]}var qe={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var r,t=je(e);if(null!==t)return e;if(null!==(t=We(e)))return e;if(qe.address_map.addrs[e])r=qe.address_map.addrs[e];else{var n=qe.address_map.id++;B(n<65535,"exceeded max address mappings of 65535"),r="172.29."+(255&n)+"."+(65280&n),qe.address_map.names[r]=e,qe.address_map.addrs[e]=r}return r},lookup_addr:function(e){return qe.address_map.names[e]?qe.address_map.names[e]:null}};function Ye(e,r,t){if(t&&0===e)return null;var n=function(e,r){var t,n=o()[e>>1],i=rt(a()[e+2>>1]);switch(n){case 2:if(16!==r)return{errno:28};t=Le(t=s()[e+4>>2]);break;case 10:if(28!==r)return{errno:28};t=function(e){var r="",t=0,n=0,o=0,a=0,s=0,i=0,u=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],c=!0,d="";for(i=0;i<5;i++)if(0!==u[i]){c=!1;break}if(c){if(d=Le(u[6]|u[7]<<16),-1===u[5])return(r="::ffff:")+d;if(0===u[5])return"0.0.0.0"===d&&(d=""),"0.0.0.1"===d&&(d="1"),(r="::")+d}for(t=0;t<8;t++)0===u[t]&&(t-o>1&&(s=0),o=t,s++),s>n&&(a=t-(n=s)+1);for(t=0;t<8;t++)n>1&&0===u[t]&&t>=a&&t<a+n?t===a&&(r+=":",0===a&&(r+=":")):(r+=Number(rt(65535&u[t])).toString(16),r+=t<7?":":"");return r}(t=[s()[e+8>>2],s()[e+12>>2],s()[e+16>>2],s()[e+20>>2]]);break;default:return{errno:5}}return{family:n,addr:t,port:i}}(e,r);if(n.errno)throw new Ie.ErrnoError(n.errno);return n.addr=qe.lookup_addr(n.addr)||n.addr,n}var Xe={DEFAULT_POLLMASK:5,calculateAt:function(e,r,t){if("/"===r[0])return r;var n;if(-100===e)n=Ie.cwd();else{var o=Ie.getStream(e);if(!o)throw new Ie.ErrnoError(8);n=o.path}if(0==r.length){if(!t)throw new Ie.ErrnoError(44);return n}return Oe.join2(n,r)},doStat:function(e,r,t){try{var n=e(r)}catch(e){if(e&&e.node&&Oe.normalize(r)!==Oe.normalize(Ie.getPath(e.node)))return-54;throw e}return s()[t>>2]=n.dev,s()[t+4>>2]=0,s()[t+8>>2]=n.ino,s()[t+12>>2]=n.mode,s()[t+16>>2]=n.nlink,s()[t+20>>2]=n.uid,s()[t+24>>2]=n.gid,s()[t+28>>2]=n.rdev,s()[t+32>>2]=0,me=[n.size>>>0,(pe=n.size,+Math.abs(pe)>=1?pe>0?(0|Math.min(+Math.floor(pe/4294967296),4294967295))>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],s()[t+40>>2]=me[0],s()[t+44>>2]=me[1],s()[t+48>>2]=4096,s()[t+52>>2]=n.blocks,s()[t+56>>2]=n.atime.getTime()/1e3|0,s()[t+60>>2]=0,s()[t+64>>2]=n.mtime.getTime()/1e3|0,s()[t+68>>2]=0,s()[t+72>>2]=n.ctime.getTime()/1e3|0,s()[t+76>>2]=0,me=[n.ino>>>0,(pe=n.ino,+Math.abs(pe)>=1?pe>0?(0|Math.min(+Math.floor(pe/4294967296),4294967295))>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],s()[t+80>>2]=me[0],s()[t+84>>2]=me[1],0},doMsync:function(e,r,t,o,a){var s=n().slice(e,e+t);Ie.msync(r,s,a,t,o)},doMkdir:function(e,r){return"/"===(e=Oe.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ie.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ie.mknod(e,r,t),0},doReadlink:function(e,r,n){if(n<=0)return-28;var o=Ie.readlink(e),a=Math.min(n,q(o)),s=t()[r+a];return W(o,r,n+1),t()[r+a]=s,a},doAccess:function(e,r){if(-8&r)return-28;var t=Ie.lookupPath(e,{follow:!0}).node;if(!t)return-44;var n="";return 4&r&&(n+="r"),2&r&&(n+="w"),1&r&&(n+="x"),n&&Ie.nodePermissions(t,n)?-2:0},doReadv:function(e,r,n,o){for(var a=0,i=0;i<n;i++){var u=s()[r+8*i>>2],c=s()[r+(8*i+4)>>2],d=Ie.read(e,t(),u,c,o);if(d<0)return-1;if(a+=d,d<c)break}return a},doWritev:function(e,r,n,o){for(var a=0,i=0;i<n;i++){var u=s()[r+8*i>>2],c=s()[r+(8*i+4)>>2],d=Ie.write(e,t(),u,c,o);if(d<0)return-1;a+=d}return a},varargs:void 0,get:function(){return Xe.varargs+=4,s()[Xe.varargs-4>>2]},getStr:function(e){return j(e)},getStreamFromFD:function(e){var r=Ie.getStream(e);if(!r)throw new Ie.ErrnoError(8);return r},get64:function(e,r){return e}};function Ge(e,r,t){if(S)return kr(2,1,e,r,t);try{var n=Ue(e),o=Ye(r,t);return n.sock_ops.bind(n,o.addr,o.port),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function Ve(e,r){if(S)return kr(3,1,e,r);try{return e=Xe.getStr(e),Ie.chmod(e,r),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function Ke(e,r,t){if(S)return kr(4,1,e,r,t);try{var n=Ue(e),o=Ye(r,t);return n.sock_ops.connect(n,o.addr,o.port),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function $e(e,r,t,n){if(S)return kr(5,1,e,r,t,n);try{return r=Xe.getStr(r),r=Xe.calculateAt(e,r),Xe.doAccess(r,t)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function Qe(e,r,t){if(S)return kr(6,1,e,r,t);Xe.varargs=t;try{var n=Xe.getStreamFromFD(e);switch(r){case 0:return(a=Xe.get())<0?-28:Ie.open(n.path,n.flags,0,a).fd;case 1:case 2:case 6:case 7:return 0;case 3:return n.flags;case 4:var a=Xe.get();return n.flags|=a,0;case 5:return a=Xe.get(),o()[a+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return 28,s()[Xr()>>2]=28,-1}}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function Ze(e,r){if(S)return kr(7,1,e,r);try{var t=Xe.getStreamFromFD(e);return Xe.doStat(Ie.stat,t.path,r)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function Je(e,r,t){if(S)return kr(8,1,e,r,t);try{var n=Xe.get64(r,t);return Ie.ftruncate(e,n),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function er(e,r){if(S)return kr(9,1,e,r);try{if(0===r)return-28;var t=Ie.cwd();return r<q(t)+1?-68:(W(t,e,r),e)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function rr(e,r,n){if(S)return kr(10,1,e,r,n);try{var a=Xe.getStreamFromFD(e);a.getdents||(a.getdents=Ie.readdir(a.path));for(var i=280,u=0,c=Ie.llseek(a,0,1),d=Math.floor(c/i);d<a.getdents.length&&u+i<=n;){var f,l,p=a.getdents[d];if("."===p)f=a.node.id,l=4;else if(".."===p)f=Ie.lookupPath(a.path,{parent:!0}).node.id,l=4;else{var m=Ie.lookupNode(a.node,p);f=m.id,l=Ie.isChrdev(m.mode)?2:Ie.isDir(m.mode)?4:Ie.isLink(m.mode)?10:8}me=[f>>>0,(pe=f,+Math.abs(pe)>=1?pe>0?(0|Math.min(+Math.floor(pe/4294967296),4294967295))>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],s()[r+u>>2]=me[0],s()[r+u+4>>2]=me[1],me=[(d+1)*i>>>0,(pe=(d+1)*i,+Math.abs(pe)>=1?pe>0?(0|Math.min(+Math.floor(pe/4294967296),4294967295))>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],s()[r+u+8>>2]=me[0],s()[r+u+12>>2]=me[1],o()[r+u+16>>1]=280,t()[r+u+18>>0]=l,W(p,r+u+19,256),u+=i,d+=1}return Ie.llseek(a,d*i,0),u}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function tr(e,r,t){if(S)return kr(11,1,e,r,t);Xe.varargs=t;try{var n=Xe.getStreamFromFD(e);switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var o=Xe.get();return s()[o>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return o=Xe.get(),Ie.ioctl(n,r,o);default:ge("bad ioctl syscall "+r)}}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function nr(e,r){if(S)return kr(12,1,e,r);try{var t=Ue(e);return t.sock_ops.listen(t,r),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function or(e,r){if(S)return kr(13,1,e,r);try{return e=Xe.getStr(e),Xe.doStat(Ie.lstat,e,r)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function ar(e,r){if(S)return kr(14,1,e,r);try{return e=Xe.getStr(e),Xe.doMkdir(e,r)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function sr(e,r,t,n){if(S)return kr(15,1,e,r,t,n);try{r=Xe.getStr(r);var o=256&n,a=4096&n;return n&=-4353,r=Xe.calculateAt(e,r,a),Xe.doStat(o?Ie.lstat:Ie.stat,r,t)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function ir(e,r,t,n){if(S)return kr(16,1,e,r,t,n);Xe.varargs=n;try{r=Xe.getStr(r),r=Xe.calculateAt(e,r);var o=n?Xe.get():0;return Ie.open(r,t,o).fd}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function ur(e,r,t,n){if(S)return kr(17,1,e,r,t,n);try{return r=Xe.getStr(r),r=Xe.calculateAt(e,r),Xe.doReadlink(r,t,n)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function cr(e,r,t,a,i,u){if(S)return kr(18,1,e,r,t,a,i,u);try{var c=Ue(e),d=c.sock_ops.recvmsg(c,t);return d?(i&&function(e,r,t,n,a){switch(r){case 2:t=je(t),Ae(e,16),a&&(s()[a>>2]=16),o()[e>>1]=r,s()[e+4>>2]=t,o()[e+2>>1]=Zr(n);break;case 10:t=We(t),Ae(e,28),a&&(s()[a>>2]=28),s()[e>>2]=r,s()[e+8>>2]=t[0],s()[e+12>>2]=t[1],s()[e+16>>2]=t[2],s()[e+20>>2]=t[3],o()[e+2>>1]=Zr(n);break;default:;}}(i,c.family,qe.lookup_name(d.addr),d.port,u),n().set(d.buffer,r),d.buffer.byteLength):0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function dr(e,r,t,n){if(S)return kr(19,1,e,r,t,n);try{return r=Xe.getStr(r),n=Xe.getStr(n),r=Xe.calculateAt(e,r),n=Xe.calculateAt(t,n),Ie.rename(r,n),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function fr(e){if(S)return kr(20,1,e);try{return e=Xe.getStr(e),Ie.rmdir(e),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function lr(e,r,n,o,a,s){if(S)return kr(21,1,e,r,n,o,a,s);try{var i=Ue(e),u=Ye(a,s,!0);return u?i.sock_ops.sendmsg(i,t(),r,n,u.addr,u.port):Ie.write(i.stream,t(),r,n)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function pr(e,r,t){if(S)return kr(22,1,e,r,t);try{return Be.createSocket(e,r,t).stream.fd}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function mr(e,r){if(S)return kr(23,1,e,r);try{return e=Xe.getStr(e),Xe.doStat(Ie.stat,e,r)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function hr(e,r,t){if(S)return kr(24,1,e,r,t);try{return r=Xe.getStr(r),r=Xe.calculateAt(e,r),0===t?Ie.unlink(r):512===t?Ie.rmdir(r):ge("Invalid flags passed to unlinkat"),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return-e.errno}}function wr(e,r,t){if(S)return kr(25,1,e,r,t);var n=(new Date).getFullYear(),o=new Date(n,0,1),a=new Date(n,6,1),i=o.getTimezoneOffset(),u=a.getTimezoneOffset(),c=Math.max(i,u);function d(e){var r=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return r?r[1]:"GMT"}s()[e>>2]=60*c,s()[r>>2]=Number(i!=u);var f=d(o),l=d(a),p=J(f),m=J(l);u<i?(s()[t>>2]=p,s()[t+4>>2]=m):(s()[t>>2]=m,s()[t+4>>2]=p)}function vr(){ge("")}d._abort=vr;var yr,_r=[];function gr(){ce+=1}function Er(e){if(S)return kr(26,1,e);z=!1,ce=0,ht(e)}function kr(e,r){var t=arguments.length-2,n=arguments;return Me((function(){for(var o=t,a=it(8*o),s=a>>3,u=0;u<t;u++){var c=n[2+u];i()[s+u]=c}return et(e,o,a,r)}))}yr=b?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:S?()=>performance.now()-d.__performance_now_clock_drift:()=>performance.now();var br=[];function Sr(e){try{return O.grow(e-Y.byteLength+65535>>>16),re(O.buffer),1}catch(e){}}var Dr={};function Mr(){if(!Mr.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(var r in Dr)void 0===Dr[r]?delete e[r]:e[r]=Dr[r];var t=[];for(var r in e)t.push(r+"="+e[r]);Mr.strings=t}return Mr.strings}function Fr(e,r){if(S)return kr(27,1,e,r);var n=0;return Mr().forEach((function(o,a){var i=r+n;s()[e+4*a>>2]=i,function(e,r,n){for(var o=0;o<e.length;++o)t()[r++>>0]=e.charCodeAt(o);t()[r>>0]=0}(o,i),n+=o.length+1})),0}function Ar(e,r){if(S)return kr(28,1,e,r);var t=Mr();s()[e>>2]=t.length;var n=0;return t.forEach((function(e){n+=e.length+1})),s()[r>>2]=n,0}function Pr(e){if(S)return kr(29,1,e);try{var r=Xe.getStreamFromFD(e);return Ie.close(r),0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return e.errno}}function xr(e,r,t,n){if(S)return kr(30,1,e,r,t,n);try{var o=Xe.getStreamFromFD(e),a=Xe.doReadv(o,r,t);return s()[n>>2]=a,0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return e.errno}}function Tr(e,r,t,n,o){if(S)return kr(31,1,e,r,t,n,o);try{var a=Xe.getStreamFromFD(e),i=4294967296*t+(r>>>0),u=9007199254740992;return i<=-u||i>=u?-61:(Ie.llseek(a,i,n),me=[a.position>>>0,(pe=a.position,+Math.abs(pe)>=1?pe>0?(0|Math.min(+Math.floor(pe/4294967296),4294967295))>>>0:~~+Math.ceil((pe-+(~~pe>>>0))/4294967296)>>>0:0)],s()[o>>2]=me[0],s()[o+4>>2]=me[1],a.getdents&&0===i&&0===n&&(a.getdents=null),0)}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return e.errno}}function Rr(e,r,t,n){if(S)return kr(32,1,e,r,t,n);try{var o=Xe.getStreamFromFD(e),a=Xe.doWritev(o,r,t);return s()[n>>2]=a,0}catch(e){if(void 0===Ie||!(e instanceof Ie.ErrnoError))throw e;return e.errno}}function Or(e){return S?kr(33,1,e):function(e){var r=Yr(20),t=Yr(e.length+1);W(e,t,e.length+1),s()[r>>2]=t;var n=Yr(4);s()[n>>2]=0,s()[r+4>>2]=n,s()[r+8>>2]=2,s()[r+12>>2]=4;var o=Yr(12);return s()[o>>2]=o+8,s()[o+4>>2]=0,s()[o+8>>2]=je(qe.lookup_name(e)),s()[r+16>>2]=o,r}(j(e))}function Cr(e){return e%4==0&&(e%100!=0||e%400==0)}var zr=[31,29,31,30,31,30,31,31,30,31,30,31],Nr=[31,28,31,30,31,30,31,31,30,31,30,31];function Ir(e){try{return e()}catch(e){ge(e)}}var Br={State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId:function(e){var r=Br.callStackNameToId[e];return void 0===r&&(r=Br.callStackId++,Br.callStackNameToId[e]=r,Br.callStackIdToName[r]=e),r},instrumentWasmExports:function(e){var r={};for(var t in e)!function(t){var n=e[t];r[t]="function"==typeof n?function(){Br.exportCallStack.push(t);try{return n.apply(null,arguments)}finally{if(!I){var e=Br.exportCallStack.pop();B(e===t),Br.maybeStopUnwind()}}}:n}(t);return r},maybeStopUnwind:function(){Br.currData&&Br.state===Br.State.Unwinding&&0===Br.exportCallStack.length&&(gr(),Br.state=Br.State.Normal,Ir(d._asyncify_stop_unwind),"undefined"!=typeof Fibers&&Fibers.trampoline())},whenDone:function(){return new Promise(((e,r)=>{Br.asyncPromiseHandlers={resolve:e,reject:r}}))},allocateData:function(){var e=Yr(12+Br.StackSize);return Br.setDataHeader(e,e+12,Br.StackSize),Br.setDataRewindFunc(e),e},setDataHeader:function(e,r,t){s()[e>>2]=r,s()[e+4>>2]=r+t},setDataRewindFunc:function(e){var r=Br.exportCallStack[0],t=Br.getCallStackId(r);s()[e+8>>2]=t},getDataRewindFunc:function(e){var r=s()[e+8>>2],t=Br.callStackIdToName[r];return d.asm[t]},doRewind:function(e){var r=Br.getDataRewindFunc(e);return ce-=1,r()},handleSleep:function(e){if(!I){if(Br.state===Br.State.Normal){var r=!1,t=!1;e((e=>{if(!I&&(Br.handleSleepReturnValue=e||0,r=!0,t)){Br.state=Br.State.Rewinding,Ir((()=>d._asyncify_start_rewind(Br.currData))),"undefined"!=typeof Browser&&Browser.mainLoop.func&&Browser.mainLoop.resume();var n,o=!1;try{n=Br.doRewind(Br.currData)}catch(e){n=e,o=!0}var a=!1;if(!Br.currData){var s=Br.asyncPromiseHandlers;s&&(Br.asyncPromiseHandlers=null,(o?s.reject:s.resolve)(n),a=!0)}if(o&&!a)throw n}})),t=!0,r||(Br.state=Br.State.Unwinding,Br.currData=Br.allocateData(),Ir((()=>d._asyncify_start_unwind(Br.currData))),"undefined"!=typeof Browser&&Browser.mainLoop.func&&Browser.mainLoop.pause())}else Br.state===Br.State.Rewinding?(Br.state=Br.State.Normal,Ir(d._asyncify_stop_rewind),qr(Br.currData),Br.currData=null,Br.sleepCallbacks.forEach((e=>function(e,r){if(!ue&&!I)if(r)e();else try{e(),function(){if(!de())try{S?nt(N):Pe(N)}catch(e){xe(e)}}()}catch(e){xe(e)}}(e)))):ge("invalid state: "+Br.state);return Br.handleSleepReturnValue}},handleAsync:function(e){return Br.handleSleep((r=>{e().then(r)}))}};Te.init();var Ur=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ie.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n};Object.defineProperties(Ur.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ie.isDir(this.mode)}},isDevice:{get:function(){return Ie.isChrdev(this.mode)}}}),Ie.FSNode=Ur,Ie.staticInit(),d.FS_createPath=Ie.createPath,d.FS_createPreloadedFile=Ie.createPreloadedFile,d.FS_createDataFile=Ie.createDataFile,d.FS_createPath=Ie.createPath,d.FS_createDataFile=Ie.createDataFile,d.FS_createPreloadedFile=Ie.createPreloadedFile,d.FS_createLazyFile=Ie.createLazyFile,d.FS_createDevice=Ie.createDevice,d.FS_unlink=Ie.unlink;var Lr=[null,Re,Ge,Ve,Ke,$e,Qe,Ze,Je,er,rr,tr,nr,or,ar,sr,ir,ur,cr,dr,fr,lr,pr,mr,hr,wr,Er,Fr,Ar,Pr,xr,Tr,Rr,Or];function jr(e,r,t){var n=t>0?t:q(e)+1,o=new Array(n),a=H(e,o,0,o.length);return r&&(o.length=a),o}var Hr,Wr={t:function(e,r,t,n){ge("Assertion failed: "+j(e)+", at: "+[r?j(r):"unknown filename",t,n?j(n):"unknown function"])},Aa:function(e){Qr(e,!k,1,!E),Te.threadInit()},za:function(e){S?postMessage({cmd:"cleanupThread",thread:e}):Fe(e)},ya:Ge,xa:Ve,wa:Ke,va:$e,c:Qe,ua:Ze,ta:Je,sa:er,ra:rr,qa:tr,pa:nr,oa:or,na:ar,ma:sr,s:ir,la:ur,ka:cr,ja:dr,r:fr,ia:lr,q:pr,ha:mr,p:hr,o:function(){return Date.now()},da:function(){return!0},ca:function(e,r,t,n){if(e==r)setTimeout((()=>{$r()&&Jr(n),Atomics.sub(s(),n>>2,1)}));else if(S)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:n});else{var o=Te.pthreads[e],a=o&&o.worker;if(!a)return;a.postMessage({cmd:"processProxyingQueue",queue:n})}return 1},ba:function(e,r,t){return-1},aa:function(e,r){var t=new Date(1e3*s()[e>>2]);s()[r>>2]=t.getSeconds(),s()[r+4>>2]=t.getMinutes(),s()[r+8>>2]=t.getHours(),s()[r+12>>2]=t.getDate(),s()[r+16>>2]=t.getMonth(),s()[r+20>>2]=t.getFullYear()-1900,s()[r+24>>2]=t.getDay();var n=new Date(t.getFullYear(),0,1),o=(t.getTime()-n.getTime())/864e5|0;s()[r+28>>2]=o,s()[r+36>>2]=-60*t.getTimezoneOffset();var a=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=n.getTimezoneOffset(),u=0|(a!=i&&t.getTimezoneOffset()==Math.min(i,a));s()[r+32>>2]=u},$:function(e){var r=new Date(s()[e+20>>2]+1900,s()[e+16>>2],s()[e+12>>2],s()[e+8>>2],s()[e+4>>2],s()[e>>2],0),t=s()[e+32>>2],n=r.getTimezoneOffset(),o=new Date(r.getFullYear(),0,1),a=new Date(r.getFullYear(),6,1).getTimezoneOffset(),i=o.getTimezoneOffset(),u=Math.min(i,a);if(t<0)s()[e+32>>2]=Number(a!=i&&u==n);else if(t>0!=(u==n)){var c=Math.max(i,a),d=t>0?u:c;r.setTime(r.getTime()+6e4*(d-n))}s()[e+24>>2]=r.getDay();var f=(r.getTime()-o.getTime())/864e5|0;return s()[e+28>>2]=f,s()[e>>2]=r.getSeconds(),s()[e+4>>2]=r.getMinutes(),s()[e+8>>2]=r.getHours(),s()[e+12>>2]=r.getDate(),s()[e+16>>2]=r.getMonth(),r.getTime()/1e3|0},_:function e(r,t,n){e.called||(e.called=!0,wr(r,t,n))},b:vr,Z:function(e){e?self.removeEventListener("message",d.receive):window.removeEventListener("message",d.receive),d.alive=!1,delete d.sync_sleep},Y:function(){d.alive=!1,delete d.sync_sleep},X:function(e,r,t){for(var n=new Uint8Array(t/4*3),o=d.HEAPU8,a=0,s=r;a<n.length;)n[a++]=o[s++],n[a++]=o[s++],n[a++]=o[s++],s++;d.frame_update_lines.push({start:e,heapu8:n}),d.frame_update_lines_transferable.push(n.buffer)},W:function(e,r,t,n,o,a,s,i){registerNames=["al","ah","ax","eax","bl","bh","bx","ebx","cl","ch","cx","ecx","dl","dh","dx","edx","si","esi","di","edi","sp","esp","bp","ebp","ip","eip"],registers=Object.fromEntries(registerNames.map(((e,r)=>[e,d.HEAPU32[(n>>2)+r]]))),d.memoryContents={memBase:e,ip:r,flags:t,registers,segments_values:{es:d.HEAPU16[0+(o>>1)],cs:d.HEAPU16[1+(o>>1)],ss:d.HEAPU16[2+(o>>1)],ds:d.HEAPU16[3+(o>>1)],fs:d.HEAPU16[4+(o>>1)],gs:d.HEAPU16[5+(o>>1)]},segments_physical:{es:d.HEAPU32[0+(a>>2)],cs:d.HEAPU32[1+(a>>2)],ss:d.HEAPU32[2+(a>>2)],ds:d.HEAPU32[3+(a>>2)],fs:d.HEAPU32[4+(a>>2)],gs:d.HEAPU32[5+(a>>2)]},numPages:s,memoryCopy:void 0},i&&(d.memoryContents.memoryCopy=d.HEAPU8.slice(e,e+s/4096*1024*1024))},V:function(){d.frame_update_lines.length>0&&d.sendMessage("ws-update-lines",{lines:d.frame_update_lines},d.frame_update_lines_transferable),delete d.frame_update_lines,delete d.frame_update_lines_transferable},n:function(){if(d.exit)d.exit(),d.cleanup();else{var e="ERR! exitRuntime called without request, asyncify state: "+Br.state;d.err(e)}},U:function(){let e;for(d.FS.chdir("/home/web_user"),d.libzip_progress=function(r,t,n){d.sendMessage("ws-extract-progress",{index:e,file:r,extracted:t,count:n})},e=0;e<d.bundles.length;++e){const r=d.bundles[e],t=d._malloc(r.length);d.HEAPU8.set(r,t);const n=d._zip_to_fs(t,r.length);if(d._free(t),0!==n)return void d.err("Unable to extract bundle archive\n");if(0===e){try{d.FS.readFile("/home/web_user/.jsdos/dosbox.conf")}catch(e){return void d.err("Broken bundle, .jsdos/dosbox.conf not found")}d.fsCreatedAt=d._get_changes_mtime_ms()}}const r=d._getConfigContent(),t=d.UTF8ToString(r);d._free(r),d.sendMessage("ws-config",{content:t}),delete d.libzip_progress,delete d.bundles},m:function(e){return Ie.lookupPath(j(e)).node.timestamp},T:function(){d.FS.chdir("/home/web_user");const e=d._zip_from_fs(d.fsCreatedAt);if(0===e)return d.err("Can't create zip, see more info in logs"),void d._abort();const r=d.HEAPU32[e/4],t=d.HEAPU8.slice(e+4,e+4+r);d._free(e),d.persist(t)},S:function(e,r,t){void 0!==d.libzip_progress&&d.libzip_progress(j(e),r,t)},R:function(e){return void 0!==d.sharedMemory?(d.sendMessage("ws-update-lines",{rgba:e}),!1):(d.frame_update_lines=[],d.frame_update_lines_transferable=[],!0)},Q:function(e,r){d.sendMessage("ws-frame-set-size",{width:e,height:r})},P:function(e){if(void 0!==d.directSound){for(var r={ringSize:d.directSound.ringSize,bufferSize:d.directSound.bufferSize,buffer:[]},t=0;t<r.ringSize;++t)r.buffer.push(d.directSound.buffer[t].buffer);d.sendMessage("ws-sound-init",{freq:e,directSound:r})}else d.sendMessage("ws-sound-init",{freq:e})},O:function(e,r){if(!(r<=0))if(void 0!==d.directSound){var t=d.directSound.buffer[d.directSound.active];t[t.length-1]=r,t.set(d.HEAPF32.subarray(e/4,e/4+r),0),d.directSound.active=(d.directSound.active+1)%d.directSound.ringSize}else{const t=d.HEAPF32.slice(e/4,e/4+r);d.sendMessage("ws-sound-push",{samples:t},[t.buffer])}},N:function(){d.exit=function(){d.sendMessage("ws-exit")}},f:function(e,r,t){var o=function(e,r){var t;for(_r.length=0,r>>=2;t=n()[e++];){var o=t<105;o&&1&r&&r++,_r.push(o?i()[r++>>1]:s()[r]),++r}return _r}(r,t);return Se[e].apply(null,o)},M:function(){b||k||R("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")},L:function(){throw gr(),"unwind"},K:Er,d:yr,J:function(e,r,t){br.length=r;for(var n=t>>3,o=0;o<r;o++)br[o]=i()[n+o];return(e<0?Se[-e-1]:Lr[e]).apply(null,br)},I:function(e){var r=n().length;if((e>>>=0)<=r)return!1;var t,o=2147483648;if(e>o)return!1;for(var a=1;a<=4;a*=2){var s=r*(1+.2/a);if(s=Math.min(s,e+100663296),Sr(Math.min(o,(t=Math.max(e,s))+(65536-t%65536)%65536)))return!0}return!1},H:function(){throw"unwind"},ga:Fr,fa:Ar,e:Pe,g:Pr,ea:xr,C:Tr,i:Rr,G:Or,F:function(e){return d.alive=!0,d.sync_sleep=function(r){if(d.sync_wakeUp)throw new Error("Trying to sleep in sleeping state!");function t(){e?postMessage({name:"ws-sync-sleep",props:{sessionId:d.sessionId}}):window.postMessage({name:"ws-sync-sleep",props:{sessionId:d.sessionId}},"*")}if(d.sync_wakeUp=r,!0===d.paused)var n=setInterval((function(){!1===d.paused&&(clearInterval(n),t())}),16);else t()},d.receive=function(e){if(e.data,"wc-sync-sleep"===e.data.name&&d.sessionId===e.data.props.sessionId){var r=d.sync_wakeUp;delete d.sync_wakeUp,d.alive&&r()}},e?self.addEventListener("message",d.receive,{passive:!0}):window.addEventListener("message",d.receive,{passive:!0}),!0},E:function(){return d.alive=!0,d.sync_sleep=function(e){setTimeout((function(){if(d.alive)if(!0===d.paused)var r=setInterval((function(){!1===d.paused&&(clearInterval(r),e())}),16);else e()}))},!0},l:function(){return"object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node},D:function(){return 0===Br.state?1:0},k:function(){return"function"==typeof importScripts},a:O||d.wasmMemory,j:function(){return d.performance.now()},B:function(e,r,n,o){return function(e,r,n,o){var a=s()[o+40>>2],i={tm_sec:s()[o>>2],tm_min:s()[o+4>>2],tm_hour:s()[o+8>>2],tm_mday:s()[o+12>>2],tm_mon:s()[o+16>>2],tm_year:s()[o+20>>2],tm_wday:s()[o+24>>2],tm_yday:s()[o+28>>2],tm_isdst:s()[o+32>>2],tm_gmtoff:s()[o+36>>2],tm_zone:a?j(a):""},u=j(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var d in c)u=u.replace(new RegExp(d,"g"),c[d]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function p(e,r,t){for(var n="number"==typeof e?e.toString():e||"";n.length<r;)n=t[0]+n;return n}function m(e,r){return p(e,r,"0")}function h(e,r){function t(e){return e<0?-1:e>0?1:0}var n;return 0===(n=t(e.getFullYear()-r.getFullYear()))&&0===(n=t(e.getMonth()-r.getMonth()))&&(n=t(e.getDate()-r.getDate())),n}function w(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function v(e){var r=function(e,r){for(var t=new Date(e.getTime());r>0;){var n=Cr(t.getFullYear()),o=t.getMonth(),a=(n?zr:Nr)[o];if(!(r>a-t.getDate()))return t.setDate(t.getDate()+r),t;r-=a-t.getDate()+1,t.setDate(1),o<11?t.setMonth(o+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}(new Date(e.tm_year+1900,0,1),e.tm_yday),t=new Date(r.getFullYear(),0,4),n=new Date(r.getFullYear()+1,0,4),o=w(t),a=w(n);return h(o,r)<=0?h(a,r)<=0?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}var y={"%a":function(e){return f[e.tm_wday].substring(0,3)},"%A":function(e){return f[e.tm_wday]},"%b":function(e){return l[e.tm_mon].substring(0,3)},"%B":function(e){return l[e.tm_mon]},"%C":function(e){return m((e.tm_year+1900)/100|0,2)},"%d":function(e){return m(e.tm_mday,2)},"%e":function(e){return p(e.tm_mday,2," ")},"%g":function(e){return v(e).toString().substring(2)},"%G":function(e){return v(e)},"%H":function(e){return m(e.tm_hour,2)},"%I":function(e){var r=e.tm_hour;return 0==r?r=12:r>12&&(r-=12),m(r,2)},"%j":function(e){return m(e.tm_mday+function(e,r){for(var t=0,n=0;n<=r;t+=e[n++]);return t}(Cr(e.tm_year+1900)?zr:Nr,e.tm_mon-1),3)},"%m":function(e){return m(e.tm_mon+1,2)},"%M":function(e){return m(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return m(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var r=e.tm_yday+7-e.tm_wday;return m(Math.floor(r/7),2)},"%V":function(e){var r=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&r++,r){if(53==r){var t=(e.tm_wday+371-e.tm_yday)%7;4==t||3==t&&Cr(e.tm_year)||(r=1)}}else{r=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&Cr(e.tm_year%400-1))&&r++}return m(r,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var r=e.tm_yday+7-(e.tm_wday+6)%7;return m(Math.floor(r/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var r=e.tm_gmtoff,t=r>=0;return r=(r=Math.abs(r)/60)/60*100+r%60,(t?"+":"-")+String("0000"+r).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var d in u=u.replace(/%%/g,"\0\0"),y)u.includes(d)&&(u=u.replace(new RegExp(d,"g"),y[d](i)));var _=jr(u=u.replace(/\0\0/g,"%"),!1);return _.length>r?0:(function(e,r){t().set(e,r)}(_,e),_.length-1)}(e,r,n,o)},A:function(){if(!d.sync_sleep)throw new Error("Async environment does not exists");return Br.handleSleep((function(e){d.sync_sleep(e)}))},z:function(e,r){d.sendMessage("ws-err",{tag:j(e),message:j(r)})},y:function(e,r){d.sendMessage("ws-log",{tag:j(e),message:j(r)})},x:function(e,r,t){d.sendMessage("ws-connected",{networkType:e,address:j(r),port:t})},h:function(e){d.sendMessage("ws-disconnected",{networkType:e})},w:function(e,r){d.sendMessage("ws-stdout",{message:j(e,r)})},v:function(e,r){d.sendMessage("ws-warn",{tag:j(e),message:j(r)})},u:function(e){var r="function"==typeof importScripts;function t(e,t,n){(t=t||{}).sessionId=d.sessionId,d.postMessage?d.postMessage(e,t,n):r?postMessage({name:e,props:t},n):window.postMessage({name:e,props:t},"*",n)}function n(e){var r=e.data;void 0===r.name||r.name.length<3||"w"!==r.name[0]||"c"!==r.name[1]||"-"!==r.name[2]||r.props.sessionId===d.sessionId&&function(e){switch(e.name){case"wc-run":d.bundles=e.props.bundles,d._extractBundleToFs(),d._runRuntime(),t("ws-server-ready");break;case"wc-pause":d._requestPause();break;case"wc-resume":d._requestResume();break;case"wc-mute":d._requestMute();break;case"wc-unmute":d._requestUnmute();break;case"wc-exit":try{d._requestExit()}catch(e){if(d.err(e.message),"ExitStatus"!==e.name)throw e}break;case"wc-pack-fs-to-bundle":try{d.persist=function(e){t("ws-persist",{bundle:e},[e.buffer])},d._packFsToBundle(),delete d.persist}catch(e){d.err(e.message)}break;case"wc-add-key":d._addKey(e.props.key,e.props.pressed,e.props.timeMs);break;case"wc-mouse-move":d._mouseMove(e.props.x,e.props.y,e.props.relative,e.props.timeMs);break;case"wc-mouse-button":d._mouseButton(e.props.button,e.props.pressed,e.props.timeMs);break;case"wc-mouse-sync":d._mouseSync(e.props.timeMs);break;case"wc-sync-sleep":break;case"wc-connect":{const r=d.mallocString(e.props.address);d._networkConnect(e.props.networkType,r,e.props.port),d._free(r)}break;case"wc-disconnect":d._networkDisconnect(e.props.networkType);break;default:console.log("Unknown client message (wc): "+JSON.stringify(e))}}(r)}if(d.sessionId=j(e),d.sendMessage=t,d.ping=function(e){},d.log=function(e){t("ws-log",{tag:"worker",message:e})},d.warn=function(e){t("ws-warn",{tag:"worker",message:e})},d.err=function(e){t("ws-err",{tag:"panic",message:e})},d.print=d.log,d.printErr=d.err,d.mallocString=function(e){const r=d.lengthBytesUTF8(e)+1,t=d._malloc(r);return d.stringToUTF8(e,t,r),t},d.postMessage?(d.messageHandler=n,d.cleanup=function(){}):r?(onmessage=n,d.cleanup=function(){}):(window.addEventListener("message",n,{passive:!0}),d.cleanup=function(){window.removeEventListener("message",n)}),r){if("undefined"!=typeof SharedArrayBuffer&&d.HEAPU8.buffer instanceof SharedArrayBuffer){d.sharedMemory=d.HEAPU8.buffer,d.directSound={ringSize:32,bufferSize:2049,buffer:[],active:0};for(var o=0;o<d.directSound.ringSize;++o){var a=new SharedArrayBuffer(4*d.directSound.bufferSize);d.directSound.buffer.push(new Float32Array(a))}}}else for(d.sharedMemory=d.HEAPU8.buffer,d.directSound={ringSize:32,bufferSize:2049,buffer:[],active:0},o=0;o<d.directSound.ringSize;++o)d.directSound.buffer.push(new Float32Array(d.directSound.bufferSize));t("ws-ready",{sharedMemory:d.sharedMemory})}},qr=(function(){var e={a:Wr};function r(e,r){var t,n,o=e.exports;o=Br.instrumentWasmExports(o),d.asm=o,t=d.asm.cb,Te.tlsInitFunctions.push(t),d.asm.jb,n=d.asm.Ba,oe.unshift(n),C=r,S||_e()}function t(e){r(e.instance,e.module)}function n(r){return function(){if(!P&&(E||k)){if("function"==typeof fetch&&!ke(le))return fetch(le,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+le+"'";return e.arrayBuffer()})).catch((function(){return be(le)}));if(l)return new Promise((function(e,r){l(le,(function(r){e(new Uint8Array(r))}),r)}))}return Promise.resolve().then((function(){return be(le)}))}().then((function(r){return WebAssembly.instantiate(r,e)})).then((function(e){return e})).then(r,(function(e){T("failed to asynchronously prepare wasm: "+e),ge(e)}))}if(S||ye(),d.instantiateWasm)try{var o=d.instantiateWasm(e,r);return Br.instrumentWasmExports(o)}catch(e){return T("Module.instantiateWasm callback failed with error: "+e),!1}(P||"function"!=typeof WebAssembly.instantiateStreaming||Ee(le)||ke(le)||"function"!=typeof fetch?n(t):fetch(le,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(t,(function(e){return T("wasm streaming compile failed: "+e),T("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.Ba).apply(null,arguments)},d._free=function(){return(qr=d._free=d.asm.Ca).apply(null,arguments)}),Yr=d._malloc=function(){return(Yr=d._malloc=d.asm.Da).apply(null,arguments)},Xr=d.___errno_location=function(){return(Xr=d.___errno_location=d.asm.Ea).apply(null,arguments)},Gr=(d._get_changes_mtime_ms=function(){return(d._get_changes_mtime_ms=d.asm.Fa).apply(null,arguments)},d._zip_from_fs=function(){return(d._zip_from_fs=d.asm.Ga).apply(null,arguments)},d._zip_to_fs=function(){return(d._zip_to_fs=d.asm.Ha).apply(null,arguments)},d._zipfile_to_fs=function(){return(d._zipfile_to_fs=d.asm.Ia).apply(null,arguments)},d._libzip_destroy=function(){return(d._libzip_destroy=d.asm.Ja).apply(null,arguments)},d._networkConnect=function(){return(d._networkConnect=d.asm.Ka).apply(null,arguments)},d._networkDisconnect=function(){return(d._networkDisconnect=d.asm.La).apply(null,arguments)},d._extractBundleToFs=function(){return(d._extractBundleToFs=d.asm.Ma).apply(null,arguments)},d._packFsToBundle=function(){return(d._packFsToBundle=d.asm.Na).apply(null,arguments)},d._addKey=function(){return(d._addKey=d.asm.Oa).apply(null,arguments)},d._mouseMove=function(){return(d._mouseMove=d.asm.Pa).apply(null,arguments)},d._mouseButton=function(){return(d._mouseButton=d.asm.Qa).apply(null,arguments)},d._mouseSync=function(){return(d._mouseSync=d.asm.Ra).apply(null,arguments)},d._exitRuntime=function(){return(d._exitRuntime=d.asm.Sa).apply(null,arguments)},d._runRuntime=function(){return(d._runRuntime=d.asm.Ta).apply(null,arguments)},d._requestPause=function(){return(d._requestPause=d.asm.Ua).apply(null,arguments)},d._requestResume=function(){return(d._requestResume=d.asm.Va).apply(null,arguments)},d._requestMute=function(){return(d._requestMute=d.asm.Wa).apply(null,arguments)},d._requestUnmute=function(){return(d._requestUnmute=d.asm.Xa).apply(null,arguments)},d._requestExit=function(){return(d._requestExit=d.asm.Ya).apply(null,arguments)},d._getConfigContent=function(){return(d._getConfigContent=d.asm.Za).apply(null,arguments)},d._main=function(){return(d._main=d.asm._a).apply(null,arguments)},d._dumpMemory=function(){return(d._dumpMemory=d.asm.$a).apply(null,arguments)},d._rescanFilesystem=function(){return(d._rescanFilesystem=d.asm.ab).apply(null,arguments)},d._pauseExecution=function(){return(d._pauseExecution=d.asm.bb).apply(null,arguments)},d._emscripten_tls_init=function(){return(d._emscripten_tls_init=d.asm.cb).apply(null,arguments)},d._emscripten_builtin_memalign=function(){return(Gr=d._emscripten_builtin_memalign=d.asm.db).apply(null,arguments)}),Vr=d.___stdio_exit=function(){return(Vr=d.___stdio_exit=d.asm.eb).apply(null,arguments)},Kr=d.___funcs_on_exit=function(){return(Kr=d.___funcs_on_exit=d.asm.fb).apply(null,arguments)},$r=d._pthread_self=function(){return($r=d._pthread_self=d.asm.gb).apply(null,arguments)},Qr=d.__emscripten_thread_init=function(){return(Qr=d.__emscripten_thread_init=d.asm.hb).apply(null,arguments)},Zr=(d.__emscripten_thread_crashed=function(){return(d.__emscripten_thread_crashed=d.asm.ib).apply(null,arguments)},d._htons=function(){return(Zr=d._htons=d.asm.kb).apply(null,arguments)}),Jr=d._emscripten_proxy_execute_queue=function(){return(Jr=d._emscripten_proxy_execute_queue=d.asm.lb).apply(null,arguments)},et=d._emscripten_run_in_main_runtime_thread_js=function(){return(et=d._emscripten_run_in_main_runtime_thread_js=d.asm.mb).apply(null,arguments)},rt=d._ntohs=function(){return(rt=d._ntohs=d.asm.nb).apply(null,arguments)},tt=d.__emscripten_thread_free_data=function(){return(tt=d.__emscripten_thread_free_data=d.asm.ob).apply(null,arguments)},nt=d.__emscripten_thread_exit=function(){return(nt=d.__emscripten_thread_exit=d.asm.pb).apply(null,arguments)},ot=d._emscripten_stack_set_limits=function(){return(ot=d._emscripten_stack_set_limits=d.asm.qb).apply(null,arguments)},at=d.stackSave=function(){return(at=d.stackSave=d.asm.rb).apply(null,arguments)},st=d.stackRestore=function(){return(st=d.stackRestore=d.asm.sb).apply(null,arguments)},it=d.stackAlloc=function(){return(it=d.stackAlloc=d.asm.tb).apply(null,arguments)},ut=d.dynCall_vi=function(){return(ut=d.dynCall_vi=d.asm.ub).apply(null,arguments)},ct=d.dynCall_v=function(){return(ct=d.dynCall_v=d.asm.vb).apply(null,arguments)},dt=d.dynCall_ii=function(){return(dt=d.dynCall_ii=d.asm.wb).apply(null,arguments)},ft=(d._asyncify_start_unwind=function(){return(d._asyncify_start_unwind=d.asm.xb).apply(null,arguments)},d._asyncify_stop_unwind=function(){return(d._asyncify_stop_unwind=d.asm.yb).apply(null,arguments)},d._asyncify_start_rewind=function(){return(d._asyncify_start_rewind=d.asm.zb).apply(null,arguments)},d._asyncify_stop_rewind=function(){return(d._asyncify_stop_rewind=d.asm.Ab).apply(null,arguments)},d.__emscripten_allow_main_runtime_queued_calls=265392);function lt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function pt(e){var r=d._main,t=(e=e||[]).length+1,n=it(4*(t+1));s()[n>>2]=ee(_);for(var o=1;o<t;o++)s()[(n>>2)+o]=ee(e[o-1]);s()[(n>>2)+t]=0;try{var a=r(t,n);return ht(a,!0),a}catch(e){return xe(e)}}function mt(e){if(e=e||y,!(he>0)){if(S)return u(d),fe(),void postMessage({cmd:"loaded"});!function(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)e=d.preRun.shift(),ne.unshift(e);var e;De(ne)}(),he>0||(d.setStatus?(d.setStatus("Running..."),setTimeout((function(){setTimeout((function(){d.setStatus("")}),1),r()}),1)):r())}function r(){Hr||(Hr=!0,d.calledRun=!0,I||(fe(),S||De(ae),u(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),wt&&pt(e),function(){if(!S){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)e=d.postRun.shift(),ie.unshift(e);var e;De(ie)}}()))}}function ht(e,r){if(N=e,!r&&S)throw Re(e),"unwind";var t;de()||S||(Kr(),De(se),Ie.quit(),ze.shutdown(),Te.terminateAllThreads(),ue=!0),N=t=e,de()||(Te.terminateAllThreads(),d.onExit&&d.onExit(t),I=!0),g(t,new lt(t))}if(d.UTF8ToString=j,d.stringToUTF8=W,d.lengthBytesUTF8=q,d.addRunDependency=ye,d.removeRunDependency=_e,d.FS_createPath=Ie.createPath,d.FS_createDataFile=Ie.createDataFile,d.FS_createPreloadedFile=Ie.createPreloadedFile,d.FS_createLazyFile=Ie.createLazyFile,d.FS_createDevice=Ie.createDevice,d.FS_unlink=Ie.unlink,d.callMain=pt,d.keepRuntimeAlive=de,d.FS=Ie,d.PThread=Te,d.UTF16ToString=function(e,r){for(var t=e,s=t>>1,i=s+r/2;!(s>=i)&&a()[s];)++s;if((t=s<<1)-e>32&&Z)return Z.decode(n().slice(e,t));for(var u="",c=0;!(c>=r/2);++c){var d=o()[e+2*c>>1];if(0==d)break;u+=String.fromCharCode(d)}return u},d.PThread=Te,d.wasmMemory=O,d.ExitStatus=lt,ve=function e(){Hr||mt(),Hr||(ve=e)},d.run=mt,d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var wt=!1;return d.noInitialRun&&(wt=!1),mt(),r.ready}})();"object"==typeof exports&&"object"==typeof module?module.exports=WDOSBOX:"function"==typeof define&&define.amd?define([],(function(){return WDOSBOX})):"object"==typeof exports&&(exports.WDOSBOX=WDOSBOX);var worker="function"==typeof importScripts;worker&&(onmessage=e=>{const r=e.data;if(void 0!==r&&"wc-install"===r.name){const e=r.props.sessionId,t={};if(void 0!==r.props.module){const e=r.props.module,n=(r,t)=>{r.env=r.env||{},WebAssembly.instantiate(e,r).then((r=>t(r,e)))};t.instantiateWasm=n}return t.onRuntimeInitialized=()=>{t.callMain([e])},void new WDOSBOX(t)}});