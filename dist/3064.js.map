{"version":3,"file":"3064.js","mappings":"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","sources":["file:////home/j/code/web3os/@web3os-core/kernel/node_modules/.pnpm/arg@5.0.2/node_modules/arg/index.js","file:////home/j/code/web3os/@web3os-core/kernel/node_modules/.pnpm/peerjs@2.0.0-beta.3/node_modules/peerjs/dist/peerjs.esm.js","file:////home/j/code/web3os/@web3os-core/kernel/node_modules/.pnpm/shell-quote@1.7.3/node_modules/shell-quote/index.js"],"sourcesContent":["const flagSymbol = Symbol('arg flag');\n\nclass ArgError extends Error {\n\tconstructor(msg, code) {\n\t\tsuper(msg);\n\t\tthis.name = 'ArgError';\n\t\tthis.code = code;\n\n\t\tObject.setPrototypeOf(this, ArgError.prototype);\n\t}\n}\n\nfunction arg(\n\topts,\n\t{\n\t\targv = process.argv.slice(2),\n\t\tpermissive = false,\n\t\tstopAtPositional = false\n\t} = {}\n) {\n\tif (!opts) {\n\t\tthrow new ArgError(\n\t\t\t'argument specification object is required',\n\t\t\t'ARG_CONFIG_NO_SPEC'\n\t\t);\n\t}\n\n\tconst result = { _: [] };\n\n\tconst aliases = {};\n\tconst handlers = {};\n\n\tfor (const key of Object.keys(opts)) {\n\t\tif (!key) {\n\t\t\tthrow new ArgError(\n\t\t\t\t'argument key cannot be an empty string',\n\t\t\t\t'ARG_CONFIG_EMPTY_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key[0] !== '-') {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must start with '-' but found: '${key}'`,\n\t\t\t\t'ARG_CONFIG_NONOPT_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key.length === 1) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must have a name; singular '-' keys are not allowed: ${key}`,\n\t\t\t\t'ARG_CONFIG_NONAME_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (typeof opts[key] === 'string') {\n\t\t\taliases[key] = opts[key];\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet type = opts[key];\n\t\tlet isFlag = false;\n\n\t\tif (\n\t\t\tArray.isArray(type) &&\n\t\t\ttype.length === 1 &&\n\t\t\ttypeof type[0] === 'function'\n\t\t) {\n\t\t\tconst [fn] = type;\n\t\t\ttype = (value, name, prev = []) => {\n\t\t\t\tprev.push(fn(value, name, prev[prev.length - 1]));\n\t\t\t\treturn prev;\n\t\t\t};\n\t\t\tisFlag = fn === Boolean || fn[flagSymbol] === true;\n\t\t} else if (typeof type === 'function') {\n\t\t\tisFlag = type === Boolean || type[flagSymbol] === true;\n\t\t} else {\n\t\t\tthrow new ArgError(\n\t\t\t\t`type missing or not a function or valid array type: ${key}`,\n\t\t\t\t'ARG_CONFIG_VAD_TYPE'\n\t\t\t);\n\t\t}\n\n\t\tif (key[1] !== '-' && key.length > 2) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`short argument keys (with a single hyphen) must have only one character: ${key}`,\n\t\t\t\t'ARG_CONFIG_SHORTOPT_TOOLONG'\n\t\t\t);\n\t\t}\n\n\t\thandlers[key] = [type, isFlag];\n\t}\n\n\tfor (let i = 0, len = argv.length; i < len; i++) {\n\t\tconst wholeArg = argv[i];\n\n\t\tif (stopAtPositional && result._.length > 0) {\n\t\t\tresult._ = result._.concat(argv.slice(i));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg === '--') {\n\t\t\tresult._ = result._.concat(argv.slice(i + 1));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg.length > 1 && wholeArg[0] === '-') {\n\t\t\t/* eslint-disable operator-linebreak */\n\t\t\tconst separatedArguments =\n\t\t\t\twholeArg[1] === '-' || wholeArg.length === 2\n\t\t\t\t\t? [wholeArg]\n\t\t\t\t\t: wholeArg\n\t\t\t\t\t\t\t.slice(1)\n\t\t\t\t\t\t\t.split('')\n\t\t\t\t\t\t\t.map((a) => `-${a}`);\n\t\t\t/* eslint-enable operator-linebreak */\n\n\t\t\tfor (let j = 0; j < separatedArguments.length; j++) {\n\t\t\t\tconst arg = separatedArguments[j];\n\t\t\t\tconst [originalArgName, argStr] =\n\t\t\t\t\targ[1] === '-' ? arg.split(/=(.*)/, 2) : [arg, undefined];\n\n\t\t\t\tlet argName = originalArgName;\n\t\t\t\twhile (argName in aliases) {\n\t\t\t\t\targName = aliases[argName];\n\t\t\t\t}\n\n\t\t\t\tif (!(argName in handlers)) {\n\t\t\t\t\tif (permissive) {\n\t\t\t\t\t\tresult._.push(arg);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`unknown or unexpected option: ${originalArgName}`,\n\t\t\t\t\t\t\t'ARG_UNKNOWN_OPTION'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst [type, isFlag] = handlers[argName];\n\n\t\t\t\tif (!isFlag && j + 1 < separatedArguments.length) {\n\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t`option requires argument (but was followed by another short argument): ${originalArgName}`,\n\t\t\t\t\t\t'ARG_MISSING_REQUIRED_SHORTARG'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (isFlag) {\n\t\t\t\t\tresult[argName] = type(true, argName, result[argName]);\n\t\t\t\t} else if (argStr === undefined) {\n\t\t\t\t\tif (\n\t\t\t\t\t\targv.length < i + 2 ||\n\t\t\t\t\t\t(argv[i + 1].length > 1 &&\n\t\t\t\t\t\t\targv[i + 1][0] === '-' &&\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\targv[i + 1].match(/^-?\\d*(\\.(?=\\d))?\\d*$/) &&\n\t\t\t\t\t\t\t\t(type === Number ||\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\t\t\t\t\t\t(typeof BigInt !== 'undefined' && type === BigInt))\n\t\t\t\t\t\t\t))\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst extended =\n\t\t\t\t\t\t\toriginalArgName === argName ? '' : ` (alias for ${argName})`;\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`option requires argument: ${originalArgName}${extended}`,\n\t\t\t\t\t\t\t'ARG_MISSING_REQUIRED_LONGARG'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[argName] = type(argv[i + 1], argName, result[argName]);\n\t\t\t\t\t++i;\n\t\t\t\t} else {\n\t\t\t\t\tresult[argName] = type(argStr, argName, result[argName]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tresult._.push(wholeArg);\n\t\t}\n\t}\n\n\treturn result;\n}\n\narg.flag = (fn) => {\n\tfn[flagSymbol] = true;\n\treturn fn;\n};\n\n// Utility types\narg.COUNT = arg.flag((v, name, existingCount) => (existingCount || 0) + 1);\n\n// Expose error class\narg.ArgError = ArgError;\n\nmodule.exports = arg;\n","var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __markAsModule = (target) => __defProp(target, \"__esModule\", { value: true });\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __reExport = (target, module, copyDefault, desc) => {\n  if (module && typeof module === \"object\" || typeof module === \"function\") {\n    for (let key of __getOwnPropNames(module))\n      if (!__hasOwnProp.call(target, key) && (copyDefault || key !== \"default\"))\n        __defProp(target, key, { get: () => module[key], enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });\n  }\n  return target;\n};\nvar __toESM = (module, isNodeMode) => {\n  return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, \"default\", !isNodeMode && module && module.__esModule ? { get: () => module.default, enumerable: true } : { value: module, enumerable: true })), module);\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// node_modules/peerjs-js-binarypack/lib/bufferbuilder.js\nvar require_bufferbuilder = __commonJS({\n  \"node_modules/peerjs-js-binarypack/lib/bufferbuilder.js\"(exports, module) {\n    var binaryFeatures = {};\n    binaryFeatures.useBlobBuilder = function() {\n      try {\n        new Blob([]);\n        return false;\n      } catch (e) {\n        return true;\n      }\n    }();\n    binaryFeatures.useArrayBufferView = !binaryFeatures.useBlobBuilder && function() {\n      try {\n        return new Blob([new Uint8Array([])]).size === 0;\n      } catch (e) {\n        return true;\n      }\n    }();\n    module.exports.binaryFeatures = binaryFeatures;\n    var BlobBuilder = module.exports.BlobBuilder;\n    if (typeof window !== \"undefined\") {\n      BlobBuilder = module.exports.BlobBuilder = window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder || window.BlobBuilder;\n    }\n    function BufferBuilder() {\n      this._pieces = [];\n      this._parts = [];\n    }\n    BufferBuilder.prototype.append = function(data) {\n      if (typeof data === \"number\") {\n        this._pieces.push(data);\n      } else {\n        this.flush();\n        this._parts.push(data);\n      }\n    };\n    BufferBuilder.prototype.flush = function() {\n      if (this._pieces.length > 0) {\n        var buf = new Uint8Array(this._pieces);\n        if (!binaryFeatures.useArrayBufferView) {\n          buf = buf.buffer;\n        }\n        this._parts.push(buf);\n        this._pieces = [];\n      }\n    };\n    BufferBuilder.prototype.getBuffer = function() {\n      this.flush();\n      if (binaryFeatures.useBlobBuilder) {\n        var builder = new BlobBuilder();\n        for (var i = 0, ii = this._parts.length; i < ii; i++) {\n          builder.append(this._parts[i]);\n        }\n        return builder.getBlob();\n      } else {\n        return new Blob(this._parts);\n      }\n    };\n    module.exports.BufferBuilder = BufferBuilder;\n  }\n});\n\n// node_modules/peerjs-js-binarypack/lib/binarypack.js\nvar require_binarypack = __commonJS({\n  \"node_modules/peerjs-js-binarypack/lib/binarypack.js\"(exports, module) {\n    var BufferBuilder = require_bufferbuilder().BufferBuilder;\n    var binaryFeatures = require_bufferbuilder().binaryFeatures;\n    var BinaryPack2 = {\n      unpack: function(data) {\n        var unpacker = new Unpacker(data);\n        return unpacker.unpack();\n      },\n      pack: function(data) {\n        var packer = new Packer();\n        packer.pack(data);\n        var buffer = packer.getBuffer();\n        return buffer;\n      }\n    };\n    module.exports = BinaryPack2;\n    function Unpacker(data) {\n      this.index = 0;\n      this.dataBuffer = data;\n      this.dataView = new Uint8Array(this.dataBuffer);\n      this.length = this.dataBuffer.byteLength;\n    }\n    Unpacker.prototype.unpack = function() {\n      var type = this.unpack_uint8();\n      if (type < 128) {\n        return type;\n      } else if ((type ^ 224) < 32) {\n        return (type ^ 224) - 32;\n      }\n      var size;\n      if ((size = type ^ 160) <= 15) {\n        return this.unpack_raw(size);\n      } else if ((size = type ^ 176) <= 15) {\n        return this.unpack_string(size);\n      } else if ((size = type ^ 144) <= 15) {\n        return this.unpack_array(size);\n      } else if ((size = type ^ 128) <= 15) {\n        return this.unpack_map(size);\n      }\n      switch (type) {\n        case 192:\n          return null;\n        case 193:\n          return void 0;\n        case 194:\n          return false;\n        case 195:\n          return true;\n        case 202:\n          return this.unpack_float();\n        case 203:\n          return this.unpack_double();\n        case 204:\n          return this.unpack_uint8();\n        case 205:\n          return this.unpack_uint16();\n        case 206:\n          return this.unpack_uint32();\n        case 207:\n          return this.unpack_uint64();\n        case 208:\n          return this.unpack_int8();\n        case 209:\n          return this.unpack_int16();\n        case 210:\n          return this.unpack_int32();\n        case 211:\n          return this.unpack_int64();\n        case 212:\n          return void 0;\n        case 213:\n          return void 0;\n        case 214:\n          return void 0;\n        case 215:\n          return void 0;\n        case 216:\n          size = this.unpack_uint16();\n          return this.unpack_string(size);\n        case 217:\n          size = this.unpack_uint32();\n          return this.unpack_string(size);\n        case 218:\n          size = this.unpack_uint16();\n          return this.unpack_raw(size);\n        case 219:\n          size = this.unpack_uint32();\n          return this.unpack_raw(size);\n        case 220:\n          size = this.unpack_uint16();\n          return this.unpack_array(size);\n        case 221:\n          size = this.unpack_uint32();\n          return this.unpack_array(size);\n        case 222:\n          size = this.unpack_uint16();\n          return this.unpack_map(size);\n        case 223:\n          size = this.unpack_uint32();\n          return this.unpack_map(size);\n      }\n    };\n    Unpacker.prototype.unpack_uint8 = function() {\n      var byte = this.dataView[this.index] & 255;\n      this.index++;\n      return byte;\n    };\n    Unpacker.prototype.unpack_uint16 = function() {\n      var bytes = this.read(2);\n      var uint16 = (bytes[0] & 255) * 256 + (bytes[1] & 255);\n      this.index += 2;\n      return uint16;\n    };\n    Unpacker.prototype.unpack_uint32 = function() {\n      var bytes = this.read(4);\n      var uint32 = ((bytes[0] * 256 + bytes[1]) * 256 + bytes[2]) * 256 + bytes[3];\n      this.index += 4;\n      return uint32;\n    };\n    Unpacker.prototype.unpack_uint64 = function() {\n      var bytes = this.read(8);\n      var uint64 = ((((((bytes[0] * 256 + bytes[1]) * 256 + bytes[2]) * 256 + bytes[3]) * 256 + bytes[4]) * 256 + bytes[5]) * 256 + bytes[6]) * 256 + bytes[7];\n      this.index += 8;\n      return uint64;\n    };\n    Unpacker.prototype.unpack_int8 = function() {\n      var uint8 = this.unpack_uint8();\n      return uint8 < 128 ? uint8 : uint8 - (1 << 8);\n    };\n    Unpacker.prototype.unpack_int16 = function() {\n      var uint16 = this.unpack_uint16();\n      return uint16 < 32768 ? uint16 : uint16 - (1 << 16);\n    };\n    Unpacker.prototype.unpack_int32 = function() {\n      var uint32 = this.unpack_uint32();\n      return uint32 < Math.pow(2, 31) ? uint32 : uint32 - Math.pow(2, 32);\n    };\n    Unpacker.prototype.unpack_int64 = function() {\n      var uint64 = this.unpack_uint64();\n      return uint64 < Math.pow(2, 63) ? uint64 : uint64 - Math.pow(2, 64);\n    };\n    Unpacker.prototype.unpack_raw = function(size) {\n      if (this.length < this.index + size) {\n        throw new Error(\"BinaryPackFailure: index is out of range \" + this.index + \" \" + size + \" \" + this.length);\n      }\n      var buf = this.dataBuffer.slice(this.index, this.index + size);\n      this.index += size;\n      return buf;\n    };\n    Unpacker.prototype.unpack_string = function(size) {\n      var bytes = this.read(size);\n      var i = 0;\n      var str = \"\";\n      var c;\n      var code;\n      while (i < size) {\n        c = bytes[i];\n        if (c < 128) {\n          str += String.fromCharCode(c);\n          i++;\n        } else if ((c ^ 192) < 32) {\n          code = (c ^ 192) << 6 | bytes[i + 1] & 63;\n          str += String.fromCharCode(code);\n          i += 2;\n        } else {\n          code = (c & 15) << 12 | (bytes[i + 1] & 63) << 6 | bytes[i + 2] & 63;\n          str += String.fromCharCode(code);\n          i += 3;\n        }\n      }\n      this.index += size;\n      return str;\n    };\n    Unpacker.prototype.unpack_array = function(size) {\n      var objects = new Array(size);\n      for (var i = 0; i < size; i++) {\n        objects[i] = this.unpack();\n      }\n      return objects;\n    };\n    Unpacker.prototype.unpack_map = function(size) {\n      var map = {};\n      for (var i = 0; i < size; i++) {\n        var key = this.unpack();\n        var value = this.unpack();\n        map[key] = value;\n      }\n      return map;\n    };\n    Unpacker.prototype.unpack_float = function() {\n      var uint32 = this.unpack_uint32();\n      var sign = uint32 >> 31;\n      var exp = (uint32 >> 23 & 255) - 127;\n      var fraction = uint32 & 8388607 | 8388608;\n      return (sign === 0 ? 1 : -1) * fraction * Math.pow(2, exp - 23);\n    };\n    Unpacker.prototype.unpack_double = function() {\n      var h32 = this.unpack_uint32();\n      var l32 = this.unpack_uint32();\n      var sign = h32 >> 31;\n      var exp = (h32 >> 20 & 2047) - 1023;\n      var hfrac = h32 & 1048575 | 1048576;\n      var frac = hfrac * Math.pow(2, exp - 20) + l32 * Math.pow(2, exp - 52);\n      return (sign === 0 ? 1 : -1) * frac;\n    };\n    Unpacker.prototype.read = function(length) {\n      var j = this.index;\n      if (j + length <= this.length) {\n        return this.dataView.subarray(j, j + length);\n      } else {\n        throw new Error(\"BinaryPackFailure: read index out of range\");\n      }\n    };\n    function Packer() {\n      this.bufferBuilder = new BufferBuilder();\n    }\n    Packer.prototype.getBuffer = function() {\n      return this.bufferBuilder.getBuffer();\n    };\n    Packer.prototype.pack = function(value) {\n      var type = typeof value;\n      if (type === \"string\") {\n        this.pack_string(value);\n      } else if (type === \"number\") {\n        if (Math.floor(value) === value) {\n          this.pack_integer(value);\n        } else {\n          this.pack_double(value);\n        }\n      } else if (type === \"boolean\") {\n        if (value === true) {\n          this.bufferBuilder.append(195);\n        } else if (value === false) {\n          this.bufferBuilder.append(194);\n        }\n      } else if (type === \"undefined\") {\n        this.bufferBuilder.append(192);\n      } else if (type === \"object\") {\n        if (value === null) {\n          this.bufferBuilder.append(192);\n        } else {\n          var constructor = value.constructor;\n          if (constructor == Array) {\n            this.pack_array(value);\n          } else if (constructor == Blob || constructor == File || value instanceof Blob || value instanceof File) {\n            this.pack_bin(value);\n          } else if (constructor == ArrayBuffer) {\n            if (binaryFeatures.useArrayBufferView) {\n              this.pack_bin(new Uint8Array(value));\n            } else {\n              this.pack_bin(value);\n            }\n          } else if (\"BYTES_PER_ELEMENT\" in value) {\n            if (binaryFeatures.useArrayBufferView) {\n              this.pack_bin(new Uint8Array(value.buffer));\n            } else {\n              this.pack_bin(value.buffer);\n            }\n          } else if (constructor == Object || constructor.toString().startsWith(\"class\")) {\n            this.pack_object(value);\n          } else if (constructor == Date) {\n            this.pack_string(value.toString());\n          } else if (typeof value.toBinaryPack === \"function\") {\n            this.bufferBuilder.append(value.toBinaryPack());\n          } else {\n            throw new Error('Type \"' + constructor.toString() + '\" not yet supported');\n          }\n        }\n      } else {\n        throw new Error('Type \"' + type + '\" not yet supported');\n      }\n      this.bufferBuilder.flush();\n    };\n    Packer.prototype.pack_bin = function(blob) {\n      var length = blob.length || blob.byteLength || blob.size;\n      if (length <= 15) {\n        this.pack_uint8(160 + length);\n      } else if (length <= 65535) {\n        this.bufferBuilder.append(218);\n        this.pack_uint16(length);\n      } else if (length <= 4294967295) {\n        this.bufferBuilder.append(219);\n        this.pack_uint32(length);\n      } else {\n        throw new Error(\"Invalid length\");\n      }\n      this.bufferBuilder.append(blob);\n    };\n    Packer.prototype.pack_string = function(str) {\n      var length = utf8Length(str);\n      if (length <= 15) {\n        this.pack_uint8(176 + length);\n      } else if (length <= 65535) {\n        this.bufferBuilder.append(216);\n        this.pack_uint16(length);\n      } else if (length <= 4294967295) {\n        this.bufferBuilder.append(217);\n        this.pack_uint32(length);\n      } else {\n        throw new Error(\"Invalid length\");\n      }\n      this.bufferBuilder.append(str);\n    };\n    Packer.prototype.pack_array = function(ary) {\n      var length = ary.length;\n      if (length <= 15) {\n        this.pack_uint8(144 + length);\n      } else if (length <= 65535) {\n        this.bufferBuilder.append(220);\n        this.pack_uint16(length);\n      } else if (length <= 4294967295) {\n        this.bufferBuilder.append(221);\n        this.pack_uint32(length);\n      } else {\n        throw new Error(\"Invalid length\");\n      }\n      for (var i = 0; i < length; i++) {\n        this.pack(ary[i]);\n      }\n    };\n    Packer.prototype.pack_integer = function(num) {\n      if (num >= -32 && num <= 127) {\n        this.bufferBuilder.append(num & 255);\n      } else if (num >= 0 && num <= 255) {\n        this.bufferBuilder.append(204);\n        this.pack_uint8(num);\n      } else if (num >= -128 && num <= 127) {\n        this.bufferBuilder.append(208);\n        this.pack_int8(num);\n      } else if (num >= 0 && num <= 65535) {\n        this.bufferBuilder.append(205);\n        this.pack_uint16(num);\n      } else if (num >= -32768 && num <= 32767) {\n        this.bufferBuilder.append(209);\n        this.pack_int16(num);\n      } else if (num >= 0 && num <= 4294967295) {\n        this.bufferBuilder.append(206);\n        this.pack_uint32(num);\n      } else if (num >= -2147483648 && num <= 2147483647) {\n        this.bufferBuilder.append(210);\n        this.pack_int32(num);\n      } else if (num >= -9223372036854776e3 && num <= 9223372036854776e3) {\n        this.bufferBuilder.append(211);\n        this.pack_int64(num);\n      } else if (num >= 0 && num <= 18446744073709552e3) {\n        this.bufferBuilder.append(207);\n        this.pack_uint64(num);\n      } else {\n        throw new Error(\"Invalid integer\");\n      }\n    };\n    Packer.prototype.pack_double = function(num) {\n      var sign = 0;\n      if (num < 0) {\n        sign = 1;\n        num = -num;\n      }\n      var exp = Math.floor(Math.log(num) / Math.LN2);\n      var frac0 = num / Math.pow(2, exp) - 1;\n      var frac1 = Math.floor(frac0 * Math.pow(2, 52));\n      var b32 = Math.pow(2, 32);\n      var h32 = sign << 31 | exp + 1023 << 20 | frac1 / b32 & 1048575;\n      var l32 = frac1 % b32;\n      this.bufferBuilder.append(203);\n      this.pack_int32(h32);\n      this.pack_int32(l32);\n    };\n    Packer.prototype.pack_object = function(obj) {\n      var keys = Object.keys(obj);\n      var length = keys.length;\n      if (length <= 15) {\n        this.pack_uint8(128 + length);\n      } else if (length <= 65535) {\n        this.bufferBuilder.append(222);\n        this.pack_uint16(length);\n      } else if (length <= 4294967295) {\n        this.bufferBuilder.append(223);\n        this.pack_uint32(length);\n      } else {\n        throw new Error(\"Invalid length\");\n      }\n      for (var prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n          this.pack(prop);\n          this.pack(obj[prop]);\n        }\n      }\n    };\n    Packer.prototype.pack_uint8 = function(num) {\n      this.bufferBuilder.append(num);\n    };\n    Packer.prototype.pack_uint16 = function(num) {\n      this.bufferBuilder.append(num >> 8);\n      this.bufferBuilder.append(num & 255);\n    };\n    Packer.prototype.pack_uint32 = function(num) {\n      var n = num & 4294967295;\n      this.bufferBuilder.append((n & 4278190080) >>> 24);\n      this.bufferBuilder.append((n & 16711680) >>> 16);\n      this.bufferBuilder.append((n & 65280) >>> 8);\n      this.bufferBuilder.append(n & 255);\n    };\n    Packer.prototype.pack_uint64 = function(num) {\n      var high = num / Math.pow(2, 32);\n      var low = num % Math.pow(2, 32);\n      this.bufferBuilder.append((high & 4278190080) >>> 24);\n      this.bufferBuilder.append((high & 16711680) >>> 16);\n      this.bufferBuilder.append((high & 65280) >>> 8);\n      this.bufferBuilder.append(high & 255);\n      this.bufferBuilder.append((low & 4278190080) >>> 24);\n      this.bufferBuilder.append((low & 16711680) >>> 16);\n      this.bufferBuilder.append((low & 65280) >>> 8);\n      this.bufferBuilder.append(low & 255);\n    };\n    Packer.prototype.pack_int8 = function(num) {\n      this.bufferBuilder.append(num & 255);\n    };\n    Packer.prototype.pack_int16 = function(num) {\n      this.bufferBuilder.append((num & 65280) >> 8);\n      this.bufferBuilder.append(num & 255);\n    };\n    Packer.prototype.pack_int32 = function(num) {\n      this.bufferBuilder.append(num >>> 24 & 255);\n      this.bufferBuilder.append((num & 16711680) >>> 16);\n      this.bufferBuilder.append((num & 65280) >>> 8);\n      this.bufferBuilder.append(num & 255);\n    };\n    Packer.prototype.pack_int64 = function(num) {\n      var high = Math.floor(num / Math.pow(2, 32));\n      var low = num % Math.pow(2, 32);\n      this.bufferBuilder.append((high & 4278190080) >>> 24);\n      this.bufferBuilder.append((high & 16711680) >>> 16);\n      this.bufferBuilder.append((high & 65280) >>> 8);\n      this.bufferBuilder.append(high & 255);\n      this.bufferBuilder.append((low & 4278190080) >>> 24);\n      this.bufferBuilder.append((low & 16711680) >>> 16);\n      this.bufferBuilder.append((low & 65280) >>> 8);\n      this.bufferBuilder.append(low & 255);\n    };\n    function _utf8Replace(m) {\n      var code = m.charCodeAt(0);\n      if (code <= 2047)\n        return \"00\";\n      if (code <= 65535)\n        return \"000\";\n      if (code <= 2097151)\n        return \"0000\";\n      if (code <= 67108863)\n        return \"00000\";\n      return \"000000\";\n    }\n    function utf8Length(str) {\n      if (str.length > 600) {\n        return new Blob([str]).size;\n      } else {\n        return str.replace(/[^\\u0000-\\u007F]/g, _utf8Replace).length;\n      }\n    }\n  }\n});\n\n// node_modules/eventemitter3/index.js\nvar require_eventemitter3 = __commonJS({\n  \"node_modules/eventemitter3/index.js\"(exports, module) {\n    \"use strict\";\n    var has = Object.prototype.hasOwnProperty;\n    var prefix = \"~\";\n    function Events() {\n    }\n    if (Object.create) {\n      Events.prototype = /* @__PURE__ */ Object.create(null);\n      if (!new Events().__proto__)\n        prefix = false;\n    }\n    function EE(fn, context, once) {\n      this.fn = fn;\n      this.context = context;\n      this.once = once || false;\n    }\n    function addListener(emitter, event, fn, context, once) {\n      if (typeof fn !== \"function\") {\n        throw new TypeError(\"The listener must be a function\");\n      }\n      var listener = new EE(fn, context || emitter, once), evt = prefix ? prefix + event : event;\n      if (!emitter._events[evt])\n        emitter._events[evt] = listener, emitter._eventsCount++;\n      else if (!emitter._events[evt].fn)\n        emitter._events[evt].push(listener);\n      else\n        emitter._events[evt] = [emitter._events[evt], listener];\n      return emitter;\n    }\n    function clearEvent(emitter, evt) {\n      if (--emitter._eventsCount === 0)\n        emitter._events = new Events();\n      else\n        delete emitter._events[evt];\n    }\n    function EventEmitter5() {\n      this._events = new Events();\n      this._eventsCount = 0;\n    }\n    EventEmitter5.prototype.eventNames = function eventNames() {\n      var names = [], events, name;\n      if (this._eventsCount === 0)\n        return names;\n      for (name in events = this._events) {\n        if (has.call(events, name))\n          names.push(prefix ? name.slice(1) : name);\n      }\n      if (Object.getOwnPropertySymbols) {\n        return names.concat(Object.getOwnPropertySymbols(events));\n      }\n      return names;\n    };\n    EventEmitter5.prototype.listeners = function listeners(event) {\n      var evt = prefix ? prefix + event : event, handlers = this._events[evt];\n      if (!handlers)\n        return [];\n      if (handlers.fn)\n        return [handlers.fn];\n      for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n        ee[i] = handlers[i].fn;\n      }\n      return ee;\n    };\n    EventEmitter5.prototype.listenerCount = function listenerCount(event) {\n      var evt = prefix ? prefix + event : event, listeners = this._events[evt];\n      if (!listeners)\n        return 0;\n      if (listeners.fn)\n        return 1;\n      return listeners.length;\n    };\n    EventEmitter5.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n      var evt = prefix ? prefix + event : event;\n      if (!this._events[evt])\n        return false;\n      var listeners = this._events[evt], len = arguments.length, args, i;\n      if (listeners.fn) {\n        if (listeners.once)\n          this.removeListener(event, listeners.fn, void 0, true);\n        switch (len) {\n          case 1:\n            return listeners.fn.call(listeners.context), true;\n          case 2:\n            return listeners.fn.call(listeners.context, a1), true;\n          case 3:\n            return listeners.fn.call(listeners.context, a1, a2), true;\n          case 4:\n            return listeners.fn.call(listeners.context, a1, a2, a3), true;\n          case 5:\n            return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n          case 6:\n            return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n        }\n        for (i = 1, args = new Array(len - 1); i < len; i++) {\n          args[i - 1] = arguments[i];\n        }\n        listeners.fn.apply(listeners.context, args);\n      } else {\n        var length = listeners.length, j;\n        for (i = 0; i < length; i++) {\n          if (listeners[i].once)\n            this.removeListener(event, listeners[i].fn, void 0, true);\n          switch (len) {\n            case 1:\n              listeners[i].fn.call(listeners[i].context);\n              break;\n            case 2:\n              listeners[i].fn.call(listeners[i].context, a1);\n              break;\n            case 3:\n              listeners[i].fn.call(listeners[i].context, a1, a2);\n              break;\n            case 4:\n              listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n              break;\n            default:\n              if (!args)\n                for (j = 1, args = new Array(len - 1); j < len; j++) {\n                  args[j - 1] = arguments[j];\n                }\n              listeners[i].fn.apply(listeners[i].context, args);\n          }\n        }\n      }\n      return true;\n    };\n    EventEmitter5.prototype.on = function on(event, fn, context) {\n      return addListener(this, event, fn, context, false);\n    };\n    EventEmitter5.prototype.once = function once(event, fn, context) {\n      return addListener(this, event, fn, context, true);\n    };\n    EventEmitter5.prototype.removeListener = function removeListener(event, fn, context, once) {\n      var evt = prefix ? prefix + event : event;\n      if (!this._events[evt])\n        return this;\n      if (!fn) {\n        clearEvent(this, evt);\n        return this;\n      }\n      var listeners = this._events[evt];\n      if (listeners.fn) {\n        if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\n          clearEvent(this, evt);\n        }\n      } else {\n        for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n          if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {\n            events.push(listeners[i]);\n          }\n        }\n        if (events.length)\n          this._events[evt] = events.length === 1 ? events[0] : events;\n        else\n          clearEvent(this, evt);\n      }\n      return this;\n    };\n    EventEmitter5.prototype.removeAllListeners = function removeAllListeners(event) {\n      var evt;\n      if (event) {\n        evt = prefix ? prefix + event : event;\n        if (this._events[evt])\n          clearEvent(this, evt);\n      } else {\n        this._events = new Events();\n        this._eventsCount = 0;\n      }\n      return this;\n    };\n    EventEmitter5.prototype.off = EventEmitter5.prototype.removeListener;\n    EventEmitter5.prototype.addListener = EventEmitter5.prototype.on;\n    EventEmitter5.prefixed = prefix;\n    EventEmitter5.EventEmitter = EventEmitter5;\n    if (typeof module !== \"undefined\") {\n      module.exports = EventEmitter5;\n    }\n  }\n});\n\n// lib/utils.ts\nvar BinaryPack = __toESM(require_binarypack());\nvar DEFAULT_CONFIG = {\n  iceServers: [\n    { urls: \"stun:stun.l.google.com:19302\" },\n    { urls: \"turn:0.peerjs.com:3478\", username: \"peerjs\", credential: \"peerjsp\" }\n  ],\n  sdpSemantics: \"unified-plan\"\n};\nvar Utils = new class {\n  constructor() {\n    this.CLOUD_HOST = \"0.peerjs.com\";\n    this.CLOUD_PORT = 443;\n    this.chunkedMTU = 16300;\n    this.defaultConfig = DEFAULT_CONFIG;\n    this.pack = BinaryPack.pack;\n    this.unpack = BinaryPack.unpack;\n    this._dataCount = 1;\n  }\n  validateId(id) {\n    return !id || /^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(id);\n  }\n  chunk(blob) {\n    const chunks = [];\n    const size = blob.size;\n    const total = Math.ceil(size / Utils.chunkedMTU);\n    let index = 0;\n    let start = 0;\n    while (start < size) {\n      const end = Math.min(size, start + Utils.chunkedMTU);\n      const b = blob.slice(start, end);\n      const chunk = {\n        __peerData: this._dataCount,\n        n: index,\n        data: b,\n        total\n      };\n      chunks.push(chunk);\n      start = end;\n      index++;\n    }\n    this._dataCount++;\n    return chunks;\n  }\n  blobToArrayBuffer(FileReaderCtr, blob, cb) {\n    const fr = new FileReaderCtr();\n    fr.onload = function(evt) {\n      if (evt.target) {\n        cb(evt.target.result);\n      }\n    };\n    fr.readAsArrayBuffer(blob);\n    return fr;\n  }\n  binaryStringToArrayBuffer(binary) {\n    const byteArray = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n      byteArray[i] = binary.charCodeAt(i) & 255;\n    }\n    return byteArray.buffer;\n  }\n  randomToken() {\n    return Math.random().toString(36).substr(2);\n  }\n  isSecure() {\n    return location.protocol === \"https:\";\n  }\n}();\n\n// lib/peer.ts\nvar import_eventemitter34 = __toESM(require_eventemitter3());\n\n// lib/logger.ts\nvar LOG_PREFIX = \"PeerJS: \";\nvar Logger = class {\n  constructor() {\n    this._logLevel = 0 /* Disabled */;\n  }\n  get logLevel() {\n    return this._logLevel;\n  }\n  set logLevel(logLevel) {\n    this._logLevel = logLevel;\n  }\n  log(...args) {\n    if (this._logLevel >= 3 /* All */) {\n      this._print(3 /* All */, ...args);\n    }\n  }\n  warn(...args) {\n    if (this._logLevel >= 2 /* Warnings */) {\n      this._print(2 /* Warnings */, ...args);\n    }\n  }\n  error(...args) {\n    if (this._logLevel >= 1 /* Errors */) {\n      this._print(1 /* Errors */, ...args);\n    }\n  }\n  setLogFunction(fn) {\n    this._print = fn;\n  }\n  _print(logLevel, ...rest) {\n    const copy = [LOG_PREFIX, ...rest];\n    for (let i in copy) {\n      if (copy[i] instanceof Error) {\n        copy[i] = \"(\" + copy[i].name + \") \" + copy[i].message;\n      }\n    }\n    if (logLevel >= 3 /* All */) {\n      console.log(...copy);\n    } else if (logLevel >= 2 /* Warnings */) {\n      console.warn(\"WARNING\", ...copy);\n    } else if (logLevel >= 1 /* Errors */) {\n      console.error(\"ERROR\", ...copy);\n    }\n  }\n};\nvar logger_default = new Logger();\n\n// lib/socket.ts\nvar import_eventemitter3 = __toESM(require_eventemitter3());\nvar Socket = class extends import_eventemitter3.EventEmitter {\n  constructor({ secure, host, port, path, key, pingInterval = 5e3, polyfills }) {\n    super();\n    this._disconnected = true;\n    this._id = null;\n    this._messagesQueue = [];\n    this.alive = false;\n    this._destroyed = false;\n    var _a;\n    this.pingInterval = pingInterval;\n    const wsProtocol = secure ? \"wss://\" : \"ws://\";\n    this._baseUrl = wsProtocol + host + \":\" + port + path + \"peerjs?key=\" + key;\n    this.WebSocketConstructor = (_a = polyfills == null ? void 0 : polyfills.WebSocket) != null ? _a : window.WebSocket;\n  }\n  get messagesQueue() {\n    return this._messagesQueue;\n  }\n  get destroyed() {\n    return this._destroyed;\n  }\n  start(id, token) {\n    if (this._destroyed)\n      throw new Error(\"Socket was destroyed!\");\n    this._id = id;\n    if (!!this._socket || !this._disconnected) {\n      return;\n    }\n    const wsUrl = `${this._baseUrl}&id=${id}&token=${token}`;\n    this._socket = new this.WebSocketConstructor(wsUrl);\n    this._disconnected = false;\n    this._socket.onmessage = (event) => {\n      if (this._destroyed)\n        return;\n      let data;\n      try {\n        data = JSON.parse(event.data);\n        logger_default.log(\"Server message received:\", data);\n      } catch (e) {\n        logger_default.log(\"Invalid server message\", event.data);\n        return;\n      }\n      this.emit(\"message\" /* Message */, data);\n    };\n    this._socket.onclose = (event) => {\n      if (this._disconnected || this._destroyed) {\n        return;\n      }\n      logger_default.log(\"Socket closed.\", event);\n      this._cleanup();\n      this._disconnected = true;\n      this.emit(\"disconnected\" /* Disconnected */);\n    };\n    this._socket.onopen = () => {\n      if (this._disconnected || this._destroyed) {\n        return;\n      }\n      logger_default.log(\"Socket open\");\n      this.emit(\"open\" /* Open */);\n      this._sendQueuedMessages();\n      this._scheduleHeartbeat();\n    };\n  }\n  _scheduleHeartbeat() {\n    this._wsPingTimer = setTimeout(() => {\n      this._sendHeartbeat();\n    }, this.pingInterval);\n  }\n  _sendHeartbeat() {\n    if (this._destroyed)\n      return;\n    if (!this._wsOpen()) {\n      logger_default.log(`Cannot send heartbeat, because socket closed`);\n      return;\n    }\n    const message = JSON.stringify({ type: \"HEARTBEAT\" /* Heartbeat */ });\n    this._socket.send(message);\n    this._scheduleHeartbeat();\n  }\n  _wsOpen() {\n    return !!this._socket && this._socket.readyState === 1;\n  }\n  _sendQueuedMessages() {\n    const copiedQueue = [...this._messagesQueue];\n    this._messagesQueue = [];\n    for (const message of copiedQueue) {\n      this.send(message);\n    }\n    if (copiedQueue.length > 0) {\n      logger_default.log(`${copiedQueue.length} queued messages was sent`);\n    }\n  }\n  send(data) {\n    if (this._destroyed)\n      throw new Error(\"Socket was destroyed!\");\n    if (!data.type) {\n      this.emit(\"error\" /* Error */, \"Invalid message\");\n      return;\n    }\n    if (!this.alive) {\n      return;\n    }\n    if (this._id == null || !this._wsOpen()) {\n      this._messagesQueue.push(data);\n      return;\n    }\n    const message = JSON.stringify(data);\n    this._socket.send(message);\n  }\n  close() {\n    if (this._disconnected) {\n      return;\n    }\n    this._cleanup();\n    this._id = null;\n    this._disconnected = true;\n  }\n  _cleanup() {\n    if (this._socket) {\n      this._socket.onopen = this._socket.onmessage = this._socket.onclose = null;\n      this._socket.close();\n      this._socket = void 0;\n    }\n    clearTimeout(this._wsPingTimer);\n  }\n  destroy() {\n    if (this._destroyed)\n      return;\n    this.close();\n    this._messagesQueue.length = 0;\n    this._destroyed = true;\n  }\n};\n\n// lib/negotiator.ts\nfunction noop() {\n}\nvar Negotiator = class {\n  constructor(connection) {\n    this.connection = connection;\n  }\n  get webRtc() {\n    var _a, _b;\n    return (_b = (_a = this.connection.provider.options.polyfills) == null ? void 0 : _a.WebRTC) != null ? _b : window;\n  }\n  startConnection(options) {\n    const peerConnection = this._startPeerConnection();\n    this.connection.peerConnection = peerConnection;\n    if (this.connection.type === \"media\" /* Media */ && options._stream) {\n      this._addTracksToConnection(options._stream, peerConnection);\n    }\n    if (options.originator) {\n      if (this.connection.type === \"data\" /* Data */) {\n        const dataConnection = this.connection;\n        const config = { ordered: !!options.reliable };\n        const dataChannel = peerConnection.createDataChannel(dataConnection.label, config);\n        dataConnection.initialize(dataChannel);\n      }\n      this._makeOffer();\n    } else {\n      this.handleSDP(\"OFFER\", options.sdp);\n    }\n  }\n  _startPeerConnection() {\n    logger_default.log(\"Creating RTCPeerConnection.\");\n    const ctr = this.webRtc.RTCPeerConnection;\n    const peerConnection = new ctr(this.connection.provider.options.config);\n    this._setupListeners(peerConnection);\n    return peerConnection;\n  }\n  _setupListeners(peerConnection) {\n    const peerId = this.connection.peer;\n    const connectionId = this.connection.connectionId;\n    const connectionType = this.connection.type;\n    const provider = this.connection.provider;\n    logger_default.log(\"Listening for ICE candidates, remote streams and data channels.\");\n    peerConnection.onicecandidate = (evt) => {\n      if (!evt.candidate || !evt.candidate.candidate)\n        return;\n      logger_default.log(`Received ICE candidates for ${peerId}:`, evt.candidate);\n      provider.socket.send({\n        type: \"CANDIDATE\" /* Candidate */,\n        payload: {\n          candidate: evt.candidate,\n          type: connectionType,\n          connectionId\n        },\n        dst: peerId\n      });\n    };\n    peerConnection.oniceconnectionstatechange = () => {\n      switch (peerConnection.iceConnectionState) {\n        case \"failed\":\n          logger_default.log(\"iceConnectionState is failed, closing connections to \" + peerId);\n          this.connection.emit(\"error\" /* Error */, new Error(\"Negotiation of connection to \" + peerId + \" failed.\"));\n          this.connection.close();\n          break;\n        case \"closed\":\n          logger_default.log(\"iceConnectionState is closed, closing connections to \" + peerId);\n          this.connection.emit(\"error\" /* Error */, new Error(\"Connection to \" + peerId + \" closed.\"));\n          this.connection.close();\n          break;\n        case \"connected\":\n          logger_default.log(\"iceConnectionState changed to connected on the connection with \" + peerId);\n          break;\n        case \"disconnected\":\n          logger_default.log(\"iceConnectionState changed to disconnected on the connection with \" + peerId);\n          break;\n        case \"completed\":\n          logger_default.log(\"iceConnectionState changed to completed on the connection with \" + peerId);\n          peerConnection.onicecandidate = noop;\n          break;\n      }\n      this.connection.emit(\"iceStateChanged\" /* IceStateChanged */, peerConnection.iceConnectionState);\n    };\n    peerConnection.ondatachannel = (evt) => {\n      logger_default.log(\"Received data channel\");\n      const dataChannel = evt.channel;\n      const connection = provider.getConnection(peerId, connectionId);\n      connection.initialize(dataChannel);\n    };\n    peerConnection.ontrack = (evt) => {\n      logger_default.log(\"Received remote stream\");\n      const stream = evt.streams[0];\n      const connection = provider.getConnection(peerId, connectionId);\n      if (connection.type === \"media\" /* Media */) {\n        const mediaConnection = connection;\n        this._addStreamToMediaConnection(stream, mediaConnection);\n      }\n    };\n  }\n  cleanup() {\n    logger_default.log(\"Cleaning up PeerConnection to \" + this.connection.peer);\n    const peerConnection = this.connection.peerConnection;\n    if (!peerConnection) {\n      return;\n    }\n    this.connection.peerConnection = null;\n    peerConnection.onicecandidate = peerConnection.oniceconnectionstatechange = peerConnection.ondatachannel = peerConnection.ontrack = null;\n    const peerConnectionNotClosed = peerConnection.signalingState !== \"closed\";\n    let dataChannelNotClosed = false;\n    if (this.connection.type === \"data\" /* Data */) {\n      const dataConnection = this.connection;\n      const dataChannel = dataConnection.dataChannel;\n      if (dataChannel) {\n        dataChannelNotClosed = !!dataChannel.readyState && dataChannel.readyState !== \"closed\";\n      }\n    }\n    if (peerConnectionNotClosed || dataChannelNotClosed) {\n      peerConnection.close();\n    }\n  }\n  _makeOffer() {\n    return __async(this, null, function* () {\n      const peerConnection = this.connection.peerConnection;\n      const provider = this.connection.provider;\n      try {\n        const offer = yield peerConnection.createOffer(this.connection.options.constraints);\n        if (peerConnection.signalingState === \"closed\")\n          return;\n        logger_default.log(\"Created offer.\");\n        if (this.connection.options.sdpTransform && typeof this.connection.options.sdpTransform === \"function\") {\n          offer.sdp = this.connection.options.sdpTransform(offer.sdp) || offer.sdp;\n        }\n        try {\n          yield peerConnection.setLocalDescription(offer);\n          logger_default.log(\"Set localDescription:\", offer, `for:${this.connection.peer}`);\n          let payload = {\n            sdp: offer,\n            type: this.connection.type,\n            connectionId: this.connection.connectionId,\n            metadata: this.connection.metadata\n          };\n          if (this.connection.type === \"data\" /* Data */) {\n            const dataConnection = this.connection;\n            payload = __spreadProps(__spreadValues({}, payload), {\n              label: dataConnection.label,\n              reliable: dataConnection.reliable,\n              serialization: dataConnection.serialization\n            });\n          }\n          provider.socket.send({\n            type: \"OFFER\" /* Offer */,\n            payload,\n            dst: this.connection.peer\n          });\n        } catch (err) {\n          if (err != \"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer\") {\n            provider.emitError(\"webrtc\" /* WebRTC */, err);\n            logger_default.log(\"Failed to setLocalDescription, \", err);\n          }\n        }\n      } catch (err_1) {\n        provider.emitError(\"webrtc\" /* WebRTC */, err_1);\n        logger_default.log(\"Failed to createOffer, \", err_1);\n      }\n    });\n  }\n  _makeAnswer() {\n    return __async(this, null, function* () {\n      const peerConnection = this.connection.peerConnection;\n      const provider = this.connection.provider;\n      try {\n        const answer = yield peerConnection.createAnswer();\n        if (peerConnection.signalingState === \"closed\")\n          return;\n        logger_default.log(\"Created answer.\");\n        if (this.connection.options.sdpTransform && typeof this.connection.options.sdpTransform === \"function\") {\n          answer.sdp = this.connection.options.sdpTransform(answer.sdp) || answer.sdp;\n        }\n        try {\n          yield peerConnection.setLocalDescription(answer);\n          logger_default.log(`Set localDescription:`, answer, `for:${this.connection.peer}`);\n          provider.socket.send({\n            type: \"ANSWER\" /* Answer */,\n            payload: {\n              sdp: answer,\n              type: this.connection.type,\n              connectionId: this.connection.connectionId\n            },\n            dst: this.connection.peer\n          });\n        } catch (err) {\n          provider.emitError(\"webrtc\" /* WebRTC */, err);\n          logger_default.log(\"Failed to setLocalDescription, \", err);\n        }\n      } catch (err_1) {\n        provider.emitError(\"webrtc\" /* WebRTC */, err_1);\n        logger_default.log(\"Failed to create answer, \", err_1);\n      }\n    });\n  }\n  handleSDP(type, sdp) {\n    return __async(this, null, function* () {\n      const ctr = this.webRtc.RTCSessionDescription;\n      sdp = new ctr(sdp);\n      const peerConnection = this.connection.peerConnection;\n      const provider = this.connection.provider;\n      logger_default.log(\"Setting remote description\", sdp);\n      const self = this;\n      try {\n        yield peerConnection.setRemoteDescription(sdp);\n        logger_default.log(`Set remoteDescription:${type} for:${this.connection.peer}`);\n        if (type === \"OFFER\") {\n          yield self._makeAnswer();\n        }\n      } catch (err) {\n        provider.emitError(\"webrtc\" /* WebRTC */, err);\n        logger_default.log(\"Failed to setRemoteDescription, \", err);\n      }\n    });\n  }\n  handleCandidate(ice) {\n    return __async(this, null, function* () {\n      logger_default.log(`handleCandidate:`, ice);\n      const candidate = ice.candidate;\n      const sdpMLineIndex = ice.sdpMLineIndex;\n      const sdpMid = ice.sdpMid;\n      const peerConnection = this.connection.peerConnection;\n      const provider = this.connection.provider;\n      try {\n        const ctr = this.webRtc.RTCIceCandidate;\n        yield peerConnection.addIceCandidate(new ctr({\n          sdpMid,\n          sdpMLineIndex,\n          candidate\n        }));\n        logger_default.log(`Added ICE candidate for:${this.connection.peer}`);\n      } catch (err) {\n        provider.emitError(\"webrtc\" /* WebRTC */, err);\n        logger_default.log(\"Failed to handleCandidate, \", err);\n      }\n    });\n  }\n  _addTracksToConnection(stream, peerConnection) {\n    logger_default.log(`add tracks from stream ${stream.id} to peer connection`);\n    if (!peerConnection.addTrack) {\n      return logger_default.error(`Your browser does't support RTCPeerConnection#addTrack. Ignored.`);\n    }\n    stream.getTracks().forEach((track) => {\n      peerConnection.addTrack(track, stream);\n    });\n  }\n  _addStreamToMediaConnection(stream, mediaConnection) {\n    logger_default.log(`add stream ${stream.id} to media connection ${mediaConnection.connectionId}`);\n    mediaConnection.addStream(stream);\n  }\n};\n\n// lib/baseconnection.ts\nvar import_eventemitter32 = __toESM(require_eventemitter3());\nvar BaseConnection = class extends import_eventemitter32.EventEmitter {\n  constructor(peer, provider, options) {\n    super();\n    this.peer = peer;\n    this.provider = provider;\n    this.options = options;\n    this._open = false;\n    this.metadata = options.metadata;\n  }\n  get open() {\n    return this._open;\n  }\n};\n\n// lib/mediaconnection.ts\nvar _MediaConnection = class extends BaseConnection {\n  get type() {\n    return \"media\" /* Media */;\n  }\n  get localStream() {\n    return this._localStream;\n  }\n  get remoteStream() {\n    return this._remoteStream;\n  }\n  constructor(peerId, provider, options) {\n    super(peerId, provider, options);\n    this._localStream = this.options._stream;\n    this.connectionId = this.options.connectionId || _MediaConnection.ID_PREFIX + Utils.randomToken();\n    this._negotiator = new Negotiator(this);\n    if (this._localStream) {\n      this._negotiator.startConnection({\n        _stream: this._localStream,\n        originator: true\n      });\n    }\n  }\n  addStream(remoteStream) {\n    logger_default.log(\"Receiving stream\", remoteStream);\n    this._remoteStream = remoteStream;\n    super.emit(\"stream\" /* Stream */, remoteStream);\n  }\n  handleMessage(message) {\n    const type = message.type;\n    const payload = message.payload;\n    switch (message.type) {\n      case \"ANSWER\" /* Answer */:\n        this._negotiator.handleSDP(type, payload.sdp);\n        this._open = true;\n        break;\n      case \"CANDIDATE\" /* Candidate */:\n        this._negotiator.handleCandidate(payload.candidate);\n        break;\n      default:\n        logger_default.warn(`Unrecognized message type:${type} from peer:${this.peer}`);\n        break;\n    }\n  }\n  answer(stream, options = {}) {\n    if (this._localStream) {\n      logger_default.warn(\"Local stream already exists on this MediaConnection. Are you answering a call twice?\");\n      return;\n    }\n    this._localStream = stream;\n    if (options && options.sdpTransform) {\n      this.options.sdpTransform = options.sdpTransform;\n    }\n    this._negotiator.startConnection(__spreadProps(__spreadValues({}, this.options._payload), { _stream: stream }));\n    const messages = this.provider._getMessages(this.connectionId);\n    for (let message of messages) {\n      this.handleMessage(message);\n    }\n    this._open = true;\n  }\n  close() {\n    if (this._negotiator) {\n      this._negotiator.cleanup();\n      this._negotiator = null;\n    }\n    this._localStream = null;\n    this._remoteStream = null;\n    if (this.provider) {\n      this.provider._removeConnection(this);\n      this.provider = null;\n    }\n    if (this.options && this.options._stream) {\n      this.options._stream = null;\n    }\n    if (!this.open) {\n      return;\n    }\n    this._open = false;\n    super.emit(\"close\" /* Close */);\n  }\n};\nvar MediaConnection = _MediaConnection;\nMediaConnection.ID_PREFIX = \"mc_\";\n\n// lib/encodingQueue.ts\nvar import_eventemitter33 = __toESM(require_eventemitter3());\nvar EncodingQueue = class extends import_eventemitter33.EventEmitter {\n  constructor(fileReader) {\n    super();\n    this.fileReader = fileReader;\n    this._queue = [];\n    this._processing = false;\n    this.fileReader.onload = (evt) => {\n      this._processing = false;\n      if (evt.target) {\n        this.emit(\"done\", evt.target.result);\n      }\n      this.doNextTask();\n    };\n    this.fileReader.onerror = (evt) => {\n      logger_default.error(`EncodingQueue error:`, evt);\n      this._processing = false;\n      this.destroy();\n      this.emit(\"error\", evt);\n    };\n  }\n  get queue() {\n    return this._queue;\n  }\n  get size() {\n    return this.queue.length;\n  }\n  get processing() {\n    return this._processing;\n  }\n  enque(blob) {\n    this.queue.push(blob);\n    if (this.processing)\n      return;\n    this.doNextTask();\n  }\n  destroy() {\n    this.fileReader.abort();\n    this._queue = [];\n  }\n  doNextTask() {\n    if (this.size === 0)\n      return;\n    if (this.processing)\n      return;\n    this._processing = true;\n    this.fileReader.readAsArrayBuffer(this.queue.shift());\n  }\n};\n\n// lib/dataconnection.ts\nvar _DataConnection = class extends BaseConnection {\n  constructor(peerId, provider, options) {\n    super(peerId, provider, options);\n    this.stringify = JSON.stringify;\n    this.parse = JSON.parse;\n    this._buffer = [];\n    this._bufferSize = 0;\n    this._buffering = false;\n    this._chunkedData = {};\n    var _a, _b;\n    this.connectionId = this.options.connectionId || _DataConnection.ID_PREFIX + Utils.randomToken();\n    this.label = this.options.label || this.connectionId;\n    this.serialization = this.options.serialization || \"binary\" /* Binary */;\n    this.reliable = !!this.options.reliable;\n    this.FileReaderCtr = (_b = (_a = provider.options.polyfills) == null ? void 0 : _a.FileReader) != null ? _b : window.FileReader;\n    this._encodingQueue = new EncodingQueue(new this.FileReaderCtr());\n    this._encodingQueue.on(\"done\", (ab) => {\n      this._bufferedSend(ab);\n    });\n    this._encodingQueue.on(\"error\", () => {\n      logger_default.error(`DC#${this.connectionId}: Error occured in encoding from blob to arraybuffer, close DC`);\n      this.close();\n    });\n    this._negotiator = new Negotiator(this);\n    this._negotiator.startConnection(this.options._payload || {\n      originator: true\n    });\n  }\n  get type() {\n    return \"data\" /* Data */;\n  }\n  get dataChannel() {\n    return this._dc;\n  }\n  get bufferSize() {\n    return this._bufferSize;\n  }\n  initialize(dc) {\n    this._dc = dc;\n    this._configureDataChannel();\n  }\n  _configureDataChannel() {\n    if (!this.provider.features.binaryBlob || this.provider.features.reliable) {\n      this.dataChannel.binaryType = \"arraybuffer\";\n    }\n    this.dataChannel.onopen = () => {\n      logger_default.log(`DC#${this.connectionId} dc connection success`);\n      this._open = true;\n      this.emit(\"open\" /* Open */);\n    };\n    this.dataChannel.onmessage = (e) => {\n      logger_default.log(`DC#${this.connectionId} dc onmessage:`, e.data);\n      this._handleDataMessage(e);\n    };\n    this.dataChannel.onclose = () => {\n      logger_default.log(`DC#${this.connectionId} dc closed for:`, this.peer);\n      this.close();\n    };\n  }\n  _handleDataMessage({ data }) {\n    const datatype = data.constructor;\n    const isBinarySerialization = this.serialization === \"binary\" /* Binary */ || this.serialization === \"binary-utf8\" /* BinaryUTF8 */;\n    let deserializedData = data;\n    if (isBinarySerialization) {\n      if (datatype === Blob) {\n        Utils.blobToArrayBuffer(this.FileReaderCtr, data, (ab) => {\n          const unpackedData = Utils.unpack(ab);\n          this.emit(\"data\" /* Data */, unpackedData);\n        });\n        return;\n      } else if (datatype === ArrayBuffer) {\n        deserializedData = Utils.unpack(data);\n      } else if (datatype === String) {\n        const ab = Utils.binaryStringToArrayBuffer(data);\n        deserializedData = Utils.unpack(ab);\n      }\n    } else if (this.serialization === \"json\" /* JSON */) {\n      deserializedData = this.parse(data);\n    }\n    if (deserializedData.__peerData) {\n      this._handleChunk(deserializedData);\n      return;\n    }\n    super.emit(\"data\" /* Data */, deserializedData);\n  }\n  _handleChunk(data) {\n    const id = data.__peerData;\n    const chunkInfo = this._chunkedData[id] || {\n      data: [],\n      count: 0,\n      total: data.total\n    };\n    chunkInfo.data[data.n] = data.data;\n    chunkInfo.count++;\n    this._chunkedData[id] = chunkInfo;\n    if (chunkInfo.total === chunkInfo.count) {\n      delete this._chunkedData[id];\n      const data2 = new Blob(chunkInfo.data);\n      this._handleDataMessage({ data: data2 });\n    }\n  }\n  close() {\n    this._buffer = [];\n    this._bufferSize = 0;\n    this._chunkedData = {};\n    if (this._negotiator) {\n      this._negotiator.cleanup();\n      this._negotiator = null;\n    }\n    if (this.provider) {\n      this.provider._removeConnection(this);\n      this.provider = null;\n    }\n    if (this.dataChannel) {\n      this.dataChannel.onopen = null;\n      this.dataChannel.onmessage = null;\n      this.dataChannel.onclose = null;\n      this._dc = null;\n    }\n    if (this._encodingQueue) {\n      this._encodingQueue.destroy();\n      this._encodingQueue.removeAllListeners();\n      this._encodingQueue = null;\n    }\n    if (!this.open) {\n      return;\n    }\n    this._open = false;\n    super.emit(\"close\" /* Close */);\n  }\n  send(data, chunked) {\n    if (!this.open) {\n      super.emit(\"error\" /* Error */, new Error(\"Connection is not open. You should listen for the `open` event before sending messages.\"));\n      return;\n    }\n    if (this.serialization === \"json\" /* JSON */) {\n      this._bufferedSend(this.stringify(data));\n    } else if (this.serialization === \"binary\" /* Binary */ || this.serialization === \"binary-utf8\" /* BinaryUTF8 */) {\n      const blob = Utils.pack(data);\n      if (!chunked && blob.size > Utils.chunkedMTU) {\n        this._sendChunks(blob);\n        return;\n      }\n      if (!this.provider.features.binaryBlob) {\n        this._encodingQueue.enque(blob);\n      } else {\n        this._bufferedSend(blob);\n      }\n    } else {\n      this._bufferedSend(data);\n    }\n  }\n  _bufferedSend(msg) {\n    if (this._buffering || !this._trySend(msg)) {\n      this._buffer.push(msg);\n      this._bufferSize = this._buffer.length;\n    }\n  }\n  _trySend(msg) {\n    if (!this.open) {\n      return false;\n    }\n    if (this.dataChannel.bufferedAmount > _DataConnection.MAX_BUFFERED_AMOUNT) {\n      this._buffering = true;\n      setTimeout(() => {\n        this._buffering = false;\n        this._tryBuffer();\n      }, 50);\n      return false;\n    }\n    try {\n      this.dataChannel.send(msg);\n    } catch (e) {\n      logger_default.error(`DC#:${this.connectionId} Error when sending:`, e);\n      this._buffering = true;\n      this.close();\n      return false;\n    }\n    return true;\n  }\n  _tryBuffer() {\n    if (!this.open) {\n      return;\n    }\n    if (this._buffer.length === 0) {\n      return;\n    }\n    const msg = this._buffer[0];\n    if (this._trySend(msg)) {\n      this._buffer.shift();\n      this._bufferSize = this._buffer.length;\n      this._tryBuffer();\n    }\n  }\n  _sendChunks(blob) {\n    const blobs = Utils.chunk(blob);\n    logger_default.log(`DC#${this.connectionId} Try to send ${blobs.length} chunks...`);\n    for (let blob2 of blobs) {\n      this.send(blob2, true);\n    }\n  }\n  handleMessage(message) {\n    const payload = message.payload;\n    switch (message.type) {\n      case \"ANSWER\" /* Answer */:\n        this._negotiator.handleSDP(message.type, payload.sdp);\n        break;\n      case \"CANDIDATE\" /* Candidate */:\n        this._negotiator.handleCandidate(payload.candidate);\n        break;\n      default:\n        logger_default.warn(\"Unrecognized message type:\", message.type, \"from peer:\", this.peer);\n        break;\n    }\n  }\n};\nvar DataConnection = _DataConnection;\nDataConnection.ID_PREFIX = \"dc_\";\nDataConnection.MAX_BUFFERED_AMOUNT = 8 * 1024 * 1024;\n\n// lib/api.ts\nvar API = class {\n  constructor(_options) {\n    this._options = _options;\n  }\n  _request(url) {\n    var _a, _b;\n    return ((_b = (_a = this._options.polyfills) == null ? void 0 : _a.fetch) != null ? _b : window.fetch)(url);\n  }\n  _buildUrl(method) {\n    const protocol = this._options.secure ? \"https://\" : \"http://\";\n    let url = protocol + this._options.host + \":\" + this._options.port + this._options.path + this._options.key + \"/\" + method;\n    const queryString = \"?ts=\" + new Date().getTime() + Math.random();\n    url += queryString;\n    return url;\n  }\n  retrieveId() {\n    return __async(this, null, function* () {\n      const url = this._buildUrl(\"id\");\n      try {\n        const response = yield this._request(url);\n        if (response.status !== 200) {\n          throw new Error(`Error. Status:${response.status}`);\n        }\n        return response.text();\n      } catch (error) {\n        logger_default.error(\"Error retrieving ID\", error);\n        let pathError = \"\";\n        if (this._options.path === \"/\" && this._options.host !== Utils.CLOUD_HOST) {\n          pathError = \" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer.\";\n        }\n        throw new Error(\"Could not get an ID from the server.\" + pathError);\n      }\n    });\n  }\n  listAllPeers() {\n    return __async(this, null, function* () {\n      const url = this._buildUrl(\"peers\");\n      try {\n        const response = yield this._request(url);\n        if (response.status !== 200) {\n          if (response.status === 401) {\n            let helpfulError = \"\";\n            if (this._options.host === Utils.CLOUD_HOST) {\n              helpfulError = \"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.\";\n            } else {\n              helpfulError = \"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.\";\n            }\n            throw new Error(\"It doesn't look like you have permission to list peers IDs. \" + helpfulError);\n          }\n          throw new Error(`Error. Status:${response.status}`);\n        }\n        return response.json();\n      } catch (error) {\n        logger_default.error(\"Error retrieving list peers\", error);\n        throw new Error(\"Could not get list peers from the server.\" + error);\n      }\n    });\n  }\n};\n\n// lib/supports.ts\nvar Supports = {\n  isUnifiedPlanSupported(webRtc) {\n    if (!webRtc && typeof window !== \"undefined\") {\n      webRtc = window;\n    }\n    if (typeof webRtc.RTCRtpTransceiver === \"undefined\" || !(\"currentDirection\" in webRtc.RTCRtpTransceiver.prototype)) {\n      return false;\n    }\n    let tempPc;\n    let supported = false;\n    try {\n      tempPc = new webRtc.RTCPeerConnection();\n      tempPc.addTransceiver(\"audio\");\n      supported = true;\n    } catch (e) {\n    } finally {\n      if (tempPc) {\n        tempPc.close();\n      }\n    }\n    return supported;\n  }\n};\n\n// lib/peer.ts\nvar _Peer = class extends import_eventemitter34.EventEmitter {\n  constructor(id, options) {\n    super();\n    this._id = null;\n    this._lastServerId = null;\n    this._destroyed = false;\n    this._disconnected = false;\n    this._open = false;\n    this._connections = /* @__PURE__ */ new Map();\n    this._lostMessages = /* @__PURE__ */ new Map();\n    var _a;\n    let userId;\n    if (id && id.constructor == Object) {\n      options = id;\n    } else if (id) {\n      userId = id.toString();\n    }\n    options = __spreadValues({\n      debug: 0,\n      host: Utils.CLOUD_HOST,\n      port: Utils.CLOUD_PORT,\n      path: \"/\",\n      key: _Peer.DEFAULT_KEY,\n      token: Utils.randomToken(),\n      config: Utils.defaultConfig\n    }, options);\n    this._options = options;\n    if (typeof window !== \"undefined\" && this._options.host === \"/\") {\n      this._options.host = window.location.hostname;\n    }\n    if (this._options.path) {\n      if (this._options.path[0] !== \"/\") {\n        this._options.path = \"/\" + this._options.path;\n      }\n      if (this._options.path[this._options.path.length - 1] !== \"/\") {\n        this._options.path += \"/\";\n      }\n    }\n    if (this._options.secure === void 0 && this._options.host !== Utils.CLOUD_HOST) {\n      this._options.secure = Utils.isSecure();\n    } else if (this._options.host == Utils.CLOUD_HOST) {\n      this._options.secure = true;\n    }\n    if (this._options.logFunction) {\n      logger_default.setLogFunction(this._options.logFunction);\n    }\n    logger_default.logLevel = this._options.debug || 0;\n    this._api = new API(options);\n    this._socket = this._createServerConnection();\n    this.features = _Peer.getFeatures((_a = this._options.polyfills) == null ? void 0 : _a.WebRTC);\n    if (!this.features.audioVideo && !this.features.data) {\n      this._delayedAbort(\"browser-incompatible\" /* BrowserIncompatible */, \"The current browser does not support WebRTC\");\n      return;\n    }\n    if (!!userId && !Utils.validateId(userId)) {\n      this._delayedAbort(\"invalid-id\" /* InvalidID */, `ID \"${userId}\" is invalid`);\n      return;\n    }\n    this.socket.alive = true;\n    if (userId) {\n      this._initialize(userId);\n    } else {\n      this._api.retrieveId().then((id2) => this._initialize(id2)).catch((error) => this._abort(\"server-error\" /* ServerError */, error));\n    }\n  }\n  get id() {\n    return this._id;\n  }\n  get options() {\n    return this._options;\n  }\n  get open() {\n    return this._open;\n  }\n  get socket() {\n    return this._socket;\n  }\n  get connections() {\n    const plainConnections = /* @__PURE__ */ Object.create(null);\n    for (let [k, v] of this._connections) {\n      plainConnections[k] = v;\n    }\n    return plainConnections;\n  }\n  get destroyed() {\n    return this._destroyed;\n  }\n  get disconnected() {\n    return this._disconnected;\n  }\n  _createServerConnection() {\n    const socket = new Socket(this._options);\n    socket.on(\"message\" /* Message */, (data) => {\n      this._handleMessage(data);\n    });\n    socket.on(\"error\" /* Error */, (error) => {\n      this._abort(\"socket-error\" /* SocketError */, error);\n    });\n    socket.on(\"disconnected\" /* Disconnected */, () => {\n      if (this.disconnected) {\n        return;\n      }\n      this.emitError(\"network\" /* Network */, \"Lost connection to server.\");\n      this.disconnect();\n    });\n    socket.on(\"close\" /* Close */, () => {\n      if (this.disconnected) {\n        return;\n      }\n      this._abort(\"socket-closed\" /* SocketClosed */, \"Underlying socket is already closed.\");\n    });\n    return socket;\n  }\n  _initialize(id) {\n    if (this.destroyed)\n      return;\n    this._id = id;\n    this.socket.start(id, this._options.token);\n  }\n  _handleMessage(message) {\n    const type = message.type;\n    const payload = message.payload;\n    const peerId = message.src;\n    switch (type) {\n      case \"OPEN\" /* Open */:\n        this._lastServerId = this.id;\n        this._open = true;\n        this.emit(\"open\" /* Open */, this.id);\n        break;\n      case \"ERROR\" /* Error */:\n        this._abort(\"server-error\" /* ServerError */, payload.msg);\n        break;\n      case \"ID-TAKEN\" /* IdTaken */:\n        this._abort(\"unavailable-id\" /* UnavailableID */, `ID \"${this.id}\" is taken`);\n        break;\n      case \"INVALID-KEY\" /* InvalidKey */:\n        this._abort(\"invalid-key\" /* InvalidKey */, `API KEY \"${this._options.key}\" is invalid`);\n        break;\n      case \"LEAVE\" /* Leave */:\n        logger_default.log(`Received leave message from ${peerId}`);\n        this._cleanupPeer(peerId);\n        this._connections.delete(peerId);\n        break;\n      case \"EXPIRE\" /* Expire */:\n        this.emitError(\"peer-unavailable\" /* PeerUnavailable */, `Could not connect to peer ${peerId}`);\n        break;\n      case \"OFFER\" /* Offer */: {\n        const connectionId = payload.connectionId;\n        let connection = this.getConnection(peerId, connectionId);\n        if (connection) {\n          connection.close();\n          logger_default.warn(`Offer received for existing Connection ID:${connectionId}`);\n        }\n        if (payload.type === \"media\" /* Media */) {\n          connection = new MediaConnection(peerId, this, {\n            connectionId,\n            _payload: payload,\n            metadata: payload.metadata\n          });\n          this._addConnection(peerId, connection);\n          this.emit(\"call\" /* Call */, connection);\n        } else if (payload.type === \"data\" /* Data */) {\n          connection = new DataConnection(peerId, this, {\n            connectionId,\n            _payload: payload,\n            metadata: payload.metadata,\n            label: payload.label,\n            serialization: payload.serialization,\n            reliable: payload.reliable\n          });\n          this._addConnection(peerId, connection);\n          this.emit(\"connection\" /* Connection */, connection);\n        } else {\n          logger_default.warn(`Received malformed connection type:${payload.type}`);\n          return;\n        }\n        const messages = this._getMessages(connectionId);\n        for (let message2 of messages) {\n          connection.handleMessage(message2);\n        }\n        break;\n      }\n      default: {\n        if (!payload) {\n          logger_default.warn(`You received a malformed message from ${peerId} of type ${type}`);\n          return;\n        }\n        const connectionId = payload.connectionId;\n        const connection = this.getConnection(peerId, connectionId);\n        if (connection && connection.peerConnection) {\n          connection.handleMessage(message);\n        } else if (connectionId) {\n          this._storeMessage(connectionId, message);\n        } else {\n          logger_default.warn(\"You received an unrecognized message:\", message);\n        }\n        break;\n      }\n    }\n  }\n  _storeMessage(connectionId, message) {\n    if (!this._lostMessages.has(connectionId)) {\n      this._lostMessages.set(connectionId, []);\n    }\n    this._lostMessages.get(connectionId).push(message);\n  }\n  _getMessages(connectionId) {\n    const messages = this._lostMessages.get(connectionId);\n    if (messages) {\n      this._lostMessages.delete(connectionId);\n      return messages;\n    }\n    return [];\n  }\n  connect(peer, options = {}) {\n    if (this.disconnected) {\n      logger_default.warn(\"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available.\");\n      this.emitError(\"disconnected\" /* Disconnected */, \"Cannot connect to new Peer after disconnecting from server.\");\n      return;\n    }\n    const dataConnection = new DataConnection(peer, this, options);\n    this._addConnection(peer, dataConnection);\n    return dataConnection;\n  }\n  call(peer, stream, options = {}) {\n    if (this.disconnected) {\n      logger_default.warn(\"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect.\");\n      this.emitError(\"disconnected\" /* Disconnected */, \"Cannot connect to new Peer after disconnecting from server.\");\n      return;\n    }\n    if (!stream) {\n      logger_default.error(\"To call a peer, you must provide a stream from your browser's `getUserMedia`.\");\n      return;\n    }\n    options._stream = stream;\n    const mediaConnection = new MediaConnection(peer, this, options);\n    this._addConnection(peer, mediaConnection);\n    return mediaConnection;\n  }\n  _addConnection(peerId, connection) {\n    logger_default.log(`add connection ${connection.type}:${connection.connectionId} to peerId:${peerId}`);\n    if (!this._connections.has(peerId)) {\n      this._connections.set(peerId, []);\n    }\n    this._connections.get(peerId).push(connection);\n  }\n  _removeConnection(connection) {\n    const connections = this._connections.get(connection.peer);\n    if (connections) {\n      const index = connections.indexOf(connection);\n      if (index !== -1) {\n        connections.splice(index, 1);\n        if (connections.length === 0) {\n          this._connections.delete(connection.peer);\n        }\n      }\n    }\n    this._lostMessages.delete(connection.connectionId);\n  }\n  getConnection(peerId, connectionId) {\n    const connections = this._connections.get(peerId);\n    if (!connections) {\n      return null;\n    }\n    for (let connection of connections) {\n      if (connection.connectionId === connectionId) {\n        return connection;\n      }\n    }\n    return null;\n  }\n  _delayedAbort(type, message) {\n    setTimeout(() => {\n      this._abort(type, message);\n    }, 0);\n  }\n  _abort(type, message) {\n    logger_default.error(\"Aborting!\");\n    this.emitError(type, message);\n    if (!this._lastServerId) {\n      this.destroy();\n    } else {\n      this.disconnect();\n    }\n  }\n  emitError(type, err) {\n    logger_default.error(\"Error:\", err);\n    let error;\n    if (typeof err === \"string\") {\n      error = new Error(err);\n    } else {\n      error = err;\n    }\n    error.type = type;\n    this.emit(\"error\" /* Error */, error);\n  }\n  destroy() {\n    if (this.destroyed) {\n      return;\n    }\n    logger_default.log(`Destroy peer with ID:${this.id}`);\n    this.disconnect();\n    this._cleanup();\n    this.socket.destroy();\n    this._destroyed = true;\n    this.emit(\"close\" /* Close */);\n  }\n  _cleanup() {\n    for (let peerId of this._connections.keys()) {\n      this._cleanupPeer(peerId);\n      this._connections.delete(peerId);\n    }\n    this.socket.removeAllListeners();\n  }\n  _cleanupPeer(peerId) {\n    const connections = this._connections.get(peerId);\n    if (!connections)\n      return;\n    for (let connection of connections) {\n      connection.close();\n    }\n  }\n  disconnect() {\n    if (this.disconnected) {\n      return;\n    }\n    const currentId = this.id;\n    logger_default.log(`Disconnect peer with ID:${currentId}`);\n    this._disconnected = true;\n    this._open = false;\n    this.socket.alive = false;\n    this.socket.close();\n    this._lastServerId = currentId;\n    this._id = null;\n    this.emit(\"disconnected\" /* Disconnected */, currentId);\n  }\n  reconnect() {\n    if (this.disconnected && !this.destroyed) {\n      logger_default.log(`Attempting reconnection to server with ID ${this._lastServerId}`);\n      this._disconnected = false;\n      this.socket.alive = true;\n      this._initialize(this._lastServerId);\n    } else if (this.destroyed) {\n      throw new Error(\"This peer cannot reconnect to the server. It has already been destroyed.\");\n    } else if (!this.disconnected && !this.open) {\n      logger_default.error(\"In a hurry? We're still trying to make the initial connection!\");\n    } else {\n      throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`);\n    }\n  }\n  listAllPeers(cb = (_) => {\n  }) {\n    this._api.listAllPeers().then((peers) => cb(peers)).catch((error) => this._abort(\"server-error\" /* ServerError */, error));\n  }\n  static getFeatures(webRtc) {\n    if (!webRtc && typeof window !== \"undefined\") {\n      webRtc = window;\n    }\n    if (!_Peer._features) {\n      _Peer._features = _Peer.checkFeatures(webRtc);\n    }\n    return _Peer._features;\n  }\n  static checkFeatures(webRtc) {\n    if (!webRtc && typeof window !== \"undefined\") {\n      webRtc = window;\n    }\n    const supported = {\n      webRTC: typeof webRtc.RTCPeerConnection !== \"undefined\",\n      audioVideo: true,\n      data: false,\n      binaryBlob: false,\n      reliable: false,\n      unifiedPlan: false\n    };\n    if (!supported.webRTC)\n      return supported;\n    let pc;\n    try {\n      pc = new webRtc.RTCPeerConnection(Utils.defaultConfig);\n      let dc;\n      try {\n        dc = pc.createDataChannel(\"_PEERJSTEST\", { ordered: true });\n        supported.data = true;\n        supported.reliable = !!dc.ordered;\n        try {\n          dc.binaryType = \"blob\";\n          supported.binaryBlob = true;\n        } catch (e) {\n        }\n      } catch (e) {\n      } finally {\n        if (dc) {\n          dc.close();\n        }\n      }\n    } catch (e) {\n    } finally {\n      if (pc) {\n        pc.close();\n      }\n    }\n    supported.unifiedPlan = Supports.isUnifiedPlanSupported(webRtc);\n    return supported;\n  }\n};\nvar Peer = _Peer;\nPeer.DEFAULT_KEY = \"peerjs\";\n\n// lib/index.ts\nvar lib_default = Peer;\nif (typeof window !== \"undefined\") {\n  window.Peer = Peer;\n}\nexport {\n  Peer,\n  Utils,\n  lib_default as default\n};\n","exports.quote = function (xs) {\n    return xs.map(function (s) {\n        if (s && typeof s === 'object') {\n            return s.op.replace(/(.)/g, '\\\\$1');\n        }\n        else if (/[\"\\s]/.test(s) && !/'/.test(s)) {\n            return \"'\" + s.replace(/(['\\\\])/g, '\\\\$1') + \"'\";\n        }\n        else if (/[\"'\\s]/.test(s)) {\n            return '\"' + s.replace(/([\"\\\\$`!])/g, '\\\\$1') + '\"';\n        }\n        else {\n            return String(s).replace(/([A-Za-z]:)?([#!\"$&'()*,:;<=>?@\\[\\\\\\]^`{|}])/g, '$1\\\\$2');\n        }\n    }).join(' ');\n};\n\n// '<(' is process substitution operator and\n// can be parsed the same as control operator\nvar CONTROL = '(?:' + [\n    '\\\\|\\\\|', '\\\\&\\\\&', ';;', '\\\\|\\\\&', '\\\\<\\\\(', '>>', '>\\\\&', '[&;()|<>]'\n].join('|') + ')';\nvar META = '|&;()<> \\\\t';\nvar BAREWORD = '(\\\\\\\\[\\'\"' + META + ']|[^\\\\s\\'\"' + META + '])+';\nvar SINGLE_QUOTE = '\"((\\\\\\\\\"|[^\"])*?)\"';\nvar DOUBLE_QUOTE = '\\'((\\\\\\\\\\'|[^\\'])*?)\\'';\n\nvar TOKEN = '';\nfor (var i = 0; i < 4; i++) {\n    TOKEN += (Math.pow(16,8)*Math.random()).toString(16);\n}\n\nexports.parse = function (s, env, opts) {\n    var mapped = parse(s, env, opts);\n    if (typeof env !== 'function') return mapped;\n    return mapped.reduce(function (acc, s) {\n        if (typeof s === 'object') return acc.concat(s);\n        var xs = s.split(RegExp('(' + TOKEN + '.*?' + TOKEN + ')', 'g'));\n        if (xs.length === 1) return acc.concat(xs[0]);\n        return acc.concat(xs.filter(Boolean).map(function (x) {\n            if (RegExp('^' + TOKEN).test(x)) {\n                return JSON.parse(x.split(TOKEN)[1]);\n            }\n            else return x;\n        }));\n    }, []);\n};\n\nfunction parse (s, env, opts) {\n    var chunker = new RegExp([\n        '(' + CONTROL + ')', // control chars\n        '(' + BAREWORD + '|' + SINGLE_QUOTE + '|' + DOUBLE_QUOTE + ')*'\n    ].join('|'), 'g');\n    var match = s.match(chunker).filter(Boolean);\n    var commented = false;\n\n    if (!match) return [];\n    if (!env) env = {};\n    if (!opts) opts = {};\n    return match.map(function (s, j) {\n        if (commented) {\n            return;\n        }\n        if (RegExp('^' + CONTROL + '$').test(s)) {\n            return { op: s };\n        }\n\n        // Hand-written scanner/parser for Bash quoting rules:\n        //\n        //  1. inside single quotes, all characters are printed literally.\n        //  2. inside double quotes, all characters are printed literally\n        //     except variables prefixed by '$' and backslashes followed by\n        //     either a double quote or another backslash.\n        //  3. outside of any quotes, backslashes are treated as escape\n        //     characters and not printed (unless they are themselves escaped)\n        //  4. quote context can switch mid-token if there is no whitespace\n        //     between the two quote contexts (e.g. all'one'\"token\" parses as\n        //     \"allonetoken\")\n        var SQ = \"'\";\n        var DQ = '\"';\n        var DS = '$';\n        var BS = opts.escape || '\\\\';\n        var quote = false;\n        var esc = false;\n        var out = '';\n        var isGlob = false;\n\n        for (var i = 0, len = s.length; i < len; i++) {\n            var c = s.charAt(i);\n            isGlob = isGlob || (!quote && (c === '*' || c === '?'));\n            if (esc) {\n                out += c;\n                esc = false;\n            }\n            else if (quote) {\n                if (c === quote) {\n                    quote = false;\n                }\n                else if (quote == SQ) {\n                    out += c;\n                }\n                else { // Double quote\n                    if (c === BS) {\n                        i += 1;\n                        c = s.charAt(i);\n                        if (c === DQ || c === BS || c === DS) {\n                            out += c;\n                        } else {\n                            out += BS + c;\n                        }\n                    }\n                    else if (c === DS) {\n                        out += parseEnvVar();\n                    }\n                    else {\n                        out += c;\n                    }\n                }\n            }\n            else if (c === DQ || c === SQ) {\n                quote = c;\n            }\n            else if (RegExp('^' + CONTROL + '$').test(c)) {\n                return { op: s };\n            }\n            else if (RegExp('^#$').test(c)) {\n                commented = true;\n                if (out.length){\n                    return [out, { comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\n                }\n                return [{ comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\n            }\n            else if (c === BS) {\n                esc = true;\n            }\n            else if (c === DS) {\n                out += parseEnvVar();\n            }\n            else out += c;\n        }\n\n        if (isGlob) return {op: 'glob', pattern: out};\n\n        return out;\n\n        function parseEnvVar() {\n            i += 1;\n            var varend, varname;\n            //debugger\n            if (s.charAt(i) === '{') {\n                i += 1;\n                if (s.charAt(i) === '}') {\n                    throw new Error(\"Bad substitution: \" + s.substr(i - 2, 3));\n                }\n                varend = s.indexOf('}', i);\n                if (varend < 0) {\n                    throw new Error(\"Bad substitution: \" + s.substr(i));\n                }\n                varname = s.substr(i, varend - i);\n                i = varend;\n            }\n            else if (/[*@#?$!_\\-]/.test(s.charAt(i))) {\n                varname = s.charAt(i);\n                i += 1;\n            }\n            else {\n                varend = s.substr(i).match(/[^\\w\\d_]/);\n                if (!varend) {\n                    varname = s.substr(i);\n                    i = s.length;\n                } else {\n                    varname = s.substr(i, varend.index);\n                    i += varend.index - 1;\n                }\n            }\n            return getVar(null, '', varname);\n        }\n    })\n    // finalize parsed aruments\n    .reduce(function(prev, arg){\n        if (arg === undefined){\n            return prev;\n        }\n        return prev.concat(arg);\n    },[]);\n\n    function getVar (_, pre, key) {\n        var r = typeof env === 'function' ? env(key) : env[key];\n        if (r === undefined && key != '')\n            r = '';\n        else if (r === undefined)\n            r = '$';\n\n        if (typeof r === 'object') {\n            return pre + TOKEN + JSON.stringify(r) + TOKEN;\n        }\n        else return pre + r;\n    }\n}\n"],"names":["flagSymbol","Symbol","ArgError","Error","constructor","msg","code","super","this","name","Object","setPrototypeOf","prototype","arg","opts","argv","process","slice","permissive","stopAtPositional","result","_","aliases","handlers","key","keys","length","type","isFlag","Array","isArray","fn","value","prev","push","Boolean","i","len","wholeArg","concat","separatedArguments","split","map","a","j","originalArgName","argStr","undefined","argName","match","Number","BigInt","flag","COUNT","v","existingCount","module","exports","__create","create","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropNames","getOwnPropertyNames","__getOwnPropSymbols","getOwnPropertySymbols","__getProtoOf","getPrototypeOf","__hasOwnProp","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","__spreadValues","b","prop","call","__spreadProps","__commonJS","cb","mod","__toESM","isNodeMode","target","copyDefault","desc","get","__reExport","__esModule","default","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","throw","x","done","then","apply","require_bufferbuilder","binaryFeatures","useBlobBuilder","Blob","useArrayBufferView","Uint8Array","size","BlobBuilder","BufferBuilder","_pieces","_parts","window","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","data","flush","buf","buffer","getBuffer","builder","ii","getBlob","require_binarypack","BinaryPack2","unpack","Unpacker","pack","packer","Packer","index","dataBuffer","dataView","byteLength","bufferBuilder","_utf8Replace","m","charCodeAt","unpack_uint8","unpack_raw","unpack_string","unpack_array","unpack_map","unpack_float","unpack_double","unpack_uint16","unpack_uint32","unpack_uint64","unpack_int8","unpack_int16","unpack_int32","unpack_int64","byte","bytes","read","uint16","uint32","uint64","uint8","Math","pow","c","str","String","fromCharCode","objects","exp","h32","l32","subarray","pack_string","floor","pack_integer","pack_double","pack_array","File","pack_bin","ArrayBuffer","toString","startsWith","pack_object","Date","toBinaryPack","blob","pack_uint8","pack_uint16","pack_uint32","replace","utf8Length","ary","num","pack_int8","pack_int16","pack_int32","pack_int64","pack_uint64","sign","log","LN2","frac0","frac1","b32","n","high","low","require_eventemitter3","has","prefix","Events","EE","context","once","addListener","emitter","event","TypeError","listener","evt","_events","_eventsCount","clearEvent","EventEmitter5","__proto__","eventNames","events","names","listeners","l","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","arguments","removeListener","on","removeAllListeners","off","prefixed","EventEmitter","BinaryPack","DEFAULT_CONFIG","iceServers","urls","username","credential","sdpSemantics","Utils","CLOUD_HOST","CLOUD_PORT","chunkedMTU","defaultConfig","_dataCount","validateId","id","test","chunk","chunks","total","ceil","start","end","min","__peerData","blobToArrayBuffer","FileReaderCtr","fr","onload","readAsArrayBuffer","binaryStringToArrayBuffer","binary","byteArray","randomToken","random","substr","isSecure","location","protocol","import_eventemitter34","logger_default","_logLevel","logLevel","_print","warn","error","setLogFunction","rest","copy","message","console","import_eventemitter3","Socket","secure","host","port","path","pingInterval","polyfills","_a","_disconnected","_id","_messagesQueue","alive","_destroyed","wsProtocol","_baseUrl","WebSocketConstructor","WebSocket","messagesQueue","destroyed","token","_socket","wsUrl","onmessage","JSON","parse","onclose","_cleanup","onopen","_sendQueuedMessages","_scheduleHeartbeat","_wsPingTimer","setTimeout","_sendHeartbeat","_wsOpen","stringify","send","readyState","copiedQueue","close","clearTimeout","destroy","noop","Negotiator","connection","webRtc","_b","provider","options","WebRTC","startConnection","peerConnection","_startPeerConnection","_stream","_addTracksToConnection","originator","dataConnection","config","ordered","reliable","dataChannel","createDataChannel","label","initialize","_makeOffer","handleSDP","sdp","ctr","RTCPeerConnection","_setupListeners","peerId","peer","connectionId","connectionType","onicecandidate","candidate","socket","payload","dst","oniceconnectionstatechange","iceConnectionState","ondatachannel","channel","getConnection","ontrack","stream","streams","mediaConnection","_addStreamToMediaConnection","cleanup","peerConnectionNotClosed","signalingState","dataChannelNotClosed","offer","createOffer","constraints","sdpTransform","setLocalDescription","metadata","serialization","err","emitError","err_1","_makeAnswer","answer","createAnswer","RTCSessionDescription","self","setRemoteDescription","handleCandidate","ice","sdpMLineIndex","sdpMid","RTCIceCandidate","addIceCandidate","addTrack","getTracks","forEach","track","addStream","import_eventemitter32","BaseConnection","_open","open","_MediaConnection","localStream","_localStream","remoteStream","_remoteStream","ID_PREFIX","_negotiator","handleMessage","_payload","messages","_getMessages","_removeConnection","MediaConnection","import_eventemitter33","EncodingQueue","fileReader","_queue","_processing","doNextTask","onerror","queue","processing","enque","abort","shift","_DataConnection","_buffer","_bufferSize","_buffering","_chunkedData","FileReader","_encodingQueue","ab","_bufferedSend","_dc","bufferSize","dc","_configureDataChannel","features","binaryBlob","binaryType","_handleDataMessage","datatype","deserializedData","unpackedData","_handleChunk","chunkInfo","count","data2","chunked","_sendChunks","_trySend","bufferedAmount","MAX_BUFFERED_AMOUNT","_tryBuffer","blobs","blob2","DataConnection","Supports","isUnifiedPlanSupported","RTCRtpTransceiver","tempPc","supported","addTransceiver","_Peer","userId","_lastServerId","_connections","Map","_lostMessages","debug","DEFAULT_KEY","_options","hostname","logFunction","_api","_request","url","fetch","_buildUrl","method","getTime","retrieveId","response","status","text","pathError","listAllPeers","helpfulError","json","_createServerConnection","getFeatures","audioVideo","_initialize","id2","catch","_abort","_delayedAbort","connections","plainConnections","k","disconnected","_handleMessage","disconnect","src","_cleanupPeer","delete","_addConnection","message2","_storeMessage","set","connect","indexOf","splice","currentId","reconnect","peers","static","_features","checkFeatures","webRTC","unifiedPlan","pc","Peer","lib_default","CONTROL","join","TOKEN","s","env","mapped","chunker","RegExp","filter","commented","op","BS","escape","quote","esc","out","isGlob","charAt","parseEnvVar","comment","pattern","varend","varname","pre","r","reduce","acc","xs"],"sourceRoot":""}