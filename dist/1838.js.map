{"version":3,"file":"1838.js","mappings":"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","sources":["webpack://@web3os-core/kernel/./node_modules/.pnpm/arg@5.0.2/node_modules/arg/index.js","webpack://@web3os-core/kernel/./src/modules/www/index.js","webpack://@web3os-core/kernel/./src/modules/www/www.module.css","webpack://@web3os-core/kernel/./node_modules/.pnpm/shell-quote@1.7.3/node_modules/shell-quote/index.js","webpack://@web3os-core/kernel/./src/modules/www/www.module.css?f3e8"],"sourcesContent":["const flagSymbol = Symbol('arg flag');\n\nclass ArgError extends Error {\n\tconstructor(msg, code) {\n\t\tsuper(msg);\n\t\tthis.name = 'ArgError';\n\t\tthis.code = code;\n\n\t\tObject.setPrototypeOf(this, ArgError.prototype);\n\t}\n}\n\nfunction arg(\n\topts,\n\t{\n\t\targv = process.argv.slice(2),\n\t\tpermissive = false,\n\t\tstopAtPositional = false\n\t} = {}\n) {\n\tif (!opts) {\n\t\tthrow new ArgError(\n\t\t\t'argument specification object is required',\n\t\t\t'ARG_CONFIG_NO_SPEC'\n\t\t);\n\t}\n\n\tconst result = { _: [] };\n\n\tconst aliases = {};\n\tconst handlers = {};\n\n\tfor (const key of Object.keys(opts)) {\n\t\tif (!key) {\n\t\t\tthrow new ArgError(\n\t\t\t\t'argument key cannot be an empty string',\n\t\t\t\t'ARG_CONFIG_EMPTY_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key[0] !== '-') {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must start with '-' but found: '${key}'`,\n\t\t\t\t'ARG_CONFIG_NONOPT_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key.length === 1) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must have a name; singular '-' keys are not allowed: ${key}`,\n\t\t\t\t'ARG_CONFIG_NONAME_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (typeof opts[key] === 'string') {\n\t\t\taliases[key] = opts[key];\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet type = opts[key];\n\t\tlet isFlag = false;\n\n\t\tif (\n\t\t\tArray.isArray(type) &&\n\t\t\ttype.length === 1 &&\n\t\t\ttypeof type[0] === 'function'\n\t\t) {\n\t\t\tconst [fn] = type;\n\t\t\ttype = (value, name, prev = []) => {\n\t\t\t\tprev.push(fn(value, name, prev[prev.length - 1]));\n\t\t\t\treturn prev;\n\t\t\t};\n\t\t\tisFlag = fn === Boolean || fn[flagSymbol] === true;\n\t\t} else if (typeof type === 'function') {\n\t\t\tisFlag = type === Boolean || type[flagSymbol] === true;\n\t\t} else {\n\t\t\tthrow new ArgError(\n\t\t\t\t`type missing or not a function or valid array type: ${key}`,\n\t\t\t\t'ARG_CONFIG_VAD_TYPE'\n\t\t\t);\n\t\t}\n\n\t\tif (key[1] !== '-' && key.length > 2) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`short argument keys (with a single hyphen) must have only one character: ${key}`,\n\t\t\t\t'ARG_CONFIG_SHORTOPT_TOOLONG'\n\t\t\t);\n\t\t}\n\n\t\thandlers[key] = [type, isFlag];\n\t}\n\n\tfor (let i = 0, len = argv.length; i < len; i++) {\n\t\tconst wholeArg = argv[i];\n\n\t\tif (stopAtPositional && result._.length > 0) {\n\t\t\tresult._ = result._.concat(argv.slice(i));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg === '--') {\n\t\t\tresult._ = result._.concat(argv.slice(i + 1));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg.length > 1 && wholeArg[0] === '-') {\n\t\t\t/* eslint-disable operator-linebreak */\n\t\t\tconst separatedArguments =\n\t\t\t\twholeArg[1] === '-' || wholeArg.length === 2\n\t\t\t\t\t? [wholeArg]\n\t\t\t\t\t: wholeArg\n\t\t\t\t\t\t\t.slice(1)\n\t\t\t\t\t\t\t.split('')\n\t\t\t\t\t\t\t.map((a) => `-${a}`);\n\t\t\t/* eslint-enable operator-linebreak */\n\n\t\t\tfor (let j = 0; j < separatedArguments.length; j++) {\n\t\t\t\tconst arg = separatedArguments[j];\n\t\t\t\tconst [originalArgName, argStr] =\n\t\t\t\t\targ[1] === '-' ? arg.split(/=(.*)/, 2) : [arg, undefined];\n\n\t\t\t\tlet argName = originalArgName;\n\t\t\t\twhile (argName in aliases) {\n\t\t\t\t\targName = aliases[argName];\n\t\t\t\t}\n\n\t\t\t\tif (!(argName in handlers)) {\n\t\t\t\t\tif (permissive) {\n\t\t\t\t\t\tresult._.push(arg);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`unknown or unexpected option: ${originalArgName}`,\n\t\t\t\t\t\t\t'ARG_UNKNOWN_OPTION'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst [type, isFlag] = handlers[argName];\n\n\t\t\t\tif (!isFlag && j + 1 < separatedArguments.length) {\n\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t`option requires argument (but was followed by another short argument): ${originalArgName}`,\n\t\t\t\t\t\t'ARG_MISSING_REQUIRED_SHORTARG'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (isFlag) {\n\t\t\t\t\tresult[argName] = type(true, argName, result[argName]);\n\t\t\t\t} else if (argStr === undefined) {\n\t\t\t\t\tif (\n\t\t\t\t\t\targv.length < i + 2 ||\n\t\t\t\t\t\t(argv[i + 1].length > 1 &&\n\t\t\t\t\t\t\targv[i + 1][0] === '-' &&\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\targv[i + 1].match(/^-?\\d*(\\.(?=\\d))?\\d*$/) &&\n\t\t\t\t\t\t\t\t(type === Number ||\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\t\t\t\t\t\t(typeof BigInt !== 'undefined' && type === BigInt))\n\t\t\t\t\t\t\t))\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst extended =\n\t\t\t\t\t\t\toriginalArgName === argName ? '' : ` (alias for ${argName})`;\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`option requires argument: ${originalArgName}${extended}`,\n\t\t\t\t\t\t\t'ARG_MISSING_REQUIRED_LONGARG'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[argName] = type(argv[i + 1], argName, result[argName]);\n\t\t\t\t\t++i;\n\t\t\t\t} else {\n\t\t\t\t\tresult[argName] = type(argStr, argName, result[argName]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tresult._.push(wholeArg);\n\t\t}\n\t}\n\n\treturn result;\n}\n\narg.flag = (fn) => {\n\tfn[flagSymbol] = true;\n\treturn fn;\n};\n\n// Utility types\narg.COUNT = arg.flag((v, name, existingCount) => (existingCount || 0) + 1);\n\n// Expose error class\narg.ArgError = ArgError;\n\nmodule.exports = arg;\n","import arg from 'arg'\r\nimport colors from 'ansi-colors'\r\nimport { parse as cliParse } from 'shell-quote'\r\n\r\nimport classes from './www.module.css'\r\n\r\nexport const name = 'www'\r\nexport const version = '0.1.0'\r\nexport const description = 'WWW Browser'\r\nexport const help = `\r\n  ${colors.danger.bold('NOTE:')} This app is not designed to be a full-featured browser,\r\n  but rather a shell to load url-based apps within web3os.\r\n  \r\n  Insecure HTTP urls are not supported. Many sites such as Google will simply refuse to load in an iframe, as they should.\r\n\r\n  However, it should work for any HTTPS resource that can be loaded in an iframe that doesn't explicitly forbid it.\r\n\r\n  ${colors.blue.bold('BACK')} and ${colors.blue.bold('FORWARD')} buttons use history of ${colors.cyan.bold('typed')} addresses, not ${colors.yellow.bold('browsed')} addresses.\r\n\r\n  Usage:\r\n    www <options> <url>         Open a window at <url>\r\n\r\n  Options:\r\n    --help                      Print this help\r\n    --no-toolbar                Hide the toolbar\r\n    --title                     Window title\r\n    --version                   Show version information\r\n`\r\n\r\nexport const spec = {\r\n  '--help': Boolean,\r\n  '--version': Boolean,\r\n  '--no-toolbar': Boolean,\r\n  '--title': String\r\n}\r\n\r\nexport async function run (terminal, context = '') {\r\n  const { kernel } = terminal\r\n\r\n  const args = arg(spec, { argv: cliParse(context) })\r\n\r\n  let url = args._?.[0]\r\n  if (args['--version']) return terminal.log(version)\r\n  if (args['--help']) return terminal.log(help)\r\n\r\n  url = (!url || url === '') ? 'about:blank' : url\r\n  const history = [url]\r\n  let historyPosition = 0\r\n\r\n  const browser = document.createElement('div')\r\n  const toolbar = document.createElement('div')\r\n  const addressBar = document.createElement('input')\r\n  const buttonWrapper = document.createElement('div')\r\n  const backIcon = document.createElement('mwc-icon')\r\n  const forwardIcon = document.createElement('mwc-icon')\r\n  const openIcon = document.createElement('mwc-icon')\r\n  const iframe = document.createElement('iframe')\r\n\r\n  backIcon.style.color = 'darkslateblue'\r\n  backIcon.textContent = 'arrow_back_ios'\r\n  backIcon.title = 'Back'\r\n\r\n  forwardIcon.style.color = 'darkslateblue'\r\n  forwardIcon.textContent = 'arrow_forward_ios'\r\n  forwardIcon.title = 'Forward'\r\n\r\n  openIcon.style.color = 'white'\r\n  openIcon.style.cursor = 'pointer'\r\n  openIcon.textContent = 'open_in_new'\r\n  openIcon.title = 'Open in new tab'\r\n\r\n  iframe.src = url\r\n  addressBar.value = url\r\n\r\n  // toolbar.classList.add('web3os-www-browser-toolbar')\r\n  // addressBar.classList.add('web3os-www-browser-toolbar-addressbar-input')\r\n  // buttonWrapper.classList.add('web3os-www-browser-toolbar-button-wrapper')\r\n\r\n  toolbar.classList.add(classes['web3os-www-browser-toolbar'])\r\n  addressBar.classList.add(classes['web3os-www-browser-toolbar-addressbar-input'])\r\n  buttonWrapper.classList.add(classes['web3os-www-browser-toolbar-button-wrapper'])\r\n\r\n  addressBar.addEventListener('focus', () => addressBar.select())\r\n  addressBar.addEventListener('keydown', e => {\r\n    if (e.key === 'Enter') {\r\n      let newUrl = addressBar.value\r\n      newUrl = /^about:/.test(newUrl)\r\n        ? newUrl\r\n        : (\r\n            /^https?:\\/\\//.test(newUrl)\r\n              ? newUrl\r\n              : `https://${newUrl}`\r\n          )\r\n\r\n      history.push(newUrl)\r\n      historyPosition = history.length - 1\r\n      gotoHistory()\r\n    }\r\n  })\r\n\r\n  const gotoHistory = () => {\r\n    url = history[historyPosition]\r\n    iframe.src = url\r\n    addressBar.value = url\r\n    appWindow.window.setTitle(`WWW: ${url}`)\r\n\r\n    backIcon.style.color = historyPosition === 0 ? 'darkslateblue' : 'white'\r\n    forwardIcon.style.color = historyPosition === history.length - 1 ? 'darkslateblue' : 'white'\r\n    backIcon.style.cursor = historyPosition === 0 ? 'initial' : 'pointer'\r\n    forwardIcon.style.cursor = historyPosition === history.length - 1 ? 'initial' : 'pointer'\r\n  }\r\n\r\n  backIcon.addEventListener('click', () => {\r\n    if (historyPosition === 0) return\r\n    historyPosition--\r\n    gotoHistory()\r\n  })\r\n\r\n  forwardIcon.addEventListener('click', () => {\r\n    if (historyPosition === history.length - 1) return\r\n    historyPosition++\r\n    gotoHistory()\r\n  })\r\n\r\n  openIcon.addEventListener('click', () => {\r\n    globalThis.open(url, '_blank')\r\n  })\r\n\r\n  buttonWrapper.appendChild(backIcon)\r\n  buttonWrapper.appendChild(forwardIcon)\r\n  buttonWrapper.appendChild(openIcon)\r\n\r\n  toolbar.appendChild(buttonWrapper)\r\n  toolbar.appendChild(addressBar)\r\n\r\n  browser.appendChild(toolbar)\r\n  browser.appendChild(iframe)\r\n\r\n  const appWindow = kernel.windows.create({\r\n    mount: browser,\r\n    title: args['--title'] || `WWW: ${url}`,\r\n    class: ['web3os-window', 'web3os-www-browser'],\r\n    x: 'center',\r\n    y: 'center',\r\n    width: '75%',\r\n    height: '75%'\r\n  })\r\n\r\n  appWindow.window.body.style.margin = '0'\r\n  appWindow.window.body.style.overflow = 'hidden'\r\n\r\n  if (args['--no-toolbar']) toolbar.style.display = 'none'\r\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".DJ8AtOhYOE3g9cvVP6wK .CJE2bVaHW3qD0wcdYoFH {\\r\\n  background-color: white !important;\\r\\n  color: #121212 !important;\\r\\n}\\r\\n\\r\\n.nA140JDkyvashPaaEZVg {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  padding-left: 1rem;\\r\\n  background-color: #240858;\\r\\n  min-height: 2.5rem;\\r\\n}\\r\\n\\r\\n.tdroFHSDwvHuHaxWsFUg {\\r\\n  display: flex;\\r\\n  gap: 1rem;\\r\\n  align-self: center;\\r\\n  min-width: 64px;\\r\\n}\\r\\n\\r\\n.tdroFHSDwvHuHaxWsFUg mwc-icon {\\r\\n  /* cursor: pointer; */\\r\\n  -ms-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  user-select: none;\\r\\n}\\r\\n\\r\\n.WpNSvWrmq87BRhVt3kRz {\\r\\n  border-top-left-radius: 20px;\\r\\n  border-bottom-left-radius: 20px;\\r\\n  padding-left: 1rem;\\r\\n  width: 70%;\\r\\n  font-weight: bolder;\\r\\n  font-size: 1.25rem;\\r\\n  color: black;\\r\\n  background-color: #ddd;\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/modules/www/www.module.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kCAAkC;EAClC,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,kBAAkB;EAClB,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,qBAAqB;EACrB,qBAAqB;EACrB,yBAAyB;EACzB,iBAAiB;AACnB;;AAEA;EACE,4BAA4B;EAC5B,+BAA+B;EAC/B,kBAAkB;EAClB,UAAU;EACV,mBAAmB;EACnB,kBAAkB;EAClB,YAAY;EACZ,sBAAsB;AACxB\",\"sourcesContent\":[\".web3os-www-browser .wb-body {\\r\\n  background-color: white !important;\\r\\n  color: #121212 !important;\\r\\n}\\r\\n\\r\\n.web3os-www-browser-toolbar {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  padding-left: 1rem;\\r\\n  background-color: #240858;\\r\\n  min-height: 2.5rem;\\r\\n}\\r\\n\\r\\n.web3os-www-browser-toolbar-button-wrapper {\\r\\n  display: flex;\\r\\n  gap: 1rem;\\r\\n  align-self: center;\\r\\n  min-width: 64px;\\r\\n}\\r\\n\\r\\n.web3os-www-browser-toolbar-button-wrapper mwc-icon {\\r\\n  /* cursor: pointer; */\\r\\n  -ms-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  user-select: none;\\r\\n}\\r\\n\\r\\n.web3os-www-browser-toolbar-addressbar-input {\\r\\n  border-top-left-radius: 20px;\\r\\n  border-bottom-left-radius: 20px;\\r\\n  padding-left: 1rem;\\r\\n  width: 70%;\\r\\n  font-weight: bolder;\\r\\n  font-size: 1.25rem;\\r\\n  color: black;\\r\\n  background-color: #ddd;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"web3os-www-browser\": \"DJ8AtOhYOE3g9cvVP6wK\",\n\t\"wb-body\": \"CJE2bVaHW3qD0wcdYoFH\",\n\t\"web3os-www-browser-toolbar\": \"nA140JDkyvashPaaEZVg\",\n\t\"web3os-www-browser-toolbar-button-wrapper\": \"tdroFHSDwvHuHaxWsFUg\",\n\t\"web3os-www-browser-toolbar-addressbar-input\": \"WpNSvWrmq87BRhVt3kRz\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","exports.quote = function (xs) {\n    return xs.map(function (s) {\n        if (s && typeof s === 'object') {\n            return s.op.replace(/(.)/g, '\\\\$1');\n        }\n        else if (/[\"\\s]/.test(s) && !/'/.test(s)) {\n            return \"'\" + s.replace(/(['\\\\])/g, '\\\\$1') + \"'\";\n        }\n        else if (/[\"'\\s]/.test(s)) {\n            return '\"' + s.replace(/([\"\\\\$`!])/g, '\\\\$1') + '\"';\n        }\n        else {\n            return String(s).replace(/([A-Za-z]:)?([#!\"$&'()*,:;<=>?@\\[\\\\\\]^`{|}])/g, '$1\\\\$2');\n        }\n    }).join(' ');\n};\n\n// '<(' is process substitution operator and\n// can be parsed the same as control operator\nvar CONTROL = '(?:' + [\n    '\\\\|\\\\|', '\\\\&\\\\&', ';;', '\\\\|\\\\&', '\\\\<\\\\(', '>>', '>\\\\&', '[&;()|<>]'\n].join('|') + ')';\nvar META = '|&;()<> \\\\t';\nvar BAREWORD = '(\\\\\\\\[\\'\"' + META + ']|[^\\\\s\\'\"' + META + '])+';\nvar SINGLE_QUOTE = '\"((\\\\\\\\\"|[^\"])*?)\"';\nvar DOUBLE_QUOTE = '\\'((\\\\\\\\\\'|[^\\'])*?)\\'';\n\nvar TOKEN = '';\nfor (var i = 0; i < 4; i++) {\n    TOKEN += (Math.pow(16,8)*Math.random()).toString(16);\n}\n\nexports.parse = function (s, env, opts) {\n    var mapped = parse(s, env, opts);\n    if (typeof env !== 'function') return mapped;\n    return mapped.reduce(function (acc, s) {\n        if (typeof s === 'object') return acc.concat(s);\n        var xs = s.split(RegExp('(' + TOKEN + '.*?' + TOKEN + ')', 'g'));\n        if (xs.length === 1) return acc.concat(xs[0]);\n        return acc.concat(xs.filter(Boolean).map(function (x) {\n            if (RegExp('^' + TOKEN).test(x)) {\n                return JSON.parse(x.split(TOKEN)[1]);\n            }\n            else return x;\n        }));\n    }, []);\n};\n\nfunction parse (s, env, opts) {\n    var chunker = new RegExp([\n        '(' + CONTROL + ')', // control chars\n        '(' + BAREWORD + '|' + SINGLE_QUOTE + '|' + DOUBLE_QUOTE + ')*'\n    ].join('|'), 'g');\n    var match = s.match(chunker).filter(Boolean);\n    var commented = false;\n\n    if (!match) return [];\n    if (!env) env = {};\n    if (!opts) opts = {};\n    return match.map(function (s, j) {\n        if (commented) {\n            return;\n        }\n        if (RegExp('^' + CONTROL + '$').test(s)) {\n            return { op: s };\n        }\n\n        // Hand-written scanner/parser for Bash quoting rules:\n        //\n        //  1. inside single quotes, all characters are printed literally.\n        //  2. inside double quotes, all characters are printed literally\n        //     except variables prefixed by '$' and backslashes followed by\n        //     either a double quote or another backslash.\n        //  3. outside of any quotes, backslashes are treated as escape\n        //     characters and not printed (unless they are themselves escaped)\n        //  4. quote context can switch mid-token if there is no whitespace\n        //     between the two quote contexts (e.g. all'one'\"token\" parses as\n        //     \"allonetoken\")\n        var SQ = \"'\";\n        var DQ = '\"';\n        var DS = '$';\n        var BS = opts.escape || '\\\\';\n        var quote = false;\n        var esc = false;\n        var out = '';\n        var isGlob = false;\n\n        for (var i = 0, len = s.length; i < len; i++) {\n            var c = s.charAt(i);\n            isGlob = isGlob || (!quote && (c === '*' || c === '?'));\n            if (esc) {\n                out += c;\n                esc = false;\n            }\n            else if (quote) {\n                if (c === quote) {\n                    quote = false;\n                }\n                else if (quote == SQ) {\n                    out += c;\n                }\n                else { // Double quote\n                    if (c === BS) {\n                        i += 1;\n                        c = s.charAt(i);\n                        if (c === DQ || c === BS || c === DS) {\n                            out += c;\n                        } else {\n                            out += BS + c;\n                        }\n                    }\n                    else if (c === DS) {\n                        out += parseEnvVar();\n                    }\n                    else {\n                        out += c;\n                    }\n                }\n            }\n            else if (c === DQ || c === SQ) {\n                quote = c;\n            }\n            else if (RegExp('^' + CONTROL + '$').test(c)) {\n                return { op: s };\n            }\n            else if (RegExp('^#$').test(c)) {\n                commented = true;\n                if (out.length){\n                    return [out, { comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\n                }\n                return [{ comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\n            }\n            else if (c === BS) {\n                esc = true;\n            }\n            else if (c === DS) {\n                out += parseEnvVar();\n            }\n            else out += c;\n        }\n\n        if (isGlob) return {op: 'glob', pattern: out};\n\n        return out;\n\n        function parseEnvVar() {\n            i += 1;\n            var varend, varname;\n            //debugger\n            if (s.charAt(i) === '{') {\n                i += 1;\n                if (s.charAt(i) === '}') {\n                    throw new Error(\"Bad substitution: \" + s.substr(i - 2, 3));\n                }\n                varend = s.indexOf('}', i);\n                if (varend < 0) {\n                    throw new Error(\"Bad substitution: \" + s.substr(i));\n                }\n                varname = s.substr(i, varend - i);\n                i = varend;\n            }\n            else if (/[*@#?$!_\\-]/.test(s.charAt(i))) {\n                varname = s.charAt(i);\n                i += 1;\n            }\n            else {\n                varend = s.substr(i).match(/[^\\w\\d_]/);\n                if (!varend) {\n                    varname = s.substr(i);\n                    i = s.length;\n                } else {\n                    varname = s.substr(i, varend.index);\n                    i += varend.index - 1;\n                }\n            }\n            return getVar(null, '', varname);\n        }\n    })\n    // finalize parsed aruments\n    .reduce(function(prev, arg){\n        if (arg === undefined){\n            return prev;\n        }\n        return prev.concat(arg);\n    },[]);\n\n    function getVar (_, pre, key) {\n        var r = typeof env === 'function' ? env(key) : env[key];\n        if (r === undefined && key != '')\n            r = '';\n        else if (r === undefined)\n            r = '$';\n\n        if (typeof r === 'object') {\n            return pre + TOKEN + JSON.stringify(r) + TOKEN;\n        }\n        else return pre + r;\n    }\n}\n","\n      import API from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/cjs.js!./www.module.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/cjs.js!./www.module.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["flagSymbol","Symbol","ArgError","Error","constructor","msg","code","super","this","name","Object","setPrototypeOf","prototype","arg","opts","argv","process","slice","permissive","stopAtPositional","result","_","aliases","handlers","key","keys","length","type","isFlag","Array","isArray","fn","value","prev","push","Boolean","i","len","wholeArg","concat","separatedArguments","split","map","a","j","originalArgName","argStr","undefined","argName","match","Number","BigInt","flag","COUNT","v","existingCount","module","exports","version","description","help","colors","spec","String","run","terminal","context","kernel","args","cliParse","url","log","history","historyPosition","browser","document","createElement","toolbar","addressBar","buttonWrapper","backIcon","forwardIcon","openIcon","iframe","style","color","textContent","title","cursor","src","classList","add","classes","addEventListener","select","e","newUrl","test","gotoHistory","appWindow","window","setTitle","globalThis","open","appendChild","windows","create","mount","class","x","y","width","height","body","margin","overflow","display","___CSS_LOADER_EXPORT___","id","locals","CONTROL","join","TOKEN","Math","pow","random","toString","s","env","mapped","chunker","RegExp","filter","commented","op","BS","escape","quote","esc","out","isGlob","c","charAt","parseEnvVar","comment","pattern","varend","varname","pre","r","substr","indexOf","index","JSON","stringify","reduce","parse","acc","xs","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}