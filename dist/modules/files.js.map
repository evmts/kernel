{"version":3,"file":"modules/files.js","mappings":"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","sources":["webpack://@web3os-core/kernel/./src/modules/files/files.css","webpack://@web3os-core/kernel/./node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/runtime/api.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/ctxmenu@1.4.3/node_modules/ctxmenu/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/mime-db@1.52.0/node_modules/mime-db/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/mime-types@2.1.35/node_modules/mime-types/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/path-browserify@1.0.1/node_modules/path-browserify/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js","webpack://@web3os-core/kernel/./src/modules/files/files.css?9ef4","webpack://@web3os-core/kernel/./node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://@web3os-core/kernel/webpack/bootstrap","webpack://@web3os-core/kernel/webpack/runtime/compat get default export","webpack://@web3os-core/kernel/webpack/runtime/define property getters","webpack://@web3os-core/kernel/webpack/runtime/hasOwnProperty shorthand","webpack://@web3os-core/kernel/webpack/runtime/nonce","webpack://@web3os-core/kernel/./src/modules/files/index.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".web3os-files-explorer {\\r\\n  height: 100%;\\r\\n  padding: 1rem;\\r\\n  color: white;\\r\\n  overflow-y: auto;\\r\\n\\r\\n  margin-top: -1em;\\r\\n  display: flex;\\r\\n  gap: 0.5rem;\\r\\n  justify-content: flex-start;\\r\\n  align-items: flex-start;\\r\\n  flex-wrap: wrap;\\r\\n  align-content: flex-start;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-entry {\\r\\n  margin-bottom: 1em;\\r\\n  display: flex;\\r\\n  flex: 0 1 calc(20% - 0.5em);\\r\\n}\\r\\n\\r\\n.web3os-files-browser {\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer::-webkit-scrollbar-track\\r\\n{\\r\\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\r\\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\r\\n  border-radius: 10px;\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer::-webkit-scrollbar\\r\\n{\\r\\n  width: 12px;\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer::-webkit-scrollbar-thumb\\r\\n{\\r\\n  border-radius: 10px;\\r\\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\r\\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\r\\n  background-color: #302f2f;\\r\\n}\\r\\n\\r\\n/* @media screen and (min-width: 40em) {\\r\\n  .web3os-files-explorer {\\r\\n    margin-top: -1em;\\r\\n    display: flex;\\r\\n    justify-content: flex-start;\\r\\n    align-items: flex-start;\\r\\n    flex-wrap: wrap;\\r\\n  }\\r\\n\\r\\n  .web3os-files-explorer-entry {\\r\\n    margin-bottom: 1em;\\r\\n    display: flex;\\r\\n    flex: 0 1 calc(20% - 0.5em);\\r\\n  }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 60em) {\\r\\n  .web3os-files-explorer {\\r\\n    margin-top: inherit;\\r\\n  }\\r\\n  \\r\\n  .web3os-files-explorer-entry {\\r\\n    margin-bottom: 2em;\\r\\n    display: flex;\\r\\n    flex: 0 1 calc(3% - 0.5em);\\r\\n  }\\r\\n} */\\r\\n\\r\\n.web3os-files-explorer * {\\r\\n  -ms-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  user-select: none;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-toolbar {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  padding-left: 1rem;\\r\\n  background-color: #240858;\\r\\n  min-height: 2.5rem;\\r\\n  position: relative;\\r\\n  z-index: 10;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-toolbar-button-wrapper {\\r\\n  display: flex;\\r\\n  gap: 1rem;\\r\\n  align-self: center;\\r\\n  min-width: 64px;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-toolbar-button-wrapper mwc-icon {\\r\\n  -ms-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  user-select: none;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-toolbar-addressbar-input {\\r\\n  border-top-left-radius: 20px;\\r\\n  border-bottom-left-radius: 20px;\\r\\n  padding-left: 1rem;\\r\\n  width: 65%;\\r\\n  font-weight: bolder;\\r\\n  font-size: 1rem;\\r\\n  color: black;\\r\\n  background-color: #ddd;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-entry {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  text-align: center;\\r\\n  cursor: pointer;\\r\\n  min-width: 150px;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-entry mwc-icon {\\r\\n  font-size: 4rem;\\r\\n  margin: auto;\\r\\n  max-width: 64px;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-entry h1 {\\r\\n  font-size: 1.25rem;\\r\\n  margin: auto;\\r\\n  word-break: break-all;\\r\\n}\\r\\n\\r\\n@media screen and (max-width: 460px) {\\r\\n  .web3os-files-explorer-toolbar-addressbar-input {\\r\\n    width: 55%;\\r\\n  }\\r\\n}\\r\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/modules/files/files.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;EACZ,aAAa;EACb,YAAY;EACZ,gBAAgB;;EAEhB,gBAAgB;EAChB,aAAa;EACb,WAAW;EACX,2BAA2B;EAC3B,uBAAuB;EACvB,eAAe;EACf,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,2BAA2B;AAC7B;;AAEA;EACE,YAAY;AACd;;AAEA;;EAEE,oDAAoD;EACpD,4CAA4C;EAC5C,mBAAmB;EACnB,6BAA6B;AAC/B;;AAEA;;EAEE,WAAW;EACX,6BAA6B;AAC/B;;AAEA;;EAEE,mBAAmB;EACnB,oDAAoD;EACpD,4CAA4C;EAC5C,yBAAyB;AAC3B;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;GA0BG;;AAEH;EACE,qBAAqB;EACrB,yBAAyB;EACzB,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,kBAAkB;EAClB,yBAAyB;EACzB,kBAAkB;EAClB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,SAAS;EACT,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,qBAAqB;EACrB,yBAAyB;EACzB,iBAAiB;AACnB;;AAEA;EACE,4BAA4B;EAC5B,+BAA+B;EAC/B,kBAAkB;EAClB,UAAU;EACV,mBAAmB;EACnB,eAAe;EACf,YAAY;EACZ,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,eAAe;EACf,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,qBAAqB;AACvB;;AAEA;EACE;IACE,UAAU;EACZ;AACF\",\"sourcesContent\":[\".web3os-files-explorer {\\r\\n  height: 100%;\\r\\n  padding: 1rem;\\r\\n  color: white;\\r\\n  overflow-y: auto;\\r\\n\\r\\n  margin-top: -1em;\\r\\n  display: flex;\\r\\n  gap: 0.5rem;\\r\\n  justify-content: flex-start;\\r\\n  align-items: flex-start;\\r\\n  flex-wrap: wrap;\\r\\n  align-content: flex-start;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-entry {\\r\\n  margin-bottom: 1em;\\r\\n  display: flex;\\r\\n  flex: 0 1 calc(20% - 0.5em);\\r\\n}\\r\\n\\r\\n.web3os-files-browser {\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer::-webkit-scrollbar-track\\r\\n{\\r\\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\r\\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\r\\n  border-radius: 10px;\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer::-webkit-scrollbar\\r\\n{\\r\\n  width: 12px;\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer::-webkit-scrollbar-thumb\\r\\n{\\r\\n  border-radius: 10px;\\r\\n  -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\r\\n  box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\\r\\n  background-color: #302f2f;\\r\\n}\\r\\n\\r\\n/* @media screen and (min-width: 40em) {\\r\\n  .web3os-files-explorer {\\r\\n    margin-top: -1em;\\r\\n    display: flex;\\r\\n    justify-content: flex-start;\\r\\n    align-items: flex-start;\\r\\n    flex-wrap: wrap;\\r\\n  }\\r\\n\\r\\n  .web3os-files-explorer-entry {\\r\\n    margin-bottom: 1em;\\r\\n    display: flex;\\r\\n    flex: 0 1 calc(20% - 0.5em);\\r\\n  }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 60em) {\\r\\n  .web3os-files-explorer {\\r\\n    margin-top: inherit;\\r\\n  }\\r\\n  \\r\\n  .web3os-files-explorer-entry {\\r\\n    margin-bottom: 2em;\\r\\n    display: flex;\\r\\n    flex: 0 1 calc(3% - 0.5em);\\r\\n  }\\r\\n} */\\r\\n\\r\\n.web3os-files-explorer * {\\r\\n  -ms-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  user-select: none;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-toolbar {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  padding-left: 1rem;\\r\\n  background-color: #240858;\\r\\n  min-height: 2.5rem;\\r\\n  position: relative;\\r\\n  z-index: 10;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-toolbar-button-wrapper {\\r\\n  display: flex;\\r\\n  gap: 1rem;\\r\\n  align-self: center;\\r\\n  min-width: 64px;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-toolbar-button-wrapper mwc-icon {\\r\\n  -ms-user-select: none;\\r\\n  -webkit-user-select: none;\\r\\n  user-select: none;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-toolbar-addressbar-input {\\r\\n  border-top-left-radius: 20px;\\r\\n  border-bottom-left-radius: 20px;\\r\\n  padding-left: 1rem;\\r\\n  width: 65%;\\r\\n  font-weight: bolder;\\r\\n  font-size: 1rem;\\r\\n  color: black;\\r\\n  background-color: #ddd;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-entry {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  text-align: center;\\r\\n  cursor: pointer;\\r\\n  min-width: 150px;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-entry mwc-icon {\\r\\n  font-size: 4rem;\\r\\n  margin: auto;\\r\\n  max-width: 64px;\\r\\n}\\r\\n\\r\\n.web3os-files-explorer-entry h1 {\\r\\n  font-size: 1.25rem;\\r\\n  margin: auto;\\r\\n  word-break: break-all;\\r\\n}\\r\\n\\r\\n@media screen and (max-width: 460px) {\\r\\n  .web3os-files-explorer-toolbar-addressbar-input {\\r\\n    width: 55%;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction __spreadArrays() {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, \n    k++) r[k] = a[j];\n    return r;\n}\n\nfunction getProp(prop) {\n    return \"function\" === typeof prop ? prop() : prop;\n}\n\nfunction itemIsInteractive(item) {\n    return itemIsAction(item) || itemIsAnchor(item) || itemIsSubMenu(item) || itemIsCustom(item);\n}\n\nfunction itemIsAction(item) {\n    return item.hasOwnProperty(\"action\");\n}\n\nfunction itemIsAnchor(item) {\n    return item.hasOwnProperty(\"href\");\n}\n\nfunction itemIsDivider(item) {\n    return item.hasOwnProperty(\"isDivider\");\n}\n\nfunction itemIsSubMenu(item) {\n    return item.hasOwnProperty(\"subMenu\");\n}\n\nfunction itemIsCustom(item) {\n    return item.hasOwnProperty(\"html\") || item.hasOwnProperty(\"element\");\n}\n\nfunction onHoverDebounced(target, action) {\n    var timeout;\n    target.addEventListener(\"mouseenter\", (function(e) {\n        timeout = setTimeout((function() {\n            return action(e);\n        }), 150);\n    }));\n    target.addEventListener(\"mouseleave\", (function() {\n        return clearTimeout(timeout);\n    }));\n}\n\nfunction getBounding(elem) {\n    var container = elem.cloneNode(true);\n    container.style.visibility = \"hidden\";\n    document.body.appendChild(container);\n    var result = container.getBoundingClientRect();\n    document.body.removeChild(container);\n    return result;\n}\n\nfunction isDisabled(item) {\n    return getProp(item.disabled) || itemIsSubMenu(item) && 0 === item.subMenu.length;\n}\n\nfunction generateMenuItem(item) {\n    var li = document.createElement(\"li\");\n    if (itemIsDivider(item)) {\n        li.className = \"divider\";\n        return li;\n    }\n    generateBaseItemContent(item, li);\n    if (!itemIsInteractive(item)) {\n        li.classList.add(\"heading\");\n        return li;\n    }\n    if (isDisabled(item)) {\n        li.classList.add(\"disabled\");\n        if (itemIsSubMenu(item)) li.classList.add(\"submenu\");\n        return li;\n    }\n    li.classList.add(\"interactive\");\n    if (itemIsAnchor(item)) {\n        var a = document.createElement(\"a\");\n        a.append.apply(a, Array.from(li.childNodes));\n        a.href = getProp(item.href);\n        if (item.hasOwnProperty(\"download\")) a.download = getProp(item.download);\n        if (item.hasOwnProperty(\"target\")) a.target = getProp(item.target);\n        li.append(a);\n        return li;\n    }\n    if (itemIsAction(item)) {\n        li.addEventListener(\"click\", item.action);\n        return li;\n    }\n    li.classList.add(\"submenu\");\n    return li;\n}\n\nfunction generateBaseItemContent(item, li) {\n    var html = getProp(item.html);\n    var text = \"<span>\" + getProp(item.text) + \"</span>\";\n    var elem = getProp(item.element);\n    elem ? li.append(elem) : li.innerHTML = html ? html : text;\n    li.title = getProp(item.tooltip) || \"\";\n    if (item.style) li.setAttribute(\"style\", getProp(item.style));\n    if (item.icon) {\n        li.classList.add(\"icon\");\n        li.innerHTML += '<img class=\"icon\" src=\"' + getProp(item.icon) + '\" />';\n    }\n}\n\nvar styles = 'html{min-height:100%}.ctxmenu{position:fixed;max-height:100vh;border:1px solid #999;padding:2px 0;box-shadow:#aaa 3px 3px 3px;background:#fff;margin:0;z-index:9999;overflow-y:auto;font:15px Verdana, sans-serif}.ctxmenu li{margin:1px 0;display:block;position:relative;user-select:none}.ctxmenu li.heading{font-weight:bold;margin-left:-5px}.ctxmenu li span{display:block;padding:2px 20px;cursor:default}.ctxmenu li a{color:inherit;text-decoration:none}.ctxmenu li.icon{padding-left:15px}.ctxmenu img.icon{position:absolute;width:18px;left:10px;top:2px}.ctxmenu li.disabled{color:#ccc}.ctxmenu li.divider{border-bottom:1px solid #aaa;margin:5px 0}.ctxmenu li.interactive:hover{background:rgba(0, 0, 0, .1)}.ctxmenu li.submenu::after{content:\"\";position:absolute;display:block;top:0;bottom:0;right:.4em;margin:auto .1rem auto auto;border-right:1px solid #000;border-top:1px solid #000;transform:rotate(45deg);width:.3rem;height:.3rem}.ctxmenu li.submenu.disabled::after{border-color:#ccc}';\n\n/*! ctxMenu v1.4.3 | (c) Nikolaj Kappler | https://github.com/nkappler/ctxmenu/blob/master/LICENSE !*/ var ContextMenu = function() {\n    function ContextMenu() {\n        var _this = this;\n        this.cache = {};\n        this.hdir = \"r\";\n        this.vdir = \"d\";\n        this.preventCloseOnScroll = false;\n        window.addEventListener(\"click\", (function(ev) {\n            var item = ev.target instanceof Element && ev.target.parentElement;\n            if (item && \"interactive\" === item.className) return;\n            _this.hide();\n        }));\n        window.addEventListener(\"resize\", (function() {\n            return _this.hide();\n        }));\n        var timeout = 0;\n        window.addEventListener(\"wheel\", (function() {\n            clearTimeout(timeout);\n            timeout = setTimeout((function() {\n                if (_this.preventCloseOnScroll) {\n                    _this.preventCloseOnScroll = false;\n                    return;\n                }\n                _this.hide();\n            }));\n        }), {\n            passive: true\n        });\n        ContextMenu.addStylesToDom();\n    }\n    ContextMenu.getInstance = function() {\n        if (!ContextMenu.instance) ContextMenu.instance = new ContextMenu;\n        var instance = ContextMenu.instance;\n        return {\n            attach: instance.attach.bind(instance),\n            delete: instance.delete.bind(instance),\n            hide: instance.hide.bind(instance),\n            show: instance.show.bind(instance),\n            update: instance.update.bind(instance)\n        };\n    };\n    ContextMenu.prototype.attach = function(target, ctxMenu, beforeRender) {\n        var _this = this;\n        if (void 0 === beforeRender) beforeRender = function(m) {\n            return m;\n        };\n        var t = document.querySelector(target);\n        if (void 0 !== this.cache[target]) {\n            console.error(\"target element \" + target + \" already has a context menu assigned. Use ContextMenu.update() intstead.\");\n            return;\n        }\n        if (!t) {\n            console.error(\"target element \" + target + \" not found\");\n            return;\n        }\n        var handler = function(e) {\n            var newMenu = beforeRender(__spreadArrays(ctxMenu), e);\n            _this.show(newMenu, e);\n        };\n        this.cache[target] = {\n            ctxMenu: ctxMenu,\n            handler: handler,\n            beforeRender: beforeRender\n        };\n        t.addEventListener(\"contextmenu\", handler);\n    };\n    ContextMenu.prototype.update = function(target, ctxMenu, beforeRender) {\n        var o = this.cache[target];\n        var t = document.querySelector(target);\n        o && (null === t || void 0 === t ? void 0 : t.removeEventListener(\"contextmenu\", o.handler));\n        delete this.cache[target];\n        this.attach(target, ctxMenu || (null === o || void 0 === o ? void 0 : o.ctxMenu) || [], beforeRender || (null === o || void 0 === o ? void 0 : o.beforeRender));\n    };\n    ContextMenu.prototype.delete = function(target) {\n        var o = this.cache[target];\n        if (!o) {\n            console.error(\"no context menu for target element \" + target + \" found\");\n            return;\n        }\n        var t = document.querySelector(target);\n        if (!t) {\n            console.error(\"target element \" + target + \" does not exist (anymore)\");\n            return;\n        }\n        t.removeEventListener(\"contextmenu\", o.handler);\n        delete this.cache[target];\n    };\n    ContextMenu.prototype.show = function(ctxMenu, eventOrElement) {\n        var _this = this;\n        if (eventOrElement instanceof MouseEvent) eventOrElement.stopImmediatePropagation();\n        this.hide();\n        this.menu = this.generateDOM(__spreadArrays(ctxMenu), eventOrElement);\n        document.body.appendChild(this.menu);\n        this.menu.addEventListener(\"wheel\", (function() {\n            return _this.preventCloseOnScroll = true;\n        }), {\n            passive: true\n        });\n        if (eventOrElement instanceof MouseEvent) eventOrElement.preventDefault();\n    };\n    ContextMenu.prototype.hide = function(menu) {\n        var _a;\n        if (void 0 === menu) menu = this.menu;\n        this.hdir = \"r\";\n        this.vdir = \"d\";\n        if (menu) {\n            if (menu === this.menu) delete this.menu;\n            null === (_a = menu.parentElement) || void 0 === _a ? void 0 : _a.removeChild(menu);\n        }\n    };\n    ContextMenu.prototype.generateDOM = function(ctxMenu, parentOrEvent) {\n        var _this = this;\n        var container = document.createElement(\"ul\");\n        if (0 === ctxMenu.length) container.style.display = \"none\";\n        ctxMenu.forEach((function(item) {\n            var li = generateMenuItem(item);\n            onHoverDebounced(li, (function() {\n                var _a;\n                var subMenu = null === (_a = li.parentElement) || void 0 === _a ? void 0 : _a.querySelector(\"ul\");\n                if (subMenu && subMenu.parentElement !== li) _this.hide(subMenu);\n            }));\n            if (itemIsInteractive(item) && !isDisabled(item)) if (itemIsSubMenu(item)) onHoverDebounced(li, (function(ev) {\n                var subMenu = li.querySelector(\"ul\");\n                if (!subMenu) _this.openSubMenu(ev, getProp(item.subMenu), li);\n            })); else li.addEventListener(\"click\", (function() {\n                return _this.hide();\n            }));\n            container.appendChild(li);\n        }));\n        container.className = \"ctxmenu\";\n        var rect = getBounding(container);\n        var pos = {\n            x: 0,\n            y: 0\n        };\n        if (parentOrEvent instanceof Element) {\n            var _a = parentOrEvent.getBoundingClientRect(), left = _a.left, width = _a.width, top_1 = _a.top;\n            pos = {\n                x: \"r\" === this.hdir ? left + width : left - rect.width,\n                y: top_1\n            };\n            if (parentOrEvent.className.includes(\"submenu\")) pos.y += \"d\" === this.vdir ? 4 : -12;\n            var savePos = this.getPosition(rect, pos);\n            if (pos.x !== savePos.x) {\n                this.hdir = \"r\" === this.hdir ? \"l\" : \"r\";\n                pos.x = \"r\" === this.hdir ? left + width : left - rect.width;\n            }\n            if (pos.y !== savePos.y) {\n                this.vdir = \"u\" === this.vdir ? \"d\" : \"u\";\n                pos.y = savePos.y;\n            }\n            pos = this.getPosition(rect, pos, false);\n        } else pos = this.getPosition(rect, {\n            x: parentOrEvent.clientX,\n            y: parentOrEvent.clientY\n        });\n        container.style.left = pos.x + \"px\";\n        container.style.top = pos.y + \"px\";\n        container.addEventListener(\"contextmenu\", (function(ev) {\n            ev.stopPropagation();\n            ev.preventDefault();\n        }));\n        container.addEventListener(\"click\", (function(ev) {\n            var item = ev.target instanceof Element && ev.target.parentElement;\n            if (item && \"interactive\" !== item.className) ev.stopPropagation();\n        }));\n        return container;\n    };\n    ContextMenu.prototype.openSubMenu = function(e, ctxMenu, listElement) {\n        var _a;\n        var subMenu = null === (_a = listElement.parentElement) || void 0 === _a ? void 0 : _a.querySelector(\"li > ul\");\n        if (subMenu && subMenu.parentElement !== listElement) this.hide(subMenu);\n        listElement.appendChild(this.generateDOM(ctxMenu, listElement));\n    };\n    ContextMenu.prototype.getPosition = function(rect, pos, addScrollOffset) {\n        if (void 0 === addScrollOffset) addScrollOffset = true;\n        var html = document.documentElement;\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        var hasTransform = \"\" !== document.body.style.transform;\n        var minX = hasTransform ? window.scrollX : 0;\n        var minY = hasTransform ? window.scrollY : 0;\n        var maxX = hasTransform ? width + window.scrollX : width;\n        var maxY = hasTransform ? height + window.scrollY : height;\n        if (hasTransform && addScrollOffset) {\n            pos.x += window.scrollX;\n            pos.y += window.scrollY;\n        }\n        return {\n            x: \"r\" === this.hdir ? pos.x + rect.width > maxX ? maxX - rect.width : pos.x : pos.x < minX ? minX : pos.x,\n            y: \"d\" === this.vdir ? pos.y + rect.height > maxY ? maxY - rect.height : pos.y : pos.y < minY ? minY : pos.y\n        };\n    };\n    ContextMenu.addStylesToDom = function() {\n        var append = function() {\n            if (\"loading\" === document.readyState) return document.addEventListener(\"readystatechange\", append);\n            var style = document.createElement(\"style\");\n            style.innerHTML = styles;\n            document.head.insertBefore(style, document.head.childNodes[0]);\n            append = function() {};\n        };\n        append();\n    };\n    return ContextMenu;\n}();\n\nvar ctxmenu = ContextMenu.getInstance();\n\nexports.ctxmenu = ctxmenu;\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","// 'path' module extracted from Node.js v8.11.1 (only the posix part)\n// transplited with Babel\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSegmentLength = 0;\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47 /*/*/)\n      break;\n    else\n      code = 47 /*/*/;\n    if (code === 47 /*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {\n          if (res.length > 2) {\n            var lastSlashIndex = res.lastIndexOf('/');\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 /*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0) return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute) path = '.';\n    if (path.length > 0 && trailingSeparator) path += '/';\n\n    if (isAbsolute) return '/' + path;\n    return path;\n  },\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;\n  },\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to) return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to) return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47 /*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = fromEnd - fromStart;\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47 /*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = toEnd - toStart;\n\n    // Compare paths to find the longest common path from root\n    var length = fromLen < toLen ? fromLen : toLen;\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47 /*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47 /*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47 /*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0) return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = code === 47 /*/*/;\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          if (!matchedSlash) {\n            end = i;\n            break;\n          }\n        } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1) return '//';\n    return path.slice(0, end);\n  },\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47 /*/*/) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n              start = i + 1;\n              break;\n            }\n          } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) return '';\n      return path.slice(start, end);\n    }\n  },\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1)\n            startDot = i;\n          else if (preDotState !== 1)\n            preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof pathObject);\n    }\n    return _format('/', pathObject);\n  },\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0) return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = code === 47 /*/*/;\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47 /*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            startPart = i + 1;\n            break;\n          }\n          continue;\n        }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46 /*.*/) {\n          // If this is our first dot, mark it as the start of our extension\n          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;\n        } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 ||\n    // We saw a non-dot character immediately before the dot\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';\n\n    return ret;\n  },\n\n  sep: '/',\n  delimiter: ':',\n  win32: null,\n  posix: null\n};\n\nposix.posix = posix;\n\nmodule.exports = posix;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\n      import API from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/.pnpm/style-loader@3.3.1_webpack@5.73.0/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/cjs.js!./files.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/.pnpm/css-loader@6.7.1_webpack@5.73.0/node_modules/css-loader/dist/cjs.js!./files.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nc = undefined;","/* global FileReader */\r\n\r\nimport { ctxmenu } from 'ctxmenu'\r\nimport { lookup } from 'mime-types'\r\n\r\nimport './files.css'\r\n\r\nexport const name = 'files'\r\nexport const description = 'File Explorer'\r\nexport const help = `\r\n  Usage:\r\n    files <path>         Open a window at <url>\r\n`\r\n\r\nexport let appWindow\r\nlet kernel = globalThis.Kernel\r\nlet history = []\r\nlet historyPosition = 0\r\n\r\nasync function loadFolder (browser, url) {\r\n  browser.cloneNode(true) // Remove all event listeners\r\n\r\n  const explorer = browser.querySelector('.web3os-files-explorer')\r\n  const addressBar = browser.querySelector('.web3os-files-explorer-toolbar-addressbar-input')\r\n\r\n  const upIcon = browser.querySelector('mwc-icon[title=Up]')\r\n  const backIcon = browser.querySelector('mwc-icon[title=Back]')\r\n  const forwardIcon = browser.querySelector('mwc-icon[title=Forward]')\r\n\r\n  try {\r\n    const files = kernel.fs.readdirSync(url)\r\n    explorer.textContent = ''\r\n\r\n    files.sort().forEach(file => {\r\n      const fileData = { name: file }\r\n      const location = kernel.utils.path.resolve(url, file)\r\n      const stat = kernel.fs.statSync(location)\r\n\r\n      fileData.type = stat.isDirectory() ? 'dir' : 'file'\r\n      fileData.location = location\r\n\r\n      const entry = document.createElement('div')\r\n      entry.classList.add('web3os-files-explorer-entry')\r\n\r\n      const icon = document.createElement('mwc-icon')\r\n      const title = document.createElement('h1')\r\n\r\n      let fileIcon\r\n      switch (fileData.type) {\r\n        case 'dir':\r\n          fileIcon = 'folder'\r\n          break\r\n        default:\r\n          fileIcon = 'text_snippet'\r\n      }\r\n\r\n      const extension = kernel.utils.path.extname(file)\r\n      const mime = lookup(extension)\r\n      const isBin = !!(!mime && fileData.type === 'file' && /^\\/bin\\//.test(fileData.location))\r\n\r\n      switch (extension) {\r\n        case '.js':\r\n          fileIcon = 'javascript'\r\n          break\r\n        case '.sh':\r\n          fileIcon = 'code'\r\n          break\r\n        case '.md':\r\n          fileIcon = 'assignment'\r\n          break\r\n        case '.link':\r\n          fileIcon = 'link'\r\n          break\r\n        case '.jpg':\r\n        case '.png':\r\n        case '.webp':\r\n        case '.svg':\r\n        case '.gif':\r\n          fileIcon = 'image'\r\n          break\r\n      }\r\n\r\n      switch (location) {\r\n        case '/var':\r\n        case '/config':\r\n        case '/desktop':\r\n        case '/usr':\r\n        case '/var/packages':\r\n          fileIcon = 'source'\r\n          break\r\n        case '/bin':\r\n          fileIcon = 'folder_special'\r\n          break\r\n        case '/config/packages':\r\n          fileIcon = 'apps'\r\n          break\r\n        case '/docs':\r\n          fileIcon = 'snippet_folder'\r\n          break\r\n        case '/tmp':\r\n          fileIcon = 'folder_delete'\r\n          break\r\n      }\r\n\r\n      if (isBin) fileIcon = 'terminal'\r\n\r\n      icon.textContent = fileIcon\r\n      title.textContent = file\r\n      entry.dataset.file = file\r\n      icon.dataset.file = entry.dataset.file\r\n      title.dataset.file = entry.dataset.file\r\n\r\n      let divider = false\r\n      let entryContextMenu = []\r\n      const setAriaLabel = label => [icon, title].forEach(el => { el.setAttribute('aria-label', label) }) // .ariaLabel isn't yet supported in firefox\r\n\r\n      switch (extension) {\r\n        case '.js':\r\n          divider = true\r\n          setAriaLabel('Run script')\r\n          entryContextMenu.push({ text: 'Run', action: () => kernel.execute(`eval ${location}`) })\r\n          break\r\n        case '.sh':\r\n          divider = true\r\n          setAriaLabel('Run script')\r\n          entryContextMenu.push({ text: 'Run', action: () => kernel.execute(`sh ${location}`) })\r\n          break\r\n        case '.md':\r\n          divider = true\r\n          setAriaLabel('View Markdown')\r\n          entryContextMenu.push({ text: 'View', action: () => kernel.execute(`markdown ${location}`) })\r\n          break\r\n        case '.link':\r\n          divider = true\r\n          setAriaLabel('Open link in new tab')\r\n          entryContextMenu.push({\r\n            text: 'Open',\r\n            action: () => {\r\n              try {\r\n                const { url, useWeb3osBrowser } = JSON.parse(kernel.fs.readFileSync(location, 'utf8'))\r\n                if (!useWeb3osBrowser) globalThis.open(url, '_blank')\r\n                else kernel.execute(`www ${url}`)\r\n              } catch (err) {\r\n                console.error(err)\r\n                kernel.dialog({ title: 'Error', text: err.message, icon: 'error' })\r\n              }\r\n            }\r\n          })\r\n          break\r\n        case '.jpg':\r\n        case '.png':\r\n        case '.webp':\r\n        case '.svg':\r\n        case '.gif':\r\n          divider = true\r\n          setAriaLabel('View image')\r\n          entryContextMenu.push({ text: 'View', action: () => kernel.execute(`view ${location}`) })\r\n          break\r\n      }\r\n\r\n      if (icon.getAttribute('aria-label')) icon.classList.add('hint--right', 'hint--info')\r\n      if (title.getAttribute('aria-label')) title.classList.add('hint--right', 'hint--info')\r\n      if (divider) entryContextMenu.push({ isDivider: true })\r\n\r\n      if (fileData.type !== 'dir') {\r\n        entryContextMenu.push({\r\n          text: 'Edit',\r\n          action: () => kernel.execute(`edit ${location}`)\r\n        })\r\n      }\r\n\r\n      entryContextMenu.push(\r\n        {\r\n          text: 'Delete',\r\n          action: async () => {\r\n            const { isConfirmed } = await kernel.dialog({\r\n              title: `Delete ${location}?`,\r\n              text: 'Are you sure you want to delete this file? It cannot be undone.',\r\n              icon: 'error',\r\n              reverseButtons: true,\r\n              showDenyButton: true,\r\n              denyButtonText: 'Cancel',\r\n              confirmButtonText: 'Delete',\r\n              confirmButtonColor: 'red',\r\n              denyButtonColor: '#888'\r\n            })\r\n\r\n            if (isConfirmed) {\r\n              if (fileData.type !== 'dir') await kernel.execute(`rm ${location}`)\r\n              else await kernel.execute(`rmdir ${location}`)\r\n              loadFolder(browser, url)\r\n            }\r\n          }\r\n        }\r\n      )\r\n\r\n      if (isBin) {\r\n        entryContextMenu = [\r\n          {\r\n            text: 'Run',\r\n            action: () => kernel.execute(location)\r\n          },\r\n          {\r\n            text: 'Run in new terminal',\r\n            action: () => kernel.modules.desktop.launchTerminal({ startup: location })\r\n          }\r\n        ]\r\n      }\r\n\r\n      entry.addEventListener('contextmenu', e => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        ctxmenu.show(entryContextMenu, e.target.closest('.web3os-files-explorer-entry').querySelector('mwc-icon'))\r\n      })\r\n\r\n      entry.addEventListener('click', e => {\r\n        const { file } = e.target.dataset\r\n\r\n        const location = kernel.utils.path.resolve(addressBar.value, file)\r\n        const stat = kernel.fs.statSync(location)\r\n        const fileParts = kernel.utils.path.parse(file)\r\n        const extension = fileParts.ext\r\n\r\n        if (stat.isDirectory()) {\r\n          history.push(location)\r\n          historyPosition = history.length - 1\r\n          addressBar.value = location\r\n          return loadFolder(browser, location)\r\n        }\r\n\r\n        if (isBin) return kernel.execute(location) && appWindow.window.minimize()\r\n\r\n        const promptExecute = async allow => {\r\n          const { isConfirmed } = await kernel.dialog({\r\n            title: `Execute Script: ${location}`,\r\n            text: 'Executing scripts can be dangerous. Are you sure?',\r\n            icon: 'warning',\r\n            showDenyButton: true,\r\n            denyButtonColor: 'green',\r\n            denyButtonText: 'Cancel',\r\n            confirmButtonColor: 'red',\r\n            confirmButtonText: 'Run'\r\n          })\r\n\r\n          if (isConfirmed) allow()\r\n        }\r\n\r\n        switch (extension) {\r\n          case '.sh':\r\n            return promptExecute(() => kernel.executeScript(location) && appWindow.window.minimize())\r\n          case '.js':\r\n            return promptExecute(() => kernel.execute(`eval ${location}`) && appWindow.window.minimize())\r\n          case '.json':\r\n          case '.txt':\r\n            return kernel.execute(`edit ${location}`) && appWindow.window.minimize()\r\n          case '.md':\r\n            return kernel.execute(`markdown ${location}`) && appWindow.window.minimize()\r\n          case '.link':\r\n            try {\r\n              const { url, useWeb3osBrowser } = JSON.parse(kernel.fs.readFileSync(location, 'utf8'))\r\n              if (!useWeb3osBrowser) globalThis.open(url, '_blank')\r\n              else { kernel.execute(`www ${url}`) && appWindow.window.minimize() }\r\n            } catch (err) {\r\n              console.error(err)\r\n              kernel.dialog({ title: 'Error', text: err.message, icon: 'error' })\r\n            }\r\n            break\r\n          default:\r\n            if (mime && /^(image|video|audio|application\\/pdf)/.test(mime)) return kernel.execute(`view ${location}`) && appWindow.window.minimize()\r\n            kernel.execute(\"alert I'm not sure how to handle this file!\")\r\n        }\r\n      })\r\n\r\n      entry.appendChild(icon)\r\n      entry.appendChild(title)\r\n\r\n      explorer.appendChild(entry)\r\n    })\r\n\r\n    addressBar.value = url\r\n    browser.appWindow.window.setTitle(`${url}`)\r\n\r\n    upIcon.style.color = addressBar.value === '/' ? 'darkslateblue' : 'white'\r\n    backIcon.style.color = historyPosition === 0 ? 'darkslateblue' : 'white'\r\n    forwardIcon.style.color = historyPosition === history.length - 1 ? 'darkslateblue' : 'white'\r\n\r\n    upIcon.style.cursor = addressBar.value === '/' ? 'initial' : 'pointer'\r\n    backIcon.style.cursor = historyPosition === 0 ? 'initial' : 'pointer'\r\n    forwardIcon.style.cursor = historyPosition === history.length - 1 ? 'initial' : 'pointer'\r\n  } catch (err) {\r\n    console.error(err)\r\n    addressBar.style.color = 'red'\r\n    kernel.execute('snackbar Invalid path')\r\n  }\r\n}\r\n\r\nexport async function run (terminal = globalThis.Terminal, url) {\r\n  kernel = terminal.kernel || globalThis.Kernel\r\n  url = (!url || url === '') ? '/' : url\r\n  history = [url]\r\n  historyPosition = 0\r\n\r\n  const browser = document.createElement('div')\r\n  const toolbar = document.createElement('div')\r\n  const addressBar = document.createElement('input')\r\n  const buttonWrapper = document.createElement('div')\r\n  const backIcon = document.createElement('mwc-icon')\r\n  const forwardIcon = document.createElement('mwc-icon')\r\n  const upIcon = document.createElement('mwc-icon')\r\n  const terminalIcon = document.createElement('mwc-icon')\r\n  const explorer = document.createElement('div')\r\n\r\n  backIcon.style.color = 'darkslateblue'\r\n  backIcon.textContent = 'arrow_back_ios'\r\n  backIcon.title = 'Back'\r\n\r\n  forwardIcon.style.color = 'darkslateblue'\r\n  forwardIcon.textContent = 'arrow_forward_ios'\r\n  forwardIcon.title = 'Forward'\r\n\r\n  upIcon.style.color = 'darkslateblue'\r\n  upIcon.textContent = 'arrow_upward'\r\n  upIcon.title = 'Up'\r\n\r\n  terminalIcon.style.color = 'white'\r\n  terminalIcon.style.cursor = 'pointer'\r\n  terminalIcon.textContent = 'terminal'\r\n  terminalIcon.title = 'Open Terminal Here'\r\n\r\n  addressBar.value = url\r\n  explorer.dataset.url = url\r\n\r\n  browser.classList.add('web3os-files-browser')\r\n  toolbar.classList.add('web3os-files-explorer-toolbar')\r\n  addressBar.classList.add('web3os-files-explorer-toolbar-addressbar-input')\r\n  buttonWrapper.classList.add('web3os-files-explorer-toolbar-button-wrapper')\r\n  explorer.classList.add('web3os-files-explorer')\r\n\r\n  addressBar.spellcheck = false\r\n  addressBar.addEventListener('focus', () => addressBar.select())\r\n  addressBar.addEventListener('keydown', e => {\r\n    if (e.key === 'Enter') {\r\n      addressBar.style.color = 'white'\r\n      const newUrl = addressBar.value\r\n      history.push(newUrl)\r\n      historyPosition = history.length - 1\r\n      gotoHistory()\r\n    }\r\n  })\r\n\r\n  const gotoHistory = () => {\r\n    url = history[historyPosition]\r\n    loadFolder(browser, url)\r\n  }\r\n\r\n  backIcon.addEventListener('click', () => {\r\n    if (historyPosition === 0) return\r\n    historyPosition--\r\n    gotoHistory()\r\n  })\r\n\r\n  forwardIcon.addEventListener('click', () => {\r\n    if (historyPosition === history.length - 1) return\r\n    historyPosition++\r\n    gotoHistory()\r\n  })\r\n\r\n  upIcon.addEventListener('click', () => {\r\n    if (addressBar.value === '/') return\r\n    const newUrl = kernel.utils.path.resolve(addressBar.value, '..')\r\n    history.push(newUrl)\r\n    historyPosition = history.length - 1\r\n    gotoHistory()\r\n  })\r\n\r\n  terminalIcon.addEventListener('click', async () => {\r\n    await kernel.modules.desktop.launchTerminal({ path: addressBar.value })\r\n  })\r\n\r\n  buttonWrapper.appendChild(backIcon)\r\n  buttonWrapper.appendChild(forwardIcon)\r\n  buttonWrapper.appendChild(upIcon)\r\n  buttonWrapper.appendChild(terminalIcon)\r\n\r\n  toolbar.appendChild(buttonWrapper)\r\n  toolbar.appendChild(addressBar)\r\n\r\n  browser.appendChild(toolbar)\r\n  browser.appendChild(explorer)\r\n\r\n  const dragstart = e => { e.dataTransfer.effectAllowed = 'copy' }\r\n  const dragover = e => { e.preventDefault(); e.dataTransfer.dropEffect = 'copy' }\r\n  const drop = e => {\r\n    e.stopPropagation()\r\n    e.preventDefault()\r\n    const dt = e.dataTransfer\r\n    const files = dt.files\r\n\r\n    for (const file of files) {\r\n      const reader = new FileReader()\r\n\r\n      reader.readAsArrayBuffer(file)\r\n      reader.onload = () => {\r\n        const buffer = kernel.BrowserFS.Buffer.from(reader.result)\r\n        const filepath = kernel.utils.path.resolve(addressBar.value, file.name)\r\n        kernel.fs.writeFileSync(filepath, buffer)\r\n        kernel.snackbar({ labelText: `Uploaded ${filepath}` })\r\n\r\n        loadFolder(browser, url)\r\n      }\r\n    }\r\n  }\r\n\r\n  browser.addEventListener('dragstart', dragstart)\r\n  browser.addEventListener('dragover', dragover)\r\n  browser.addEventListener('drop', drop)\r\n\r\n  appWindow = kernel.windows.create({\r\n    mount: browser,\r\n    title: url,\r\n    class: ['web3os-window', 'web3os-files-explorer-window'],\r\n    height: '60%',\r\n    width: '60%',\r\n    x: 'center',\r\n    y: 'center'\r\n  })\r\n\r\n  appWindow.window.body.style.margin = '0'\r\n  appWindow.window.body.style.overflow = 'hidden'\r\n  appWindow.window.body.style.color = '#121212'\r\n\r\n  browser.appWindow = appWindow\r\n\r\n  gotoHistory()\r\n}\r\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","__spreadArrays","s","il","arguments","r","Array","a","j","jl","getProp","prop","itemIsInteractive","itemIsAction","itemIsAnchor","itemIsSubMenu","hasOwnProperty","itemIsCustom","onHoverDebounced","target","action","timeout","addEventListener","e","setTimeout","clearTimeout","isDisabled","disabled","subMenu","ContextMenu","_this","cache","hdir","vdir","preventCloseOnScroll","window","ev","Element","parentElement","className","hide","passive","addStylesToDom","getInstance","instance","attach","bind","delete","show","update","prototype","ctxMenu","beforeRender","m","t","document","querySelector","handler","newMenu","console","error","o","removeEventListener","eventOrElement","MouseEvent","stopImmediatePropagation","menu","generateDOM","body","appendChild","preventDefault","_a","removeChild","parentOrEvent","container","createElement","style","display","forEach","li","itemIsDivider","html","text","elem","element","append","innerHTML","title","tooltip","setAttribute","icon","classList","add","generateBaseItemContent","apply","from","childNodes","href","download","generateMenuItem","openSubMenu","rect","cloneNode","visibility","result","getBoundingClientRect","getBounding","pos","x","y","left","width","top_1","top","includes","savePos","getPosition","clientX","clientY","stopPropagation","listElement","addScrollOffset","documentElement","clientWidth","height","clientHeight","hasTransform","transform","minX","scrollX","minY","scrollY","maxX","maxY","readyState","head","insertBefore","extensions","types","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","type","match","exec","mime","toLowerCase","test","charsets","lookup","contentType","str","indexOf","extension","exts","Object","create","path","substr","keys","to","assertPath","TypeError","normalizeStringPosix","allowAboveRoot","code","res","lastSegmentLength","lastSlash","dots","charCodeAt","lastSlashIndex","lastIndexOf","slice","posix","resolve","cwd","resolvedPath","resolvedAbsolute","process","normalize","isAbsolute","trailingSeparator","joined","arg","relative","fromStart","fromEnd","fromLen","toStart","toLen","lastCommonSep","fromCode","out","_makeLong","dirname","hasRoot","end","matchedSlash","basename","ext","start","extIdx","firstNonSlashEnd","startDot","startPart","preDotState","format","pathObject","sep","dir","root","base","name","_format","parse","ret","delimiter","win32","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","call","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","umask","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","styleTarget","HTMLIFrameElement","contentDocument","getTarget","attributes","styleElement","nonce","parentNode","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","definition","key","defineProperty","enumerable","get","nc","globalThis","Kernel"],"sourceRoot":""}