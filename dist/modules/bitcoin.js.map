{"version":3,"file":"modules/bitcoin.js","mappings":"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","sources":["webpack://@web3os-core/kernel/./node_modules/.pnpm/ansi-colors@4.1.3/node_modules/ansi-colors/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/ansi-colors@4.1.3/node_modules/ansi-colors/symbols.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/arg@5.0.2/node_modules/arg/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/base-x@3.0.9/node_modules/base-x/src/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bech32@2.0.0/node_modules/bech32/dist/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/combiner/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/global/globalXpub.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/global/unsignedTx.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/finalScriptSig.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/finalScriptWitness.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/nonWitnessUtxo.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/partialSig.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/porCommitment.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/sighashType.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/tapKeySig.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/tapLeafScript.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/tapMerkleRoot.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/tapScriptSig.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/input/witnessUtxo.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/output/tapTree.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/shared/bip32Derivation.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/shared/checkPubkey.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/shared/redeemScript.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/shared/tapBip32Derivation.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/shared/tapInternalKey.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/shared/witnessScript.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/tools.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/converter/varint.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/parser/fromBuffer.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/parser/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/parser/toBuffer.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/psbt.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/typeFields.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bip174@2.1.0/node_modules/bip174/src/lib/utils.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/address.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/bip66.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/block.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/bufferutils.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/crypto.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/merkle.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/networks.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/ops.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/embed.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/lazy.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/p2ms.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/p2pk.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/p2pkh.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/p2sh.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/p2wpkh.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/payments/p2wsh.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/psbt.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/push_data.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/script.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/script_number.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/script_signature.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/transaction.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bitcoinjs-lib@6.0.1/node_modules/bitcoinjs-lib/src/types.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bs58@4.0.1/node_modules/bs58/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bs58check@2.1.2/node_modules/bs58check/base.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/bs58check@2.1.2/node_modules/bs58check/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/cipher-base@1.0.4/node_modules/cipher-base/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/events@3.3.0/node_modules/events/events.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/hash-base@3.1.0/node_modules/hash-base/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/ieee754@1.2.1/node_modules/ieee754/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/md5.js@1.3.5/node_modules/md5.js/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/errors-browser.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_duplex.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_readable.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_transform.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/_stream_writable.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams/state.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/readable-stream@3.6.0/node_modules/readable-stream/readable-browser.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/ripemd160@2.0.2/node_modules/ripemd160/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha1.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha224.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha256.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha384.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha512.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/shell-quote@1.7.3/node_modules/shell-quote/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/stream-browserify@3.0.0/node_modules/stream-browserify/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/errors.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/extra.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/native.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/util-deprecate@1.0.2/node_modules/util-deprecate/browser.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/varuint-bitcoin@1.1.2/node_modules/varuint-bitcoin/index.js","webpack://@web3os-core/kernel/webpack/bootstrap","webpack://@web3os-core/kernel/webpack/runtime/compat get default export","webpack://@web3os-core/kernel/webpack/runtime/define property getters","webpack://@web3os-core/kernel/webpack/runtime/global","webpack://@web3os-core/kernel/webpack/runtime/hasOwnProperty shorthand","webpack://@web3os-core/kernel/./src/modules/bitcoin/index.js"],"sourcesContent":["'use strict';\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\n/* eslint-disable no-control-regex */\n// this is a modified version of https://github.com/chalk/ansi-regex (MIT License)\nconst ANSI_REGEX = /[\\u001b\\u009b][[\\]#;?()]*(?:(?:(?:[^\\W_]*;?[^\\W_]*)\\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g;\n\nconst hasColor = () => {\n  if (typeof process !== 'undefined') {\n    return process.env.FORCE_COLOR !== '0';\n  }\n  return false;\n};\n\nconst create = () => {\n  const colors = {\n    enabled: hasColor(),\n    visible: true,\n    styles: {},\n    keys: {}\n  };\n\n  const ansi = style => {\n    let open = style.open = `\\u001b[${style.codes[0]}m`;\n    let close = style.close = `\\u001b[${style.codes[1]}m`;\n    let regex = style.regex = new RegExp(`\\\\u001b\\\\[${style.codes[1]}m`, 'g');\n    style.wrap = (input, newline) => {\n      if (input.includes(close)) input = input.replace(regex, close + open);\n      let output = open + input + close;\n      // see https://github.com/chalk/chalk/pull/92, thanks to the\n      // chalk contributors for this fix. However, we've confirmed that\n      // this issue is also present in Windows terminals\n      return newline ? output.replace(/\\r*\\n/g, `${close}$&${open}`) : output;\n    };\n    return style;\n  };\n\n  const wrap = (style, input, newline) => {\n    return typeof style === 'function' ? style(input) : style.wrap(input, newline);\n  };\n\n  const style = (input, stack) => {\n    if (input === '' || input == null) return '';\n    if (colors.enabled === false) return input;\n    if (colors.visible === false) return '';\n    let str = '' + input;\n    let nl = str.includes('\\n');\n    let n = stack.length;\n    if (n > 0 && stack.includes('unstyle')) {\n      stack = [...new Set(['unstyle', ...stack])].reverse();\n    }\n    while (n-- > 0) str = wrap(colors.styles[stack[n]], str, nl);\n    return str;\n  };\n\n  const define = (name, codes, type) => {\n    colors.styles[name] = ansi({ name, codes });\n    let keys = colors.keys[type] || (colors.keys[type] = []);\n    keys.push(name);\n\n    Reflect.defineProperty(colors, name, {\n      configurable: true,\n      enumerable: true,\n      set(value) {\n        colors.alias(name, value);\n      },\n      get() {\n        let color = input => style(input, color.stack);\n        Reflect.setPrototypeOf(color, colors);\n        color.stack = this.stack ? this.stack.concat(name) : [name];\n        return color;\n      }\n    });\n  };\n\n  define('reset', [0, 0], 'modifier');\n  define('bold', [1, 22], 'modifier');\n  define('dim', [2, 22], 'modifier');\n  define('italic', [3, 23], 'modifier');\n  define('underline', [4, 24], 'modifier');\n  define('inverse', [7, 27], 'modifier');\n  define('hidden', [8, 28], 'modifier');\n  define('strikethrough', [9, 29], 'modifier');\n\n  define('black', [30, 39], 'color');\n  define('red', [31, 39], 'color');\n  define('green', [32, 39], 'color');\n  define('yellow', [33, 39], 'color');\n  define('blue', [34, 39], 'color');\n  define('magenta', [35, 39], 'color');\n  define('cyan', [36, 39], 'color');\n  define('white', [37, 39], 'color');\n  define('gray', [90, 39], 'color');\n  define('grey', [90, 39], 'color');\n\n  define('bgBlack', [40, 49], 'bg');\n  define('bgRed', [41, 49], 'bg');\n  define('bgGreen', [42, 49], 'bg');\n  define('bgYellow', [43, 49], 'bg');\n  define('bgBlue', [44, 49], 'bg');\n  define('bgMagenta', [45, 49], 'bg');\n  define('bgCyan', [46, 49], 'bg');\n  define('bgWhite', [47, 49], 'bg');\n\n  define('blackBright', [90, 39], 'bright');\n  define('redBright', [91, 39], 'bright');\n  define('greenBright', [92, 39], 'bright');\n  define('yellowBright', [93, 39], 'bright');\n  define('blueBright', [94, 39], 'bright');\n  define('magentaBright', [95, 39], 'bright');\n  define('cyanBright', [96, 39], 'bright');\n  define('whiteBright', [97, 39], 'bright');\n\n  define('bgBlackBright', [100, 49], 'bgBright');\n  define('bgRedBright', [101, 49], 'bgBright');\n  define('bgGreenBright', [102, 49], 'bgBright');\n  define('bgYellowBright', [103, 49], 'bgBright');\n  define('bgBlueBright', [104, 49], 'bgBright');\n  define('bgMagentaBright', [105, 49], 'bgBright');\n  define('bgCyanBright', [106, 49], 'bgBright');\n  define('bgWhiteBright', [107, 49], 'bgBright');\n\n  colors.ansiRegex = ANSI_REGEX;\n  colors.hasColor = colors.hasAnsi = str => {\n    colors.ansiRegex.lastIndex = 0;\n    return typeof str === 'string' && str !== '' && colors.ansiRegex.test(str);\n  };\n\n  colors.alias = (name, color) => {\n    let fn = typeof color === 'string' ? colors[color] : color;\n\n    if (typeof fn !== 'function') {\n      throw new TypeError('Expected alias to be the name of an existing color (string) or a function');\n    }\n\n    if (!fn.stack) {\n      Reflect.defineProperty(fn, 'name', { value: name });\n      colors.styles[name] = fn;\n      fn.stack = [name];\n    }\n\n    Reflect.defineProperty(colors, name, {\n      configurable: true,\n      enumerable: true,\n      set(value) {\n        colors.alias(name, value);\n      },\n      get() {\n        let color = input => style(input, color.stack);\n        Reflect.setPrototypeOf(color, colors);\n        color.stack = this.stack ? this.stack.concat(fn.stack) : fn.stack;\n        return color;\n      }\n    });\n  };\n\n  colors.theme = custom => {\n    if (!isObject(custom)) throw new TypeError('Expected theme to be an object');\n    for (let name of Object.keys(custom)) {\n      colors.alias(name, custom[name]);\n    }\n    return colors;\n  };\n\n  colors.alias('unstyle', str => {\n    if (typeof str === 'string' && str !== '') {\n      colors.ansiRegex.lastIndex = 0;\n      return str.replace(colors.ansiRegex, '');\n    }\n    return '';\n  });\n\n  colors.alias('noop', str => str);\n  colors.none = colors.clear = colors.noop;\n\n  colors.stripColor = colors.unstyle;\n  colors.symbols = require('./symbols');\n  colors.define = define;\n  return colors;\n};\n\nmodule.exports = create();\nmodule.exports.create = create;\n","'use strict';\n\nconst isHyper = typeof process !== 'undefined' && process.env.TERM_PROGRAM === 'Hyper';\nconst isWindows = typeof process !== 'undefined' && process.platform === 'win32';\nconst isLinux = typeof process !== 'undefined' && process.platform === 'linux';\n\nconst common = {\n  ballotDisabled: '☒',\n  ballotOff: '☐',\n  ballotOn: '☑',\n  bullet: '•',\n  bulletWhite: '◦',\n  fullBlock: '█',\n  heart: '❤',\n  identicalTo: '≡',\n  line: '─',\n  mark: '※',\n  middot: '·',\n  minus: '－',\n  multiplication: '×',\n  obelus: '÷',\n  pencilDownRight: '✎',\n  pencilRight: '✏',\n  pencilUpRight: '✐',\n  percent: '%',\n  pilcrow2: '❡',\n  pilcrow: '¶',\n  plusMinus: '±',\n  question: '?',\n  section: '§',\n  starsOff: '☆',\n  starsOn: '★',\n  upDownArrow: '↕'\n};\n\nconst windows = Object.assign({}, common, {\n  check: '√',\n  cross: '×',\n  ellipsisLarge: '...',\n  ellipsis: '...',\n  info: 'i',\n  questionSmall: '?',\n  pointer: '>',\n  pointerSmall: '»',\n  radioOff: '( )',\n  radioOn: '(*)',\n  warning: '‼'\n});\n\nconst other = Object.assign({}, common, {\n  ballotCross: '✘',\n  check: '✔',\n  cross: '✖',\n  ellipsisLarge: '⋯',\n  ellipsis: '…',\n  info: 'ℹ',\n  questionFull: '？',\n  questionSmall: '﹖',\n  pointer: isLinux ? '▸' : '❯',\n  pointerSmall: isLinux ? '‣' : '›',\n  radioOff: '◯',\n  radioOn: '◉',\n  warning: '⚠'\n});\n\nmodule.exports = (isWindows && !isHyper) ? windows : other;\nReflect.defineProperty(module.exports, 'common', { enumerable: false, value: common });\nReflect.defineProperty(module.exports, 'windows', { enumerable: false, value: windows });\nReflect.defineProperty(module.exports, 'other', { enumerable: false, value: other });\n","const flagSymbol = Symbol('arg flag');\n\nclass ArgError extends Error {\n\tconstructor(msg, code) {\n\t\tsuper(msg);\n\t\tthis.name = 'ArgError';\n\t\tthis.code = code;\n\n\t\tObject.setPrototypeOf(this, ArgError.prototype);\n\t}\n}\n\nfunction arg(\n\topts,\n\t{\n\t\targv = process.argv.slice(2),\n\t\tpermissive = false,\n\t\tstopAtPositional = false\n\t} = {}\n) {\n\tif (!opts) {\n\t\tthrow new ArgError(\n\t\t\t'argument specification object is required',\n\t\t\t'ARG_CONFIG_NO_SPEC'\n\t\t);\n\t}\n\n\tconst result = { _: [] };\n\n\tconst aliases = {};\n\tconst handlers = {};\n\n\tfor (const key of Object.keys(opts)) {\n\t\tif (!key) {\n\t\t\tthrow new ArgError(\n\t\t\t\t'argument key cannot be an empty string',\n\t\t\t\t'ARG_CONFIG_EMPTY_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key[0] !== '-') {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must start with '-' but found: '${key}'`,\n\t\t\t\t'ARG_CONFIG_NONOPT_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key.length === 1) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must have a name; singular '-' keys are not allowed: ${key}`,\n\t\t\t\t'ARG_CONFIG_NONAME_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (typeof opts[key] === 'string') {\n\t\t\taliases[key] = opts[key];\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet type = opts[key];\n\t\tlet isFlag = false;\n\n\t\tif (\n\t\t\tArray.isArray(type) &&\n\t\t\ttype.length === 1 &&\n\t\t\ttypeof type[0] === 'function'\n\t\t) {\n\t\t\tconst [fn] = type;\n\t\t\ttype = (value, name, prev = []) => {\n\t\t\t\tprev.push(fn(value, name, prev[prev.length - 1]));\n\t\t\t\treturn prev;\n\t\t\t};\n\t\t\tisFlag = fn === Boolean || fn[flagSymbol] === true;\n\t\t} else if (typeof type === 'function') {\n\t\t\tisFlag = type === Boolean || type[flagSymbol] === true;\n\t\t} else {\n\t\t\tthrow new ArgError(\n\t\t\t\t`type missing or not a function or valid array type: ${key}`,\n\t\t\t\t'ARG_CONFIG_VAD_TYPE'\n\t\t\t);\n\t\t}\n\n\t\tif (key[1] !== '-' && key.length > 2) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`short argument keys (with a single hyphen) must have only one character: ${key}`,\n\t\t\t\t'ARG_CONFIG_SHORTOPT_TOOLONG'\n\t\t\t);\n\t\t}\n\n\t\thandlers[key] = [type, isFlag];\n\t}\n\n\tfor (let i = 0, len = argv.length; i < len; i++) {\n\t\tconst wholeArg = argv[i];\n\n\t\tif (stopAtPositional && result._.length > 0) {\n\t\t\tresult._ = result._.concat(argv.slice(i));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg === '--') {\n\t\t\tresult._ = result._.concat(argv.slice(i + 1));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg.length > 1 && wholeArg[0] === '-') {\n\t\t\t/* eslint-disable operator-linebreak */\n\t\t\tconst separatedArguments =\n\t\t\t\twholeArg[1] === '-' || wholeArg.length === 2\n\t\t\t\t\t? [wholeArg]\n\t\t\t\t\t: wholeArg\n\t\t\t\t\t\t\t.slice(1)\n\t\t\t\t\t\t\t.split('')\n\t\t\t\t\t\t\t.map((a) => `-${a}`);\n\t\t\t/* eslint-enable operator-linebreak */\n\n\t\t\tfor (let j = 0; j < separatedArguments.length; j++) {\n\t\t\t\tconst arg = separatedArguments[j];\n\t\t\t\tconst [originalArgName, argStr] =\n\t\t\t\t\targ[1] === '-' ? arg.split(/=(.*)/, 2) : [arg, undefined];\n\n\t\t\t\tlet argName = originalArgName;\n\t\t\t\twhile (argName in aliases) {\n\t\t\t\t\targName = aliases[argName];\n\t\t\t\t}\n\n\t\t\t\tif (!(argName in handlers)) {\n\t\t\t\t\tif (permissive) {\n\t\t\t\t\t\tresult._.push(arg);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`unknown or unexpected option: ${originalArgName}`,\n\t\t\t\t\t\t\t'ARG_UNKNOWN_OPTION'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst [type, isFlag] = handlers[argName];\n\n\t\t\t\tif (!isFlag && j + 1 < separatedArguments.length) {\n\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t`option requires argument (but was followed by another short argument): ${originalArgName}`,\n\t\t\t\t\t\t'ARG_MISSING_REQUIRED_SHORTARG'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (isFlag) {\n\t\t\t\t\tresult[argName] = type(true, argName, result[argName]);\n\t\t\t\t} else if (argStr === undefined) {\n\t\t\t\t\tif (\n\t\t\t\t\t\targv.length < i + 2 ||\n\t\t\t\t\t\t(argv[i + 1].length > 1 &&\n\t\t\t\t\t\t\targv[i + 1][0] === '-' &&\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\targv[i + 1].match(/^-?\\d*(\\.(?=\\d))?\\d*$/) &&\n\t\t\t\t\t\t\t\t(type === Number ||\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\t\t\t\t\t\t(typeof BigInt !== 'undefined' && type === BigInt))\n\t\t\t\t\t\t\t))\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst extended =\n\t\t\t\t\t\t\toriginalArgName === argName ? '' : ` (alias for ${argName})`;\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`option requires argument: ${originalArgName}${extended}`,\n\t\t\t\t\t\t\t'ARG_MISSING_REQUIRED_LONGARG'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[argName] = type(argv[i + 1], argName, result[argName]);\n\t\t\t\t\t++i;\n\t\t\t\t} else {\n\t\t\t\t\tresult[argName] = type(argStr, argName, result[argName]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tresult._.push(wholeArg);\n\t\t}\n\t}\n\n\treturn result;\n}\n\narg.flag = (fn) => {\n\tfn[flagSymbol] = true;\n\treturn fn;\n};\n\n// Utility types\narg.COUNT = arg.flag((v, name, existingCount) => (existingCount || 0) + 1);\n\n// Expose error class\narg.ArgError = ArgError;\n\nmodule.exports = arg;\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (Array.isArray(source) || source instanceof Uint8Array) { source = _Buffer.from(source) }\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bech32m = exports.bech32 = void 0;\nconst ALPHABET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\nconst ALPHABET_MAP = {};\nfor (let z = 0; z < ALPHABET.length; z++) {\n    const x = ALPHABET.charAt(z);\n    ALPHABET_MAP[x] = z;\n}\nfunction polymodStep(pre) {\n    const b = pre >> 25;\n    return (((pre & 0x1ffffff) << 5) ^\n        (-((b >> 0) & 1) & 0x3b6a57b2) ^\n        (-((b >> 1) & 1) & 0x26508e6d) ^\n        (-((b >> 2) & 1) & 0x1ea119fa) ^\n        (-((b >> 3) & 1) & 0x3d4233dd) ^\n        (-((b >> 4) & 1) & 0x2a1462b3));\n}\nfunction prefixChk(prefix) {\n    let chk = 1;\n    for (let i = 0; i < prefix.length; ++i) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            return 'Invalid prefix (' + prefix + ')';\n        chk = polymodStep(chk) ^ (c >> 5);\n    }\n    chk = polymodStep(chk);\n    for (let i = 0; i < prefix.length; ++i) {\n        const v = prefix.charCodeAt(i);\n        chk = polymodStep(chk) ^ (v & 0x1f);\n    }\n    return chk;\n}\nfunction convert(data, inBits, outBits, pad) {\n    let value = 0;\n    let bits = 0;\n    const maxV = (1 << outBits) - 1;\n    const result = [];\n    for (let i = 0; i < data.length; ++i) {\n        value = (value << inBits) | data[i];\n        bits += inBits;\n        while (bits >= outBits) {\n            bits -= outBits;\n            result.push((value >> bits) & maxV);\n        }\n    }\n    if (pad) {\n        if (bits > 0) {\n            result.push((value << (outBits - bits)) & maxV);\n        }\n    }\n    else {\n        if (bits >= inBits)\n            return 'Excess padding';\n        if ((value << (outBits - bits)) & maxV)\n            return 'Non-zero padding';\n    }\n    return result;\n}\nfunction toWords(bytes) {\n    return convert(bytes, 8, 5, true);\n}\nfunction fromWordsUnsafe(words) {\n    const res = convert(words, 5, 8, false);\n    if (Array.isArray(res))\n        return res;\n}\nfunction fromWords(words) {\n    const res = convert(words, 5, 8, false);\n    if (Array.isArray(res))\n        return res;\n    throw new Error(res);\n}\nfunction getLibraryFromEncoding(encoding) {\n    let ENCODING_CONST;\n    if (encoding === 'bech32') {\n        ENCODING_CONST = 1;\n    }\n    else {\n        ENCODING_CONST = 0x2bc830a3;\n    }\n    function encode(prefix, words, LIMIT) {\n        LIMIT = LIMIT || 90;\n        if (prefix.length + 7 + words.length > LIMIT)\n            throw new TypeError('Exceeds length limit');\n        prefix = prefix.toLowerCase();\n        // determine chk mod\n        let chk = prefixChk(prefix);\n        if (typeof chk === 'string')\n            throw new Error(chk);\n        let result = prefix + '1';\n        for (let i = 0; i < words.length; ++i) {\n            const x = words[i];\n            if (x >> 5 !== 0)\n                throw new Error('Non 5-bit word');\n            chk = polymodStep(chk) ^ x;\n            result += ALPHABET.charAt(x);\n        }\n        for (let i = 0; i < 6; ++i) {\n            chk = polymodStep(chk);\n        }\n        chk ^= ENCODING_CONST;\n        for (let i = 0; i < 6; ++i) {\n            const v = (chk >> ((5 - i) * 5)) & 0x1f;\n            result += ALPHABET.charAt(v);\n        }\n        return result;\n    }\n    function __decode(str, LIMIT) {\n        LIMIT = LIMIT || 90;\n        if (str.length < 8)\n            return str + ' too short';\n        if (str.length > LIMIT)\n            return 'Exceeds length limit';\n        // don't allow mixed case\n        const lowered = str.toLowerCase();\n        const uppered = str.toUpperCase();\n        if (str !== lowered && str !== uppered)\n            return 'Mixed-case string ' + str;\n        str = lowered;\n        const split = str.lastIndexOf('1');\n        if (split === -1)\n            return 'No separator character for ' + str;\n        if (split === 0)\n            return 'Missing prefix for ' + str;\n        const prefix = str.slice(0, split);\n        const wordChars = str.slice(split + 1);\n        if (wordChars.length < 6)\n            return 'Data too short';\n        let chk = prefixChk(prefix);\n        if (typeof chk === 'string')\n            return chk;\n        const words = [];\n        for (let i = 0; i < wordChars.length; ++i) {\n            const c = wordChars.charAt(i);\n            const v = ALPHABET_MAP[c];\n            if (v === undefined)\n                return 'Unknown character ' + c;\n            chk = polymodStep(chk) ^ v;\n            // not in the checksum?\n            if (i + 6 >= wordChars.length)\n                continue;\n            words.push(v);\n        }\n        if (chk !== ENCODING_CONST)\n            return 'Invalid checksum for ' + str;\n        return { prefix, words };\n    }\n    function decodeUnsafe(str, LIMIT) {\n        const res = __decode(str, LIMIT);\n        if (typeof res === 'object')\n            return res;\n    }\n    function decode(str, LIMIT) {\n        const res = __decode(str, LIMIT);\n        if (typeof res === 'object')\n            return res;\n        throw new Error(res);\n    }\n    return {\n        decodeUnsafe,\n        decode,\n        encode,\n        toWords,\n        fromWordsUnsafe,\n        fromWords,\n    };\n}\nexports.bech32 = getLibraryFromEncoding('bech32');\nexports.bech32m = getLibraryFromEncoding('bech32m');\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst parser_1 = require('../parser');\nfunction combine(psbts) {\n  const self = psbts[0];\n  const selfKeyVals = parser_1.psbtToKeyVals(self);\n  const others = psbts.slice(1);\n  if (others.length === 0) throw new Error('Combine: Nothing to combine');\n  const selfTx = getTx(self);\n  if (selfTx === undefined) {\n    throw new Error('Combine: Self missing transaction');\n  }\n  const selfGlobalSet = getKeySet(selfKeyVals.globalKeyVals);\n  const selfInputSets = selfKeyVals.inputKeyVals.map(getKeySet);\n  const selfOutputSets = selfKeyVals.outputKeyVals.map(getKeySet);\n  for (const other of others) {\n    const otherTx = getTx(other);\n    if (\n      otherTx === undefined ||\n      !otherTx.toBuffer().equals(selfTx.toBuffer())\n    ) {\n      throw new Error(\n        'Combine: One of the Psbts does not have the same transaction.',\n      );\n    }\n    const otherKeyVals = parser_1.psbtToKeyVals(other);\n    const otherGlobalSet = getKeySet(otherKeyVals.globalKeyVals);\n    otherGlobalSet.forEach(\n      keyPusher(\n        selfGlobalSet,\n        selfKeyVals.globalKeyVals,\n        otherKeyVals.globalKeyVals,\n      ),\n    );\n    const otherInputSets = otherKeyVals.inputKeyVals.map(getKeySet);\n    otherInputSets.forEach((inputSet, idx) =>\n      inputSet.forEach(\n        keyPusher(\n          selfInputSets[idx],\n          selfKeyVals.inputKeyVals[idx],\n          otherKeyVals.inputKeyVals[idx],\n        ),\n      ),\n    );\n    const otherOutputSets = otherKeyVals.outputKeyVals.map(getKeySet);\n    otherOutputSets.forEach((outputSet, idx) =>\n      outputSet.forEach(\n        keyPusher(\n          selfOutputSets[idx],\n          selfKeyVals.outputKeyVals[idx],\n          otherKeyVals.outputKeyVals[idx],\n        ),\n      ),\n    );\n  }\n  return parser_1.psbtFromKeyVals(selfTx, {\n    globalMapKeyVals: selfKeyVals.globalKeyVals,\n    inputKeyVals: selfKeyVals.inputKeyVals,\n    outputKeyVals: selfKeyVals.outputKeyVals,\n  });\n}\nexports.combine = combine;\nfunction keyPusher(selfSet, selfKeyVals, otherKeyVals) {\n  return key => {\n    if (selfSet.has(key)) return;\n    const newKv = otherKeyVals.filter(kv => kv.key.toString('hex') === key)[0];\n    selfKeyVals.push(newKv);\n    selfSet.add(key);\n  };\n}\nfunction getTx(psbt) {\n  return psbt.globalMap.unsignedTx;\n}\nfunction getKeySet(keyVals) {\n  const set = new Set();\n  keyVals.forEach(keyVal => {\n    const hex = keyVal.key.toString('hex');\n    if (set.has(hex))\n      throw new Error('Combine: KeyValue Map keys should be unique');\n    set.add(hex);\n  });\n  return set;\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nconst range = n => [...Array(n).keys()];\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.GlobalTypes.GLOBAL_XPUB) {\n    throw new Error(\n      'Decode Error: could not decode globalXpub with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (keyVal.key.length !== 79 || ![2, 3].includes(keyVal.key[46])) {\n    throw new Error(\n      'Decode Error: globalXpub has invalid extended pubkey in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if ((keyVal.value.length / 4) % 1 !== 0) {\n    throw new Error(\n      'Decode Error: Global GLOBAL_XPUB value length should be multiple of 4',\n    );\n  }\n  const extendedPubkey = keyVal.key.slice(1);\n  const data = {\n    masterFingerprint: keyVal.value.slice(0, 4),\n    extendedPubkey,\n    path: 'm',\n  };\n  for (const i of range(keyVal.value.length / 4 - 1)) {\n    const val = keyVal.value.readUInt32LE(i * 4 + 4);\n    const isHard = !!(val & 0x80000000);\n    const idx = val & 0x7fffffff;\n    data.path += '/' + idx.toString(10) + (isHard ? \"'\" : '');\n  }\n  return data;\n}\nexports.decode = decode;\nfunction encode(data) {\n  const head = Buffer.from([typeFields_1.GlobalTypes.GLOBAL_XPUB]);\n  const key = Buffer.concat([head, data.extendedPubkey]);\n  const splitPath = data.path.split('/');\n  const value = Buffer.allocUnsafe(splitPath.length * 4);\n  data.masterFingerprint.copy(value, 0);\n  let offset = 4;\n  splitPath.slice(1).forEach(level => {\n    const isHard = level.slice(-1) === \"'\";\n    let num = 0x7fffffff & parseInt(isHard ? level.slice(0, -1) : level, 10);\n    if (isHard) num += 0x80000000;\n    value.writeUInt32LE(num, offset);\n    offset += 4;\n  });\n  return {\n    key,\n    value,\n  };\n}\nexports.encode = encode;\nexports.expected =\n  '{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }';\nfunction check(data) {\n  const epk = data.extendedPubkey;\n  const mfp = data.masterFingerprint;\n  const p = data.path;\n  return (\n    Buffer.isBuffer(epk) &&\n    epk.length === 78 &&\n    [2, 3].indexOf(epk[45]) > -1 &&\n    Buffer.isBuffer(mfp) &&\n    mfp.length === 4 &&\n    typeof p === 'string' &&\n    !!p.match(/^m(\\/\\d+'?)*$/)\n  );\n}\nexports.check = check;\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString = item.extendedPubkey.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return (\n    array.filter(v => v.extendedPubkey.equals(item.extendedPubkey)).length === 0\n  );\n}\nexports.canAddToArray = canAddToArray;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction encode(data) {\n  return {\n    key: Buffer.from([typeFields_1.GlobalTypes.UNSIGNED_TX]),\n    value: data.toBuffer(),\n  };\n}\nexports.encode = encode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../typeFields');\nconst globalXpub = require('./global/globalXpub');\nconst unsignedTx = require('./global/unsignedTx');\nconst finalScriptSig = require('./input/finalScriptSig');\nconst finalScriptWitness = require('./input/finalScriptWitness');\nconst nonWitnessUtxo = require('./input/nonWitnessUtxo');\nconst partialSig = require('./input/partialSig');\nconst porCommitment = require('./input/porCommitment');\nconst sighashType = require('./input/sighashType');\nconst tapKeySig = require('./input/tapKeySig');\nconst tapLeafScript = require('./input/tapLeafScript');\nconst tapMerkleRoot = require('./input/tapMerkleRoot');\nconst tapScriptSig = require('./input/tapScriptSig');\nconst witnessUtxo = require('./input/witnessUtxo');\nconst tapTree = require('./output/tapTree');\nconst bip32Derivation = require('./shared/bip32Derivation');\nconst checkPubkey = require('./shared/checkPubkey');\nconst redeemScript = require('./shared/redeemScript');\nconst tapBip32Derivation = require('./shared/tapBip32Derivation');\nconst tapInternalKey = require('./shared/tapInternalKey');\nconst witnessScript = require('./shared/witnessScript');\nconst globals = {\n  unsignedTx,\n  globalXpub,\n  // pass an Array of key bytes that require pubkey beside the key\n  checkPubkey: checkPubkey.makeChecker([]),\n};\nexports.globals = globals;\nconst inputs = {\n  nonWitnessUtxo,\n  partialSig,\n  sighashType,\n  finalScriptSig,\n  finalScriptWitness,\n  porCommitment,\n  witnessUtxo,\n  bip32Derivation: bip32Derivation.makeConverter(\n    typeFields_1.InputTypes.BIP32_DERIVATION,\n  ),\n  redeemScript: redeemScript.makeConverter(\n    typeFields_1.InputTypes.REDEEM_SCRIPT,\n  ),\n  witnessScript: witnessScript.makeConverter(\n    typeFields_1.InputTypes.WITNESS_SCRIPT,\n  ),\n  checkPubkey: checkPubkey.makeChecker([\n    typeFields_1.InputTypes.PARTIAL_SIG,\n    typeFields_1.InputTypes.BIP32_DERIVATION,\n  ]),\n  tapKeySig,\n  tapScriptSig,\n  tapLeafScript,\n  tapBip32Derivation: tapBip32Derivation.makeConverter(\n    typeFields_1.InputTypes.TAP_BIP32_DERIVATION,\n  ),\n  tapInternalKey: tapInternalKey.makeConverter(\n    typeFields_1.InputTypes.TAP_INTERNAL_KEY,\n  ),\n  tapMerkleRoot,\n};\nexports.inputs = inputs;\nconst outputs = {\n  bip32Derivation: bip32Derivation.makeConverter(\n    typeFields_1.OutputTypes.BIP32_DERIVATION,\n  ),\n  redeemScript: redeemScript.makeConverter(\n    typeFields_1.OutputTypes.REDEEM_SCRIPT,\n  ),\n  witnessScript: witnessScript.makeConverter(\n    typeFields_1.OutputTypes.WITNESS_SCRIPT,\n  ),\n  checkPubkey: checkPubkey.makeChecker([\n    typeFields_1.OutputTypes.BIP32_DERIVATION,\n  ]),\n  tapBip32Derivation: tapBip32Derivation.makeConverter(\n    typeFields_1.OutputTypes.TAP_BIP32_DERIVATION,\n  ),\n  tapTree,\n  tapInternalKey: tapInternalKey.makeConverter(\n    typeFields_1.OutputTypes.TAP_INTERNAL_KEY,\n  ),\n};\nexports.outputs = outputs;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.FINAL_SCRIPTSIG) {\n    throw new Error(\n      'Decode Error: could not decode finalScriptSig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(data) {\n  const key = Buffer.from([typeFields_1.InputTypes.FINAL_SCRIPTSIG]);\n  return {\n    key,\n    value: data,\n  };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data);\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.finalScriptSig === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.FINAL_SCRIPTWITNESS) {\n    throw new Error(\n      'Decode Error: could not decode finalScriptWitness with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(data) {\n  const key = Buffer.from([typeFields_1.InputTypes.FINAL_SCRIPTWITNESS]);\n  return {\n    key,\n    value: data,\n  };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data);\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return (\n    !!currentData && !!newData && currentData.finalScriptWitness === undefined\n  );\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.NON_WITNESS_UTXO) {\n    throw new Error(\n      'Decode Error: could not decode nonWitnessUtxo with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(data) {\n  return {\n    key: Buffer.from([typeFields_1.InputTypes.NON_WITNESS_UTXO]),\n    value: data,\n  };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data);\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.nonWitnessUtxo === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.PARTIAL_SIG) {\n    throw new Error(\n      'Decode Error: could not decode partialSig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (\n    !(keyVal.key.length === 34 || keyVal.key.length === 66) ||\n    ![2, 3, 4].includes(keyVal.key[1])\n  ) {\n    throw new Error(\n      'Decode Error: partialSig has invalid pubkey in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const pubkey = keyVal.key.slice(1);\n  return {\n    pubkey,\n    signature: keyVal.value,\n  };\n}\nexports.decode = decode;\nfunction encode(pSig) {\n  const head = Buffer.from([typeFields_1.InputTypes.PARTIAL_SIG]);\n  return {\n    key: Buffer.concat([head, pSig.pubkey]),\n    value: pSig.signature,\n  };\n}\nexports.encode = encode;\nexports.expected = '{ pubkey: Buffer; signature: Buffer; }';\nfunction check(data) {\n  return (\n    Buffer.isBuffer(data.pubkey) &&\n    Buffer.isBuffer(data.signature) &&\n    [33, 65].includes(data.pubkey.length) &&\n    [2, 3, 4].includes(data.pubkey[0]) &&\n    isDerSigWithSighash(data.signature)\n  );\n}\nexports.check = check;\nfunction isDerSigWithSighash(buf) {\n  if (!Buffer.isBuffer(buf) || buf.length < 9) return false;\n  if (buf[0] !== 0x30) return false;\n  if (buf.length !== buf[1] + 3) return false;\n  if (buf[2] !== 0x02) return false;\n  const rLen = buf[3];\n  if (rLen > 33 || rLen < 1) return false;\n  if (buf[3 + rLen + 1] !== 0x02) return false;\n  const sLen = buf[3 + rLen + 2];\n  if (sLen > 33 || sLen < 1) return false;\n  if (buf.length !== 3 + rLen + 2 + sLen + 2) return false;\n  return true;\n}\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString = item.pubkey.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return array.filter(v => v.pubkey.equals(item.pubkey)).length === 0;\n}\nexports.canAddToArray = canAddToArray;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.POR_COMMITMENT) {\n    throw new Error(\n      'Decode Error: could not decode porCommitment with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value.toString('utf8');\n}\nexports.decode = decode;\nfunction encode(data) {\n  const key = Buffer.from([typeFields_1.InputTypes.POR_COMMITMENT]);\n  return {\n    key,\n    value: Buffer.from(data, 'utf8'),\n  };\n}\nexports.encode = encode;\nexports.expected = 'string';\nfunction check(data) {\n  return typeof data === 'string';\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.porCommitment === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.SIGHASH_TYPE) {\n    throw new Error(\n      'Decode Error: could not decode sighashType with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  return keyVal.value.readUInt32LE(0);\n}\nexports.decode = decode;\nfunction encode(data) {\n  const key = Buffer.from([typeFields_1.InputTypes.SIGHASH_TYPE]);\n  const value = Buffer.allocUnsafe(4);\n  value.writeUInt32LE(data, 0);\n  return {\n    key,\n    value,\n  };\n}\nexports.encode = encode;\nexports.expected = 'number';\nfunction check(data) {\n  return typeof data === 'number';\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.sighashType === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (\n    keyVal.key[0] !== typeFields_1.InputTypes.TAP_KEY_SIG ||\n    keyVal.key.length !== 1\n  ) {\n    throw new Error(\n      'Decode Error: could not decode tapKeySig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (!check(keyVal.value)) {\n    throw new Error(\n      'Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature',\n    );\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(value) {\n  const key = Buffer.from([typeFields_1.InputTypes.TAP_KEY_SIG]);\n  return { key, value };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data) && (data.length === 64 || data.length === 65);\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.tapKeySig === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.TAP_LEAF_SCRIPT) {\n    throw new Error(\n      'Decode Error: could not decode tapLeafScript with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if ((keyVal.key.length - 2) % 32 !== 0) {\n    throw new Error(\n      'Decode Error: tapLeafScript has invalid control block in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const leafVersion = keyVal.value[keyVal.value.length - 1];\n  if ((keyVal.key[1] & 0xfe) !== leafVersion) {\n    throw new Error(\n      'Decode Error: tapLeafScript bad leaf version in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const script = keyVal.value.slice(0, -1);\n  const controlBlock = keyVal.key.slice(1);\n  return { controlBlock, script, leafVersion };\n}\nexports.decode = decode;\nfunction encode(tScript) {\n  const head = Buffer.from([typeFields_1.InputTypes.TAP_LEAF_SCRIPT]);\n  const verBuf = Buffer.from([tScript.leafVersion]);\n  return {\n    key: Buffer.concat([head, tScript.controlBlock]),\n    value: Buffer.concat([tScript.script, verBuf]),\n  };\n}\nexports.encode = encode;\nexports.expected =\n  '{ controlBlock: Buffer; leafVersion: number, script: Buffer; }';\nfunction check(data) {\n  return (\n    Buffer.isBuffer(data.controlBlock) &&\n    (data.controlBlock.length - 1) % 32 === 0 &&\n    (data.controlBlock[0] & 0xfe) === data.leafVersion &&\n    Buffer.isBuffer(data.script)\n  );\n}\nexports.check = check;\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString = item.controlBlock.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return (\n    array.filter(v => v.controlBlock.equals(item.controlBlock)).length === 0\n  );\n}\nexports.canAddToArray = canAddToArray;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (\n    keyVal.key[0] !== typeFields_1.InputTypes.TAP_MERKLE_ROOT ||\n    keyVal.key.length !== 1\n  ) {\n    throw new Error(\n      'Decode Error: could not decode tapMerkleRoot with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (!check(keyVal.value)) {\n    throw new Error('Decode Error: tapMerkleRoot not a 32-byte hash');\n  }\n  return keyVal.value;\n}\nexports.decode = decode;\nfunction encode(value) {\n  const key = Buffer.from([typeFields_1.InputTypes.TAP_MERKLE_ROOT]);\n  return { key, value };\n}\nexports.encode = encode;\nexports.expected = 'Buffer';\nfunction check(data) {\n  return Buffer.isBuffer(data) && data.length === 32;\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.tapMerkleRoot === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.TAP_SCRIPT_SIG) {\n    throw new Error(\n      'Decode Error: could not decode tapScriptSig with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (keyVal.key.length !== 65) {\n    throw new Error(\n      'Decode Error: tapScriptSig has invalid key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  if (keyVal.value.length !== 64 && keyVal.value.length !== 65) {\n    throw new Error(\n      'Decode Error: tapScriptSig has invalid signature in key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const pubkey = keyVal.key.slice(1, 33);\n  const leafHash = keyVal.key.slice(33);\n  return {\n    pubkey,\n    leafHash,\n    signature: keyVal.value,\n  };\n}\nexports.decode = decode;\nfunction encode(tSig) {\n  const head = Buffer.from([typeFields_1.InputTypes.TAP_SCRIPT_SIG]);\n  return {\n    key: Buffer.concat([head, tSig.pubkey, tSig.leafHash]),\n    value: tSig.signature,\n  };\n}\nexports.encode = encode;\nexports.expected = '{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }';\nfunction check(data) {\n  return (\n    Buffer.isBuffer(data.pubkey) &&\n    Buffer.isBuffer(data.leafHash) &&\n    Buffer.isBuffer(data.signature) &&\n    data.pubkey.length === 32 &&\n    data.leafHash.length === 32 &&\n    (data.signature.length === 64 || data.signature.length === 65)\n  );\n}\nexports.check = check;\nfunction canAddToArray(array, item, dupeSet) {\n  const dupeString =\n    item.pubkey.toString('hex') + item.leafHash.toString('hex');\n  if (dupeSet.has(dupeString)) return false;\n  dupeSet.add(dupeString);\n  return (\n    array.filter(\n      v => v.pubkey.equals(item.pubkey) && v.leafHash.equals(item.leafHash),\n    ).length === 0\n  );\n}\nexports.canAddToArray = canAddToArray;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nconst tools_1 = require('../tools');\nconst varuint = require('../varint');\nfunction decode(keyVal) {\n  if (keyVal.key[0] !== typeFields_1.InputTypes.WITNESS_UTXO) {\n    throw new Error(\n      'Decode Error: could not decode witnessUtxo with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  const value = tools_1.readUInt64LE(keyVal.value, 0);\n  let _offset = 8;\n  const scriptLen = varuint.decode(keyVal.value, _offset);\n  _offset += varuint.encodingLength(scriptLen);\n  const script = keyVal.value.slice(_offset);\n  if (script.length !== scriptLen) {\n    throw new Error('Decode Error: WITNESS_UTXO script is not proper length');\n  }\n  return {\n    script,\n    value,\n  };\n}\nexports.decode = decode;\nfunction encode(data) {\n  const { script, value } = data;\n  const varintLen = varuint.encodingLength(script.length);\n  const result = Buffer.allocUnsafe(8 + varintLen + script.length);\n  tools_1.writeUInt64LE(result, value, 0);\n  varuint.encode(script.length, result, 8);\n  script.copy(result, 8 + varintLen);\n  return {\n    key: Buffer.from([typeFields_1.InputTypes.WITNESS_UTXO]),\n    value: result,\n  };\n}\nexports.encode = encode;\nexports.expected = '{ script: Buffer; value: number; }';\nfunction check(data) {\n  return Buffer.isBuffer(data.script) && typeof data.value === 'number';\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.witnessUtxo === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst typeFields_1 = require('../../typeFields');\nconst varuint = require('../varint');\nfunction decode(keyVal) {\n  if (\n    keyVal.key[0] !== typeFields_1.OutputTypes.TAP_TREE ||\n    keyVal.key.length !== 1\n  ) {\n    throw new Error(\n      'Decode Error: could not decode tapTree with key 0x' +\n        keyVal.key.toString('hex'),\n    );\n  }\n  let _offset = 0;\n  const data = [];\n  while (_offset < keyVal.value.length) {\n    const depth = keyVal.value[_offset++];\n    const leafVersion = keyVal.value[_offset++];\n    const scriptLen = varuint.decode(keyVal.value, _offset);\n    _offset += varuint.encodingLength(scriptLen);\n    data.push({\n      depth,\n      leafVersion,\n      script: keyVal.value.slice(_offset, _offset + scriptLen),\n    });\n    _offset += scriptLen;\n  }\n  return { leaves: data };\n}\nexports.decode = decode;\nfunction encode(tree) {\n  const key = Buffer.from([typeFields_1.OutputTypes.TAP_TREE]);\n  const bufs = [].concat(\n    ...tree.leaves.map(tapLeaf => [\n      Buffer.of(tapLeaf.depth, tapLeaf.leafVersion),\n      varuint.encode(tapLeaf.script.length),\n      tapLeaf.script,\n    ]),\n  );\n  return {\n    key,\n    value: Buffer.concat(bufs),\n  };\n}\nexports.encode = encode;\nexports.expected =\n  '{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }';\nfunction check(data) {\n  return (\n    Array.isArray(data.leaves) &&\n    data.leaves.every(\n      tapLeaf =>\n        tapLeaf.depth >= 0 &&\n        tapLeaf.depth <= 128 &&\n        (tapLeaf.leafVersion & 0xfe) === tapLeaf.leafVersion &&\n        Buffer.isBuffer(tapLeaf.script),\n    )\n  );\n}\nexports.check = check;\nfunction canAdd(currentData, newData) {\n  return !!currentData && !!newData && currentData.tapTree === undefined;\n}\nexports.canAdd = canAdd;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst range = n => [...Array(n).keys()];\nconst isValidDERKey = pubkey =>\n  (pubkey.length === 33 && [2, 3].includes(pubkey[0])) ||\n  (pubkey.length === 65 && 4 === pubkey[0]);\nfunction makeConverter(TYPE_BYTE, isValidPubkey = isValidDERKey) {\n  function decode(keyVal) {\n    if (keyVal.key[0] !== TYPE_BYTE) {\n      throw new Error(\n        'Decode Error: could not decode bip32Derivation with key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    const pubkey = keyVal.key.slice(1);\n    if (!isValidPubkey(pubkey)) {\n      throw new Error(\n        'Decode Error: bip32Derivation has invalid pubkey in key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    if ((keyVal.value.length / 4) % 1 !== 0) {\n      throw new Error(\n        'Decode Error: Input BIP32_DERIVATION value length should be multiple of 4',\n      );\n    }\n    const data = {\n      masterFingerprint: keyVal.value.slice(0, 4),\n      pubkey,\n      path: 'm',\n    };\n    for (const i of range(keyVal.value.length / 4 - 1)) {\n      const val = keyVal.value.readUInt32LE(i * 4 + 4);\n      const isHard = !!(val & 0x80000000);\n      const idx = val & 0x7fffffff;\n      data.path += '/' + idx.toString(10) + (isHard ? \"'\" : '');\n    }\n    return data;\n  }\n  function encode(data) {\n    const head = Buffer.from([TYPE_BYTE]);\n    const key = Buffer.concat([head, data.pubkey]);\n    const splitPath = data.path.split('/');\n    const value = Buffer.allocUnsafe(splitPath.length * 4);\n    data.masterFingerprint.copy(value, 0);\n    let offset = 4;\n    splitPath.slice(1).forEach(level => {\n      const isHard = level.slice(-1) === \"'\";\n      let num = 0x7fffffff & parseInt(isHard ? level.slice(0, -1) : level, 10);\n      if (isHard) num += 0x80000000;\n      value.writeUInt32LE(num, offset);\n      offset += 4;\n    });\n    return {\n      key,\n      value,\n    };\n  }\n  const expected =\n    '{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }';\n  function check(data) {\n    return (\n      Buffer.isBuffer(data.pubkey) &&\n      Buffer.isBuffer(data.masterFingerprint) &&\n      typeof data.path === 'string' &&\n      isValidPubkey(data.pubkey) &&\n      data.masterFingerprint.length === 4\n    );\n  }\n  function canAddToArray(array, item, dupeSet) {\n    const dupeString = item.pubkey.toString('hex');\n    if (dupeSet.has(dupeString)) return false;\n    dupeSet.add(dupeString);\n    return array.filter(v => v.pubkey.equals(item.pubkey)).length === 0;\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAddToArray,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeChecker(pubkeyTypes) {\n  return checkPubkey;\n  function checkPubkey(keyVal) {\n    let pubkey;\n    if (pubkeyTypes.includes(keyVal.key[0])) {\n      pubkey = keyVal.key.slice(1);\n      if (\n        !(pubkey.length === 33 || pubkey.length === 65) ||\n        ![2, 3, 4].includes(pubkey[0])\n      ) {\n        throw new Error(\n          'Format Error: invalid pubkey in key 0x' + keyVal.key.toString('hex'),\n        );\n      }\n    }\n    return pubkey;\n  }\n}\nexports.makeChecker = makeChecker;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeConverter(TYPE_BYTE) {\n  function decode(keyVal) {\n    if (keyVal.key[0] !== TYPE_BYTE) {\n      throw new Error(\n        'Decode Error: could not decode redeemScript with key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    return keyVal.value;\n  }\n  function encode(data) {\n    const key = Buffer.from([TYPE_BYTE]);\n    return {\n      key,\n      value: data,\n    };\n  }\n  const expected = 'Buffer';\n  function check(data) {\n    return Buffer.isBuffer(data);\n  }\n  function canAdd(currentData, newData) {\n    return !!currentData && !!newData && currentData.redeemScript === undefined;\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAdd,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst varuint = require('../varint');\nconst bip32Derivation = require('./bip32Derivation');\nconst isValidBIP340Key = pubkey => pubkey.length === 32;\nfunction makeConverter(TYPE_BYTE) {\n  const parent = bip32Derivation.makeConverter(TYPE_BYTE, isValidBIP340Key);\n  function decode(keyVal) {\n    const nHashes = varuint.decode(keyVal.value);\n    const nHashesLen = varuint.encodingLength(nHashes);\n    const base = parent.decode({\n      key: keyVal.key,\n      value: keyVal.value.slice(nHashesLen + nHashes * 32),\n    });\n    const leafHashes = new Array(nHashes);\n    for (let i = 0, _offset = nHashesLen; i < nHashes; i++, _offset += 32) {\n      leafHashes[i] = keyVal.value.slice(_offset, _offset + 32);\n    }\n    return Object.assign({}, base, { leafHashes });\n  }\n  function encode(data) {\n    const base = parent.encode(data);\n    const nHashesLen = varuint.encodingLength(data.leafHashes.length);\n    const nHashesBuf = Buffer.allocUnsafe(nHashesLen);\n    varuint.encode(data.leafHashes.length, nHashesBuf);\n    const value = Buffer.concat([nHashesBuf, ...data.leafHashes, base.value]);\n    return Object.assign({}, base, { value });\n  }\n  const expected =\n    '{ ' +\n    'masterFingerprint: Buffer; ' +\n    'pubkey: Buffer; ' +\n    'path: string; ' +\n    'leafHashes: Buffer[]; ' +\n    '}';\n  function check(data) {\n    return (\n      Array.isArray(data.leafHashes) &&\n      data.leafHashes.every(\n        leafHash => Buffer.isBuffer(leafHash) && leafHash.length === 32,\n      ) &&\n      parent.check(data)\n    );\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAddToArray: parent.canAddToArray,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeConverter(TYPE_BYTE) {\n  function decode(keyVal) {\n    if (keyVal.key[0] !== TYPE_BYTE || keyVal.key.length !== 1) {\n      throw new Error(\n        'Decode Error: could not decode tapInternalKey with key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    if (keyVal.value.length !== 32) {\n      throw new Error(\n        'Decode Error: tapInternalKey not a 32-byte x-only pubkey',\n      );\n    }\n    return keyVal.value;\n  }\n  function encode(value) {\n    const key = Buffer.from([TYPE_BYTE]);\n    return { key, value };\n  }\n  const expected = 'Buffer';\n  function check(data) {\n    return Buffer.isBuffer(data) && data.length === 32;\n  }\n  function canAdd(currentData, newData) {\n    return (\n      !!currentData && !!newData && currentData.tapInternalKey === undefined\n    );\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAdd,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction makeConverter(TYPE_BYTE) {\n  function decode(keyVal) {\n    if (keyVal.key[0] !== TYPE_BYTE) {\n      throw new Error(\n        'Decode Error: could not decode witnessScript with key 0x' +\n          keyVal.key.toString('hex'),\n      );\n    }\n    return keyVal.value;\n  }\n  function encode(data) {\n    const key = Buffer.from([TYPE_BYTE]);\n    return {\n      key,\n      value: data,\n    };\n  }\n  const expected = 'Buffer';\n  function check(data) {\n    return Buffer.isBuffer(data);\n  }\n  function canAdd(currentData, newData) {\n    return (\n      !!currentData && !!newData && currentData.witnessScript === undefined\n    );\n  }\n  return {\n    decode,\n    encode,\n    check,\n    expected,\n    canAdd,\n  };\n}\nexports.makeConverter = makeConverter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst varuint = require('./varint');\nexports.range = n => [...Array(n).keys()];\nfunction reverseBuffer(buffer) {\n  if (buffer.length < 1) return buffer;\n  let j = buffer.length - 1;\n  let tmp = 0;\n  for (let i = 0; i < buffer.length / 2; i++) {\n    tmp = buffer[i];\n    buffer[i] = buffer[j];\n    buffer[j] = tmp;\n    j--;\n  }\n  return buffer;\n}\nexports.reverseBuffer = reverseBuffer;\nfunction keyValsToBuffer(keyVals) {\n  const buffers = keyVals.map(keyValToBuffer);\n  buffers.push(Buffer.from([0]));\n  return Buffer.concat(buffers);\n}\nexports.keyValsToBuffer = keyValsToBuffer;\nfunction keyValToBuffer(keyVal) {\n  const keyLen = keyVal.key.length;\n  const valLen = keyVal.value.length;\n  const keyVarIntLen = varuint.encodingLength(keyLen);\n  const valVarIntLen = varuint.encodingLength(valLen);\n  const buffer = Buffer.allocUnsafe(\n    keyVarIntLen + keyLen + valVarIntLen + valLen,\n  );\n  varuint.encode(keyLen, buffer, 0);\n  keyVal.key.copy(buffer, keyVarIntLen);\n  varuint.encode(valLen, buffer, keyVarIntLen + keyLen);\n  keyVal.value.copy(buffer, keyVarIntLen + keyLen + valVarIntLen);\n  return buffer;\n}\nexports.keyValToBuffer = keyValToBuffer;\n// https://github.com/feross/buffer/blob/master/index.js#L1127\nfunction verifuint(value, max) {\n  if (typeof value !== 'number')\n    throw new Error('cannot write a non-number as a number');\n  if (value < 0)\n    throw new Error('specified a negative value for writing an unsigned value');\n  if (value > max) throw new Error('RangeError: value out of range');\n  if (Math.floor(value) !== value)\n    throw new Error('value has a fractional component');\n}\nfunction readUInt64LE(buffer, offset) {\n  const a = buffer.readUInt32LE(offset);\n  let b = buffer.readUInt32LE(offset + 4);\n  b *= 0x100000000;\n  verifuint(b + a, 0x001fffffffffffff);\n  return b + a;\n}\nexports.readUInt64LE = readUInt64LE;\nfunction writeUInt64LE(buffer, value, offset) {\n  verifuint(value, 0x001fffffffffffff);\n  buffer.writeInt32LE(value & -1, offset);\n  buffer.writeUInt32LE(Math.floor(value / 0x100000000), offset + 4);\n  return offset + 8;\n}\nexports.writeUInt64LE = writeUInt64LE;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\n// Number.MAX_SAFE_INTEGER\nconst MAX_SAFE_INTEGER = 9007199254740991;\nfunction checkUInt53(n) {\n  if (n < 0 || n > MAX_SAFE_INTEGER || n % 1 !== 0)\n    throw new RangeError('value out of range');\n}\nfunction encode(_number, buffer, offset) {\n  checkUInt53(_number);\n  if (!buffer) buffer = Buffer.allocUnsafe(encodingLength(_number));\n  if (!Buffer.isBuffer(buffer))\n    throw new TypeError('buffer must be a Buffer instance');\n  if (!offset) offset = 0;\n  // 8 bit\n  if (_number < 0xfd) {\n    buffer.writeUInt8(_number, offset);\n    Object.assign(encode, { bytes: 1 });\n    // 16 bit\n  } else if (_number <= 0xffff) {\n    buffer.writeUInt8(0xfd, offset);\n    buffer.writeUInt16LE(_number, offset + 1);\n    Object.assign(encode, { bytes: 3 });\n    // 32 bit\n  } else if (_number <= 0xffffffff) {\n    buffer.writeUInt8(0xfe, offset);\n    buffer.writeUInt32LE(_number, offset + 1);\n    Object.assign(encode, { bytes: 5 });\n    // 64 bit\n  } else {\n    buffer.writeUInt8(0xff, offset);\n    buffer.writeUInt32LE(_number >>> 0, offset + 1);\n    buffer.writeUInt32LE((_number / 0x100000000) | 0, offset + 5);\n    Object.assign(encode, { bytes: 9 });\n  }\n  return buffer;\n}\nexports.encode = encode;\nfunction decode(buffer, offset) {\n  if (!Buffer.isBuffer(buffer))\n    throw new TypeError('buffer must be a Buffer instance');\n  if (!offset) offset = 0;\n  const first = buffer.readUInt8(offset);\n  // 8 bit\n  if (first < 0xfd) {\n    Object.assign(decode, { bytes: 1 });\n    return first;\n    // 16 bit\n  } else if (first === 0xfd) {\n    Object.assign(decode, { bytes: 3 });\n    return buffer.readUInt16LE(offset + 1);\n    // 32 bit\n  } else if (first === 0xfe) {\n    Object.assign(decode, { bytes: 5 });\n    return buffer.readUInt32LE(offset + 1);\n    // 64 bit\n  } else {\n    Object.assign(decode, { bytes: 9 });\n    const lo = buffer.readUInt32LE(offset + 1);\n    const hi = buffer.readUInt32LE(offset + 5);\n    const _number = hi * 0x0100000000 + lo;\n    checkUInt53(_number);\n    return _number;\n  }\n}\nexports.decode = decode;\nfunction encodingLength(_number) {\n  checkUInt53(_number);\n  return _number < 0xfd\n    ? 1\n    : _number <= 0xffff\n    ? 3\n    : _number <= 0xffffffff\n    ? 5\n    : 9;\n}\nexports.encodingLength = encodingLength;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst convert = require('../converter');\nconst tools_1 = require('../converter/tools');\nconst varuint = require('../converter/varint');\nconst typeFields_1 = require('../typeFields');\nfunction psbtFromBuffer(buffer, txGetter) {\n  let offset = 0;\n  function varSlice() {\n    const keyLen = varuint.decode(buffer, offset);\n    offset += varuint.encodingLength(keyLen);\n    const key = buffer.slice(offset, offset + keyLen);\n    offset += keyLen;\n    return key;\n  }\n  function readUInt32BE() {\n    const num = buffer.readUInt32BE(offset);\n    offset += 4;\n    return num;\n  }\n  function readUInt8() {\n    const num = buffer.readUInt8(offset);\n    offset += 1;\n    return num;\n  }\n  function getKeyValue() {\n    const key = varSlice();\n    const value = varSlice();\n    return {\n      key,\n      value,\n    };\n  }\n  function checkEndOfKeyValPairs() {\n    if (offset >= buffer.length) {\n      throw new Error('Format Error: Unexpected End of PSBT');\n    }\n    const isEnd = buffer.readUInt8(offset) === 0;\n    if (isEnd) {\n      offset++;\n    }\n    return isEnd;\n  }\n  if (readUInt32BE() !== 0x70736274) {\n    throw new Error('Format Error: Invalid Magic Number');\n  }\n  if (readUInt8() !== 0xff) {\n    throw new Error(\n      'Format Error: Magic Number must be followed by 0xff separator',\n    );\n  }\n  const globalMapKeyVals = [];\n  const globalKeyIndex = {};\n  while (!checkEndOfKeyValPairs()) {\n    const keyVal = getKeyValue();\n    const hexKey = keyVal.key.toString('hex');\n    if (globalKeyIndex[hexKey]) {\n      throw new Error(\n        'Format Error: Keys must be unique for global keymap: key ' + hexKey,\n      );\n    }\n    globalKeyIndex[hexKey] = 1;\n    globalMapKeyVals.push(keyVal);\n  }\n  const unsignedTxMaps = globalMapKeyVals.filter(\n    keyVal => keyVal.key[0] === typeFields_1.GlobalTypes.UNSIGNED_TX,\n  );\n  if (unsignedTxMaps.length !== 1) {\n    throw new Error('Format Error: Only one UNSIGNED_TX allowed');\n  }\n  const unsignedTx = txGetter(unsignedTxMaps[0].value);\n  // Get input and output counts to loop the respective fields\n  const { inputCount, outputCount } = unsignedTx.getInputOutputCounts();\n  const inputKeyVals = [];\n  const outputKeyVals = [];\n  // Get input fields\n  for (const index of tools_1.range(inputCount)) {\n    const inputKeyIndex = {};\n    const input = [];\n    while (!checkEndOfKeyValPairs()) {\n      const keyVal = getKeyValue();\n      const hexKey = keyVal.key.toString('hex');\n      if (inputKeyIndex[hexKey]) {\n        throw new Error(\n          'Format Error: Keys must be unique for each input: ' +\n            'input index ' +\n            index +\n            ' key ' +\n            hexKey,\n        );\n      }\n      inputKeyIndex[hexKey] = 1;\n      input.push(keyVal);\n    }\n    inputKeyVals.push(input);\n  }\n  for (const index of tools_1.range(outputCount)) {\n    const outputKeyIndex = {};\n    const output = [];\n    while (!checkEndOfKeyValPairs()) {\n      const keyVal = getKeyValue();\n      const hexKey = keyVal.key.toString('hex');\n      if (outputKeyIndex[hexKey]) {\n        throw new Error(\n          'Format Error: Keys must be unique for each output: ' +\n            'output index ' +\n            index +\n            ' key ' +\n            hexKey,\n        );\n      }\n      outputKeyIndex[hexKey] = 1;\n      output.push(keyVal);\n    }\n    outputKeyVals.push(output);\n  }\n  return psbtFromKeyVals(unsignedTx, {\n    globalMapKeyVals,\n    inputKeyVals,\n    outputKeyVals,\n  });\n}\nexports.psbtFromBuffer = psbtFromBuffer;\nfunction checkKeyBuffer(type, keyBuf, keyNum) {\n  if (!keyBuf.equals(Buffer.from([keyNum]))) {\n    throw new Error(\n      `Format Error: Invalid ${type} key: ${keyBuf.toString('hex')}`,\n    );\n  }\n}\nexports.checkKeyBuffer = checkKeyBuffer;\nfunction psbtFromKeyVals(\n  unsignedTx,\n  { globalMapKeyVals, inputKeyVals, outputKeyVals },\n) {\n  // That was easy :-)\n  const globalMap = {\n    unsignedTx,\n  };\n  let txCount = 0;\n  for (const keyVal of globalMapKeyVals) {\n    // If a globalMap item needs pubkey, uncomment\n    // const pubkey = convert.globals.checkPubkey(keyVal);\n    switch (keyVal.key[0]) {\n      case typeFields_1.GlobalTypes.UNSIGNED_TX:\n        checkKeyBuffer(\n          'global',\n          keyVal.key,\n          typeFields_1.GlobalTypes.UNSIGNED_TX,\n        );\n        if (txCount > 0) {\n          throw new Error('Format Error: GlobalMap has multiple UNSIGNED_TX');\n        }\n        txCount++;\n        break;\n      case typeFields_1.GlobalTypes.GLOBAL_XPUB:\n        if (globalMap.globalXpub === undefined) {\n          globalMap.globalXpub = [];\n        }\n        globalMap.globalXpub.push(convert.globals.globalXpub.decode(keyVal));\n        break;\n      default:\n        // This will allow inclusion during serialization.\n        if (!globalMap.unknownKeyVals) globalMap.unknownKeyVals = [];\n        globalMap.unknownKeyVals.push(keyVal);\n    }\n  }\n  // Get input and output counts to loop the respective fields\n  const inputCount = inputKeyVals.length;\n  const outputCount = outputKeyVals.length;\n  const inputs = [];\n  const outputs = [];\n  // Get input fields\n  for (const index of tools_1.range(inputCount)) {\n    const input = {};\n    for (const keyVal of inputKeyVals[index]) {\n      convert.inputs.checkPubkey(keyVal);\n      switch (keyVal.key[0]) {\n        case typeFields_1.InputTypes.NON_WITNESS_UTXO:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.NON_WITNESS_UTXO,\n          );\n          if (input.nonWitnessUtxo !== undefined) {\n            throw new Error(\n              'Format Error: Input has multiple NON_WITNESS_UTXO',\n            );\n          }\n          input.nonWitnessUtxo = convert.inputs.nonWitnessUtxo.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.WITNESS_UTXO:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.WITNESS_UTXO,\n          );\n          if (input.witnessUtxo !== undefined) {\n            throw new Error('Format Error: Input has multiple WITNESS_UTXO');\n          }\n          input.witnessUtxo = convert.inputs.witnessUtxo.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.PARTIAL_SIG:\n          if (input.partialSig === undefined) {\n            input.partialSig = [];\n          }\n          input.partialSig.push(convert.inputs.partialSig.decode(keyVal));\n          break;\n        case typeFields_1.InputTypes.SIGHASH_TYPE:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.SIGHASH_TYPE,\n          );\n          if (input.sighashType !== undefined) {\n            throw new Error('Format Error: Input has multiple SIGHASH_TYPE');\n          }\n          input.sighashType = convert.inputs.sighashType.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.REDEEM_SCRIPT:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.REDEEM_SCRIPT,\n          );\n          if (input.redeemScript !== undefined) {\n            throw new Error('Format Error: Input has multiple REDEEM_SCRIPT');\n          }\n          input.redeemScript = convert.inputs.redeemScript.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.WITNESS_SCRIPT:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.WITNESS_SCRIPT,\n          );\n          if (input.witnessScript !== undefined) {\n            throw new Error('Format Error: Input has multiple WITNESS_SCRIPT');\n          }\n          input.witnessScript = convert.inputs.witnessScript.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.BIP32_DERIVATION:\n          if (input.bip32Derivation === undefined) {\n            input.bip32Derivation = [];\n          }\n          input.bip32Derivation.push(\n            convert.inputs.bip32Derivation.decode(keyVal),\n          );\n          break;\n        case typeFields_1.InputTypes.FINAL_SCRIPTSIG:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.FINAL_SCRIPTSIG,\n          );\n          input.finalScriptSig = convert.inputs.finalScriptSig.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.FINAL_SCRIPTWITNESS:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.FINAL_SCRIPTWITNESS,\n          );\n          input.finalScriptWitness = convert.inputs.finalScriptWitness.decode(\n            keyVal,\n          );\n          break;\n        case typeFields_1.InputTypes.POR_COMMITMENT:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.POR_COMMITMENT,\n          );\n          input.porCommitment = convert.inputs.porCommitment.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.TAP_KEY_SIG:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.TAP_KEY_SIG,\n          );\n          input.tapKeySig = convert.inputs.tapKeySig.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.TAP_SCRIPT_SIG:\n          if (input.tapScriptSig === undefined) {\n            input.tapScriptSig = [];\n          }\n          input.tapScriptSig.push(convert.inputs.tapScriptSig.decode(keyVal));\n          break;\n        case typeFields_1.InputTypes.TAP_LEAF_SCRIPT:\n          if (input.tapLeafScript === undefined) {\n            input.tapLeafScript = [];\n          }\n          input.tapLeafScript.push(convert.inputs.tapLeafScript.decode(keyVal));\n          break;\n        case typeFields_1.InputTypes.TAP_BIP32_DERIVATION:\n          if (input.tapBip32Derivation === undefined) {\n            input.tapBip32Derivation = [];\n          }\n          input.tapBip32Derivation.push(\n            convert.inputs.tapBip32Derivation.decode(keyVal),\n          );\n          break;\n        case typeFields_1.InputTypes.TAP_INTERNAL_KEY:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.TAP_INTERNAL_KEY,\n          );\n          input.tapInternalKey = convert.inputs.tapInternalKey.decode(keyVal);\n          break;\n        case typeFields_1.InputTypes.TAP_MERKLE_ROOT:\n          checkKeyBuffer(\n            'input',\n            keyVal.key,\n            typeFields_1.InputTypes.TAP_MERKLE_ROOT,\n          );\n          input.tapMerkleRoot = convert.inputs.tapMerkleRoot.decode(keyVal);\n          break;\n        default:\n          // This will allow inclusion during serialization.\n          if (!input.unknownKeyVals) input.unknownKeyVals = [];\n          input.unknownKeyVals.push(keyVal);\n      }\n    }\n    inputs.push(input);\n  }\n  for (const index of tools_1.range(outputCount)) {\n    const output = {};\n    for (const keyVal of outputKeyVals[index]) {\n      convert.outputs.checkPubkey(keyVal);\n      switch (keyVal.key[0]) {\n        case typeFields_1.OutputTypes.REDEEM_SCRIPT:\n          checkKeyBuffer(\n            'output',\n            keyVal.key,\n            typeFields_1.OutputTypes.REDEEM_SCRIPT,\n          );\n          if (output.redeemScript !== undefined) {\n            throw new Error('Format Error: Output has multiple REDEEM_SCRIPT');\n          }\n          output.redeemScript = convert.outputs.redeemScript.decode(keyVal);\n          break;\n        case typeFields_1.OutputTypes.WITNESS_SCRIPT:\n          checkKeyBuffer(\n            'output',\n            keyVal.key,\n            typeFields_1.OutputTypes.WITNESS_SCRIPT,\n          );\n          if (output.witnessScript !== undefined) {\n            throw new Error('Format Error: Output has multiple WITNESS_SCRIPT');\n          }\n          output.witnessScript = convert.outputs.witnessScript.decode(keyVal);\n          break;\n        case typeFields_1.OutputTypes.BIP32_DERIVATION:\n          if (output.bip32Derivation === undefined) {\n            output.bip32Derivation = [];\n          }\n          output.bip32Derivation.push(\n            convert.outputs.bip32Derivation.decode(keyVal),\n          );\n          break;\n        case typeFields_1.OutputTypes.TAP_INTERNAL_KEY:\n          checkKeyBuffer(\n            'output',\n            keyVal.key,\n            typeFields_1.OutputTypes.TAP_INTERNAL_KEY,\n          );\n          output.tapInternalKey = convert.outputs.tapInternalKey.decode(keyVal);\n          break;\n        case typeFields_1.OutputTypes.TAP_TREE:\n          checkKeyBuffer(\n            'output',\n            keyVal.key,\n            typeFields_1.OutputTypes.TAP_TREE,\n          );\n          output.tapTree = convert.outputs.tapTree.decode(keyVal);\n          break;\n        case typeFields_1.OutputTypes.TAP_BIP32_DERIVATION:\n          if (output.tapBip32Derivation === undefined) {\n            output.tapBip32Derivation = [];\n          }\n          output.tapBip32Derivation.push(\n            convert.outputs.tapBip32Derivation.decode(keyVal),\n          );\n          break;\n        default:\n          if (!output.unknownKeyVals) output.unknownKeyVals = [];\n          output.unknownKeyVals.push(keyVal);\n      }\n    }\n    outputs.push(output);\n  }\n  return { globalMap, inputs, outputs };\n}\nexports.psbtFromKeyVals = psbtFromKeyVals;\n","'use strict';\nfunction __export(m) {\n  for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, '__esModule', { value: true });\n__export(require('./fromBuffer'));\n__export(require('./toBuffer'));\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst convert = require('../converter');\nconst tools_1 = require('../converter/tools');\nfunction psbtToBuffer({ globalMap, inputs, outputs }) {\n  const { globalKeyVals, inputKeyVals, outputKeyVals } = psbtToKeyVals({\n    globalMap,\n    inputs,\n    outputs,\n  });\n  const globalBuffer = tools_1.keyValsToBuffer(globalKeyVals);\n  const keyValsOrEmptyToBuffer = keyVals =>\n    keyVals.length === 0\n      ? [Buffer.from([0])]\n      : keyVals.map(tools_1.keyValsToBuffer);\n  const inputBuffers = keyValsOrEmptyToBuffer(inputKeyVals);\n  const outputBuffers = keyValsOrEmptyToBuffer(outputKeyVals);\n  const header = Buffer.allocUnsafe(5);\n  header.writeUIntBE(0x70736274ff, 0, 5);\n  return Buffer.concat(\n    [header, globalBuffer].concat(inputBuffers, outputBuffers),\n  );\n}\nexports.psbtToBuffer = psbtToBuffer;\nconst sortKeyVals = (a, b) => {\n  return a.key.compare(b.key);\n};\nfunction keyValsFromMap(keyValMap, converterFactory) {\n  const keyHexSet = new Set();\n  const keyVals = Object.entries(keyValMap).reduce((result, [key, value]) => {\n    if (key === 'unknownKeyVals') return result;\n    // We are checking for undefined anyways. So ignore TS error\n    // @ts-ignore\n    const converter = converterFactory[key];\n    if (converter === undefined) return result;\n    const encodedKeyVals = (Array.isArray(value) ? value : [value]).map(\n      converter.encode,\n    );\n    const keyHexes = encodedKeyVals.map(kv => kv.key.toString('hex'));\n    keyHexes.forEach(hex => {\n      if (keyHexSet.has(hex))\n        throw new Error('Serialize Error: Duplicate key: ' + hex);\n      keyHexSet.add(hex);\n    });\n    return result.concat(encodedKeyVals);\n  }, []);\n  // Get other keyVals that have not yet been gotten\n  const otherKeyVals = keyValMap.unknownKeyVals\n    ? keyValMap.unknownKeyVals.filter(keyVal => {\n        return !keyHexSet.has(keyVal.key.toString('hex'));\n      })\n    : [];\n  return keyVals.concat(otherKeyVals).sort(sortKeyVals);\n}\nfunction psbtToKeyVals({ globalMap, inputs, outputs }) {\n  // First parse the global keyVals\n  // Get any extra keyvals to pass along\n  return {\n    globalKeyVals: keyValsFromMap(globalMap, convert.globals),\n    inputKeyVals: inputs.map(i => keyValsFromMap(i, convert.inputs)),\n    outputKeyVals: outputs.map(o => keyValsFromMap(o, convert.outputs)),\n  };\n}\nexports.psbtToKeyVals = psbtToKeyVals;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst combiner_1 = require('./combiner');\nconst parser_1 = require('./parser');\nconst typeFields_1 = require('./typeFields');\nconst utils_1 = require('./utils');\nclass Psbt {\n  constructor(tx) {\n    this.inputs = [];\n    this.outputs = [];\n    this.globalMap = {\n      unsignedTx: tx,\n    };\n  }\n  static fromBase64(data, txFromBuffer) {\n    const buffer = Buffer.from(data, 'base64');\n    return this.fromBuffer(buffer, txFromBuffer);\n  }\n  static fromHex(data, txFromBuffer) {\n    const buffer = Buffer.from(data, 'hex');\n    return this.fromBuffer(buffer, txFromBuffer);\n  }\n  static fromBuffer(buffer, txFromBuffer) {\n    const results = parser_1.psbtFromBuffer(buffer, txFromBuffer);\n    const psbt = new this(results.globalMap.unsignedTx);\n    Object.assign(psbt, results);\n    return psbt;\n  }\n  toBase64() {\n    const buffer = this.toBuffer();\n    return buffer.toString('base64');\n  }\n  toHex() {\n    const buffer = this.toBuffer();\n    return buffer.toString('hex');\n  }\n  toBuffer() {\n    return parser_1.psbtToBuffer(this);\n  }\n  updateGlobal(updateData) {\n    utils_1.updateGlobal(updateData, this.globalMap);\n    return this;\n  }\n  updateInput(inputIndex, updateData) {\n    const input = utils_1.checkForInput(this.inputs, inputIndex);\n    utils_1.updateInput(updateData, input);\n    return this;\n  }\n  updateOutput(outputIndex, updateData) {\n    const output = utils_1.checkForOutput(this.outputs, outputIndex);\n    utils_1.updateOutput(updateData, output);\n    return this;\n  }\n  addUnknownKeyValToGlobal(keyVal) {\n    utils_1.checkHasKey(\n      keyVal,\n      this.globalMap.unknownKeyVals,\n      utils_1.getEnumLength(typeFields_1.GlobalTypes),\n    );\n    if (!this.globalMap.unknownKeyVals) this.globalMap.unknownKeyVals = [];\n    this.globalMap.unknownKeyVals.push(keyVal);\n    return this;\n  }\n  addUnknownKeyValToInput(inputIndex, keyVal) {\n    const input = utils_1.checkForInput(this.inputs, inputIndex);\n    utils_1.checkHasKey(\n      keyVal,\n      input.unknownKeyVals,\n      utils_1.getEnumLength(typeFields_1.InputTypes),\n    );\n    if (!input.unknownKeyVals) input.unknownKeyVals = [];\n    input.unknownKeyVals.push(keyVal);\n    return this;\n  }\n  addUnknownKeyValToOutput(outputIndex, keyVal) {\n    const output = utils_1.checkForOutput(this.outputs, outputIndex);\n    utils_1.checkHasKey(\n      keyVal,\n      output.unknownKeyVals,\n      utils_1.getEnumLength(typeFields_1.OutputTypes),\n    );\n    if (!output.unknownKeyVals) output.unknownKeyVals = [];\n    output.unknownKeyVals.push(keyVal);\n    return this;\n  }\n  addInput(inputData) {\n    this.globalMap.unsignedTx.addInput(inputData);\n    this.inputs.push({\n      unknownKeyVals: [],\n    });\n    const addKeyVals = inputData.unknownKeyVals || [];\n    const inputIndex = this.inputs.length - 1;\n    if (!Array.isArray(addKeyVals)) {\n      throw new Error('unknownKeyVals must be an Array');\n    }\n    addKeyVals.forEach(keyVal =>\n      this.addUnknownKeyValToInput(inputIndex, keyVal),\n    );\n    utils_1.addInputAttributes(this.inputs, inputData);\n    return this;\n  }\n  addOutput(outputData) {\n    this.globalMap.unsignedTx.addOutput(outputData);\n    this.outputs.push({\n      unknownKeyVals: [],\n    });\n    const addKeyVals = outputData.unknownKeyVals || [];\n    const outputIndex = this.outputs.length - 1;\n    if (!Array.isArray(addKeyVals)) {\n      throw new Error('unknownKeyVals must be an Array');\n    }\n    addKeyVals.forEach(keyVal =>\n      this.addUnknownKeyValToInput(outputIndex, keyVal),\n    );\n    utils_1.addOutputAttributes(this.outputs, outputData);\n    return this;\n  }\n  clearFinalizedInput(inputIndex) {\n    const input = utils_1.checkForInput(this.inputs, inputIndex);\n    utils_1.inputCheckUncleanFinalized(inputIndex, input);\n    for (const key of Object.keys(input)) {\n      if (\n        ![\n          'witnessUtxo',\n          'nonWitnessUtxo',\n          'finalScriptSig',\n          'finalScriptWitness',\n          'unknownKeyVals',\n        ].includes(key)\n      ) {\n        // @ts-ignore\n        delete input[key];\n      }\n    }\n    return this;\n  }\n  combine(...those) {\n    // Combine this with those.\n    // Return self for chaining.\n    const result = combiner_1.combine([this].concat(those));\n    Object.assign(this, result);\n    return this;\n  }\n  getTransaction() {\n    return this.globalMap.unsignedTx.toBuffer();\n  }\n}\nexports.Psbt = Psbt;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar GlobalTypes;\n(function(GlobalTypes) {\n  GlobalTypes[(GlobalTypes['UNSIGNED_TX'] = 0)] = 'UNSIGNED_TX';\n  GlobalTypes[(GlobalTypes['GLOBAL_XPUB'] = 1)] = 'GLOBAL_XPUB';\n})((GlobalTypes = exports.GlobalTypes || (exports.GlobalTypes = {})));\nexports.GLOBAL_TYPE_NAMES = ['unsignedTx', 'globalXpub'];\nvar InputTypes;\n(function(InputTypes) {\n  InputTypes[(InputTypes['NON_WITNESS_UTXO'] = 0)] = 'NON_WITNESS_UTXO';\n  InputTypes[(InputTypes['WITNESS_UTXO'] = 1)] = 'WITNESS_UTXO';\n  InputTypes[(InputTypes['PARTIAL_SIG'] = 2)] = 'PARTIAL_SIG';\n  InputTypes[(InputTypes['SIGHASH_TYPE'] = 3)] = 'SIGHASH_TYPE';\n  InputTypes[(InputTypes['REDEEM_SCRIPT'] = 4)] = 'REDEEM_SCRIPT';\n  InputTypes[(InputTypes['WITNESS_SCRIPT'] = 5)] = 'WITNESS_SCRIPT';\n  InputTypes[(InputTypes['BIP32_DERIVATION'] = 6)] = 'BIP32_DERIVATION';\n  InputTypes[(InputTypes['FINAL_SCRIPTSIG'] = 7)] = 'FINAL_SCRIPTSIG';\n  InputTypes[(InputTypes['FINAL_SCRIPTWITNESS'] = 8)] = 'FINAL_SCRIPTWITNESS';\n  InputTypes[(InputTypes['POR_COMMITMENT'] = 9)] = 'POR_COMMITMENT';\n  InputTypes[(InputTypes['TAP_KEY_SIG'] = 19)] = 'TAP_KEY_SIG';\n  InputTypes[(InputTypes['TAP_SCRIPT_SIG'] = 20)] = 'TAP_SCRIPT_SIG';\n  InputTypes[(InputTypes['TAP_LEAF_SCRIPT'] = 21)] = 'TAP_LEAF_SCRIPT';\n  InputTypes[(InputTypes['TAP_BIP32_DERIVATION'] = 22)] =\n    'TAP_BIP32_DERIVATION';\n  InputTypes[(InputTypes['TAP_INTERNAL_KEY'] = 23)] = 'TAP_INTERNAL_KEY';\n  InputTypes[(InputTypes['TAP_MERKLE_ROOT'] = 24)] = 'TAP_MERKLE_ROOT';\n})((InputTypes = exports.InputTypes || (exports.InputTypes = {})));\nexports.INPUT_TYPE_NAMES = [\n  'nonWitnessUtxo',\n  'witnessUtxo',\n  'partialSig',\n  'sighashType',\n  'redeemScript',\n  'witnessScript',\n  'bip32Derivation',\n  'finalScriptSig',\n  'finalScriptWitness',\n  'porCommitment',\n  'tapKeySig',\n  'tapScriptSig',\n  'tapLeafScript',\n  'tapBip32Derivation',\n  'tapInternalKey',\n  'tapMerkleRoot',\n];\nvar OutputTypes;\n(function(OutputTypes) {\n  OutputTypes[(OutputTypes['REDEEM_SCRIPT'] = 0)] = 'REDEEM_SCRIPT';\n  OutputTypes[(OutputTypes['WITNESS_SCRIPT'] = 1)] = 'WITNESS_SCRIPT';\n  OutputTypes[(OutputTypes['BIP32_DERIVATION'] = 2)] = 'BIP32_DERIVATION';\n  OutputTypes[(OutputTypes['TAP_INTERNAL_KEY'] = 5)] = 'TAP_INTERNAL_KEY';\n  OutputTypes[(OutputTypes['TAP_TREE'] = 6)] = 'TAP_TREE';\n  OutputTypes[(OutputTypes['TAP_BIP32_DERIVATION'] = 7)] =\n    'TAP_BIP32_DERIVATION';\n})((OutputTypes = exports.OutputTypes || (exports.OutputTypes = {})));\nexports.OUTPUT_TYPE_NAMES = [\n  'redeemScript',\n  'witnessScript',\n  'bip32Derivation',\n  'tapInternalKey',\n  'tapTree',\n  'tapBip32Derivation',\n];\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nconst converter = require('./converter');\nfunction checkForInput(inputs, inputIndex) {\n  const input = inputs[inputIndex];\n  if (input === undefined) throw new Error(`No input #${inputIndex}`);\n  return input;\n}\nexports.checkForInput = checkForInput;\nfunction checkForOutput(outputs, outputIndex) {\n  const output = outputs[outputIndex];\n  if (output === undefined) throw new Error(`No output #${outputIndex}`);\n  return output;\n}\nexports.checkForOutput = checkForOutput;\nfunction checkHasKey(checkKeyVal, keyVals, enumLength) {\n  if (checkKeyVal.key[0] < enumLength) {\n    throw new Error(\n      `Use the method for your specific key instead of addUnknownKeyVal*`,\n    );\n  }\n  if (\n    keyVals &&\n    keyVals.filter(kv => kv.key.equals(checkKeyVal.key)).length !== 0\n  ) {\n    throw new Error(`Duplicate Key: ${checkKeyVal.key.toString('hex')}`);\n  }\n}\nexports.checkHasKey = checkHasKey;\nfunction getEnumLength(myenum) {\n  let count = 0;\n  Object.keys(myenum).forEach(val => {\n    if (Number(isNaN(Number(val)))) {\n      count++;\n    }\n  });\n  return count;\n}\nexports.getEnumLength = getEnumLength;\nfunction inputCheckUncleanFinalized(inputIndex, input) {\n  let result = false;\n  if (input.nonWitnessUtxo || input.witnessUtxo) {\n    const needScriptSig = !!input.redeemScript;\n    const needWitnessScript = !!input.witnessScript;\n    const scriptSigOK = !needScriptSig || !!input.finalScriptSig;\n    const witnessScriptOK = !needWitnessScript || !!input.finalScriptWitness;\n    const hasOneFinal = !!input.finalScriptSig || !!input.finalScriptWitness;\n    result = scriptSigOK && witnessScriptOK && hasOneFinal;\n  }\n  if (result === false) {\n    throw new Error(\n      `Input #${inputIndex} has too much or too little data to clean`,\n    );\n  }\n}\nexports.inputCheckUncleanFinalized = inputCheckUncleanFinalized;\nfunction throwForUpdateMaker(typeName, name, expected, data) {\n  throw new Error(\n    `Data for ${typeName} key ${name} is incorrect: Expected ` +\n      `${expected} and got ${JSON.stringify(data)}`,\n  );\n}\nfunction updateMaker(typeName) {\n  return (updateData, mainData) => {\n    for (const name of Object.keys(updateData)) {\n      // @ts-ignore\n      const data = updateData[name];\n      // @ts-ignore\n      const { canAdd, canAddToArray, check, expected } =\n        // @ts-ignore\n        converter[typeName + 's'][name] || {};\n      const isArray = !!canAddToArray;\n      // If unknown data. ignore and do not add\n      if (check) {\n        if (isArray) {\n          if (\n            !Array.isArray(data) ||\n            // @ts-ignore\n            (mainData[name] && !Array.isArray(mainData[name]))\n          ) {\n            throw new Error(`Key type ${name} must be an array`);\n          }\n          if (!data.every(check)) {\n            throwForUpdateMaker(typeName, name, expected, data);\n          }\n          // @ts-ignore\n          const arr = mainData[name] || [];\n          const dupeCheckSet = new Set();\n          if (!data.every(v => canAddToArray(arr, v, dupeCheckSet))) {\n            throw new Error('Can not add duplicate data to array');\n          }\n          // @ts-ignore\n          mainData[name] = arr.concat(data);\n        } else {\n          if (!check(data)) {\n            throwForUpdateMaker(typeName, name, expected, data);\n          }\n          if (!canAdd(mainData, data)) {\n            throw new Error(`Can not add duplicate data to ${typeName}`);\n          }\n          // @ts-ignore\n          mainData[name] = data;\n        }\n      }\n    }\n  };\n}\nexports.updateGlobal = updateMaker('global');\nexports.updateInput = updateMaker('input');\nexports.updateOutput = updateMaker('output');\nfunction addInputAttributes(inputs, data) {\n  const index = inputs.length - 1;\n  const input = checkForInput(inputs, index);\n  exports.updateInput(data, input);\n}\nexports.addInputAttributes = addInputAttributes;\nfunction addOutputAttributes(outputs, data) {\n  const index = outputs.length - 1;\n  const output = checkForOutput(outputs, index);\n  exports.updateOutput(data, output);\n}\nexports.addOutputAttributes = addOutputAttributes;\nfunction defaultVersionSetter(version, txBuf) {\n  if (!Buffer.isBuffer(txBuf) || txBuf.length < 4) {\n    throw new Error('Set Version: Invalid Transaction');\n  }\n  txBuf.writeUInt32LE(version, 0);\n  return txBuf;\n}\nexports.defaultVersionSetter = defaultVersionSetter;\nfunction defaultLocktimeSetter(locktime, txBuf) {\n  if (!Buffer.isBuffer(txBuf) || txBuf.length < 4) {\n    throw new Error('Set Locktime: Invalid Transaction');\n  }\n  txBuf.writeUInt32LE(locktime, txBuf.length - 4);\n  return txBuf;\n}\nexports.defaultLocktimeSetter = defaultLocktimeSetter;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.toOutputScript = exports.fromOutputScript = exports.toBech32 = exports.toBase58Check = exports.fromBech32 = exports.fromBase58Check = void 0;\nconst networks = require('./networks');\nconst payments = require('./payments');\nconst bscript = require('./script');\nconst types = require('./types');\nconst bech32_1 = require('bech32');\nconst bs58check = require('bs58check');\nconst { typeforce } = types;\nconst FUTURE_SEGWIT_MAX_SIZE = 40;\nconst FUTURE_SEGWIT_MIN_SIZE = 2;\nconst FUTURE_SEGWIT_MAX_VERSION = 16;\nconst FUTURE_SEGWIT_MIN_VERSION = 1;\nconst FUTURE_SEGWIT_VERSION_DIFF = 0x50;\nconst FUTURE_SEGWIT_VERSION_WARNING =\n  'WARNING: Sending to a future segwit version address can lead to loss of funds. ' +\n  'End users MUST be warned carefully in the GUI and asked if they wish to proceed ' +\n  'with caution. Wallets should verify the segwit version from the output of fromBech32, ' +\n  'then decide when it is safe to use which version of segwit.';\nfunction _toFutureSegwitAddress(output, network) {\n  const data = output.slice(2);\n  if (\n    data.length < FUTURE_SEGWIT_MIN_SIZE ||\n    data.length > FUTURE_SEGWIT_MAX_SIZE\n  )\n    throw new TypeError('Invalid program length for segwit address');\n  const version = output[0] - FUTURE_SEGWIT_VERSION_DIFF;\n  if (\n    version < FUTURE_SEGWIT_MIN_VERSION ||\n    version > FUTURE_SEGWIT_MAX_VERSION\n  )\n    throw new TypeError('Invalid version for segwit address');\n  if (output[1] !== data.length)\n    throw new TypeError('Invalid script for segwit address');\n  console.warn(FUTURE_SEGWIT_VERSION_WARNING);\n  return toBech32(data, version, network.bech32);\n}\nfunction fromBase58Check(address) {\n  const payload = bs58check.decode(address);\n  // TODO: 4.0.0, move to \"toOutputScript\"\n  if (payload.length < 21) throw new TypeError(address + ' is too short');\n  if (payload.length > 21) throw new TypeError(address + ' is too long');\n  const version = payload.readUInt8(0);\n  const hash = payload.slice(1);\n  return { version, hash };\n}\nexports.fromBase58Check = fromBase58Check;\nfunction fromBech32(address) {\n  let result;\n  let version;\n  try {\n    result = bech32_1.bech32.decode(address);\n  } catch (e) {}\n  if (result) {\n    version = result.words[0];\n    if (version !== 0) throw new TypeError(address + ' uses wrong encoding');\n  } else {\n    result = bech32_1.bech32m.decode(address);\n    version = result.words[0];\n    if (version === 0) throw new TypeError(address + ' uses wrong encoding');\n  }\n  const data = bech32_1.bech32.fromWords(result.words.slice(1));\n  return {\n    version,\n    prefix: result.prefix,\n    data: Buffer.from(data),\n  };\n}\nexports.fromBech32 = fromBech32;\nfunction toBase58Check(hash, version) {\n  typeforce(types.tuple(types.Hash160bit, types.UInt8), arguments);\n  const payload = Buffer.allocUnsafe(21);\n  payload.writeUInt8(version, 0);\n  hash.copy(payload, 1);\n  return bs58check.encode(payload);\n}\nexports.toBase58Check = toBase58Check;\nfunction toBech32(data, version, prefix) {\n  const words = bech32_1.bech32.toWords(data);\n  words.unshift(version);\n  return version === 0\n    ? bech32_1.bech32.encode(prefix, words)\n    : bech32_1.bech32m.encode(prefix, words);\n}\nexports.toBech32 = toBech32;\nfunction fromOutputScript(output, network) {\n  // TODO: Network\n  network = network || networks.bitcoin;\n  try {\n    return payments.p2pkh({ output, network }).address;\n  } catch (e) {}\n  try {\n    return payments.p2sh({ output, network }).address;\n  } catch (e) {}\n  try {\n    return payments.p2wpkh({ output, network }).address;\n  } catch (e) {}\n  try {\n    return payments.p2wsh({ output, network }).address;\n  } catch (e) {}\n  try {\n    return _toFutureSegwitAddress(output, network);\n  } catch (e) {}\n  throw new Error(bscript.toASM(output) + ' has no matching Address');\n}\nexports.fromOutputScript = fromOutputScript;\nfunction toOutputScript(address, network) {\n  network = network || networks.bitcoin;\n  let decodeBase58;\n  let decodeBech32;\n  try {\n    decodeBase58 = fromBase58Check(address);\n  } catch (e) {}\n  if (decodeBase58) {\n    if (decodeBase58.version === network.pubKeyHash)\n      return payments.p2pkh({ hash: decodeBase58.hash }).output;\n    if (decodeBase58.version === network.scriptHash)\n      return payments.p2sh({ hash: decodeBase58.hash }).output;\n  } else {\n    try {\n      decodeBech32 = fromBech32(address);\n    } catch (e) {}\n    if (decodeBech32) {\n      if (decodeBech32.prefix !== network.bech32)\n        throw new Error(address + ' has an invalid prefix');\n      if (decodeBech32.version === 0) {\n        if (decodeBech32.data.length === 20)\n          return payments.p2wpkh({ hash: decodeBech32.data }).output;\n        if (decodeBech32.data.length === 32)\n          return payments.p2wsh({ hash: decodeBech32.data }).output;\n      } else if (\n        decodeBech32.version >= FUTURE_SEGWIT_MIN_VERSION &&\n        decodeBech32.version <= FUTURE_SEGWIT_MAX_VERSION &&\n        decodeBech32.data.length >= FUTURE_SEGWIT_MIN_SIZE &&\n        decodeBech32.data.length <= FUTURE_SEGWIT_MAX_SIZE\n      ) {\n        console.warn(FUTURE_SEGWIT_VERSION_WARNING);\n        return bscript.compile([\n          decodeBech32.version + FUTURE_SEGWIT_VERSION_DIFF,\n          decodeBech32.data,\n        ]);\n      }\n    }\n  }\n  throw new Error(address + ' has no matching Script');\n}\nexports.toOutputScript = toOutputScript;\n","'use strict';\n// Reference https://github.com/bitcoin/bips/blob/master/bip-0066.mediawiki\n// Format: 0x30 [total-length] 0x02 [R-length] [R] 0x02 [S-length] [S]\n// NOTE: SIGHASH byte ignored AND restricted, truncate before use\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.encode = exports.decode = exports.check = void 0;\nfunction check(buffer) {\n  if (buffer.length < 8) return false;\n  if (buffer.length > 72) return false;\n  if (buffer[0] !== 0x30) return false;\n  if (buffer[1] !== buffer.length - 2) return false;\n  if (buffer[2] !== 0x02) return false;\n  const lenR = buffer[3];\n  if (lenR === 0) return false;\n  if (5 + lenR >= buffer.length) return false;\n  if (buffer[4 + lenR] !== 0x02) return false;\n  const lenS = buffer[5 + lenR];\n  if (lenS === 0) return false;\n  if (6 + lenR + lenS !== buffer.length) return false;\n  if (buffer[4] & 0x80) return false;\n  if (lenR > 1 && buffer[4] === 0x00 && !(buffer[5] & 0x80)) return false;\n  if (buffer[lenR + 6] & 0x80) return false;\n  if (lenS > 1 && buffer[lenR + 6] === 0x00 && !(buffer[lenR + 7] & 0x80))\n    return false;\n  return true;\n}\nexports.check = check;\nfunction decode(buffer) {\n  if (buffer.length < 8) throw new Error('DER sequence length is too short');\n  if (buffer.length > 72) throw new Error('DER sequence length is too long');\n  if (buffer[0] !== 0x30) throw new Error('Expected DER sequence');\n  if (buffer[1] !== buffer.length - 2)\n    throw new Error('DER sequence length is invalid');\n  if (buffer[2] !== 0x02) throw new Error('Expected DER integer');\n  const lenR = buffer[3];\n  if (lenR === 0) throw new Error('R length is zero');\n  if (5 + lenR >= buffer.length) throw new Error('R length is too long');\n  if (buffer[4 + lenR] !== 0x02) throw new Error('Expected DER integer (2)');\n  const lenS = buffer[5 + lenR];\n  if (lenS === 0) throw new Error('S length is zero');\n  if (6 + lenR + lenS !== buffer.length) throw new Error('S length is invalid');\n  if (buffer[4] & 0x80) throw new Error('R value is negative');\n  if (lenR > 1 && buffer[4] === 0x00 && !(buffer[5] & 0x80))\n    throw new Error('R value excessively padded');\n  if (buffer[lenR + 6] & 0x80) throw new Error('S value is negative');\n  if (lenS > 1 && buffer[lenR + 6] === 0x00 && !(buffer[lenR + 7] & 0x80))\n    throw new Error('S value excessively padded');\n  // non-BIP66 - extract R, S values\n  return {\n    r: buffer.slice(4, 4 + lenR),\n    s: buffer.slice(6 + lenR),\n  };\n}\nexports.decode = decode;\n/*\n * Expects r and s to be positive DER integers.\n *\n * The DER format uses the most significant bit as a sign bit (& 0x80).\n * If the significant bit is set AND the integer is positive, a 0x00 is prepended.\n *\n * Examples:\n *\n *      0 =>     0x00\n *      1 =>     0x01\n *     -1 =>     0xff\n *    127 =>     0x7f\n *   -127 =>     0x81\n *    128 =>   0x0080\n *   -128 =>     0x80\n *    255 =>   0x00ff\n *   -255 =>   0xff01\n *  16300 =>   0x3fac\n * -16300 =>   0xc054\n *  62300 => 0x00f35c\n * -62300 => 0xff0ca4\n */\nfunction encode(r, s) {\n  const lenR = r.length;\n  const lenS = s.length;\n  if (lenR === 0) throw new Error('R length is zero');\n  if (lenS === 0) throw new Error('S length is zero');\n  if (lenR > 33) throw new Error('R length is too long');\n  if (lenS > 33) throw new Error('S length is too long');\n  if (r[0] & 0x80) throw new Error('R value is negative');\n  if (s[0] & 0x80) throw new Error('S value is negative');\n  if (lenR > 1 && r[0] === 0x00 && !(r[1] & 0x80))\n    throw new Error('R value excessively padded');\n  if (lenS > 1 && s[0] === 0x00 && !(s[1] & 0x80))\n    throw new Error('S value excessively padded');\n  const signature = Buffer.allocUnsafe(6 + lenR + lenS);\n  // 0x30 [total-length] 0x02 [R-length] [R] 0x02 [S-length] [S]\n  signature[0] = 0x30;\n  signature[1] = signature.length - 2;\n  signature[2] = 0x02;\n  signature[3] = r.length;\n  r.copy(signature, 4);\n  signature[4 + lenR] = 0x02;\n  signature[5 + lenR] = s.length;\n  s.copy(signature, 6 + lenR);\n  return signature;\n}\nexports.encode = encode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.Block = void 0;\nconst bufferutils_1 = require('./bufferutils');\nconst bcrypto = require('./crypto');\nconst merkle_1 = require('./merkle');\nconst transaction_1 = require('./transaction');\nconst types = require('./types');\nconst { typeforce } = types;\nconst errorMerkleNoTxes = new TypeError(\n  'Cannot compute merkle root for zero transactions',\n);\nconst errorWitnessNotSegwit = new TypeError(\n  'Cannot compute witness commit for non-segwit block',\n);\nclass Block {\n  constructor() {\n    this.version = 1;\n    this.prevHash = undefined;\n    this.merkleRoot = undefined;\n    this.timestamp = 0;\n    this.witnessCommit = undefined;\n    this.bits = 0;\n    this.nonce = 0;\n    this.transactions = undefined;\n  }\n  static fromBuffer(buffer) {\n    if (buffer.length < 80) throw new Error('Buffer too small (< 80 bytes)');\n    const bufferReader = new bufferutils_1.BufferReader(buffer);\n    const block = new Block();\n    block.version = bufferReader.readInt32();\n    block.prevHash = bufferReader.readSlice(32);\n    block.merkleRoot = bufferReader.readSlice(32);\n    block.timestamp = bufferReader.readUInt32();\n    block.bits = bufferReader.readUInt32();\n    block.nonce = bufferReader.readUInt32();\n    if (buffer.length === 80) return block;\n    const readTransaction = () => {\n      const tx = transaction_1.Transaction.fromBuffer(\n        bufferReader.buffer.slice(bufferReader.offset),\n        true,\n      );\n      bufferReader.offset += tx.byteLength();\n      return tx;\n    };\n    const nTransactions = bufferReader.readVarInt();\n    block.transactions = [];\n    for (let i = 0; i < nTransactions; ++i) {\n      const tx = readTransaction();\n      block.transactions.push(tx);\n    }\n    const witnessCommit = block.getWitnessCommit();\n    // This Block contains a witness commit\n    if (witnessCommit) block.witnessCommit = witnessCommit;\n    return block;\n  }\n  static fromHex(hex) {\n    return Block.fromBuffer(Buffer.from(hex, 'hex'));\n  }\n  static calculateTarget(bits) {\n    const exponent = ((bits & 0xff000000) >> 24) - 3;\n    const mantissa = bits & 0x007fffff;\n    const target = Buffer.alloc(32, 0);\n    target.writeUIntBE(mantissa, 29 - exponent, 3);\n    return target;\n  }\n  static calculateMerkleRoot(transactions, forWitness) {\n    typeforce([{ getHash: types.Function }], transactions);\n    if (transactions.length === 0) throw errorMerkleNoTxes;\n    if (forWitness && !txesHaveWitnessCommit(transactions))\n      throw errorWitnessNotSegwit;\n    const hashes = transactions.map(transaction =>\n      transaction.getHash(forWitness),\n    );\n    const rootHash = (0, merkle_1.fastMerkleRoot)(hashes, bcrypto.hash256);\n    return forWitness\n      ? bcrypto.hash256(\n          Buffer.concat([rootHash, transactions[0].ins[0].witness[0]]),\n        )\n      : rootHash;\n  }\n  getWitnessCommit() {\n    if (!txesHaveWitnessCommit(this.transactions)) return null;\n    // The merkle root for the witness data is in an OP_RETURN output.\n    // There is no rule for the index of the output, so use filter to find it.\n    // The root is prepended with 0xaa21a9ed so check for 0x6a24aa21a9ed\n    // If multiple commits are found, the output with highest index is assumed.\n    const witnessCommits = this.transactions[0].outs\n      .filter(out =>\n        out.script.slice(0, 6).equals(Buffer.from('6a24aa21a9ed', 'hex')),\n      )\n      .map(out => out.script.slice(6, 38));\n    if (witnessCommits.length === 0) return null;\n    // Use the commit with the highest output (should only be one though)\n    const result = witnessCommits[witnessCommits.length - 1];\n    if (!(result instanceof Buffer && result.length === 32)) return null;\n    return result;\n  }\n  hasWitnessCommit() {\n    if (\n      this.witnessCommit instanceof Buffer &&\n      this.witnessCommit.length === 32\n    )\n      return true;\n    if (this.getWitnessCommit() !== null) return true;\n    return false;\n  }\n  hasWitness() {\n    return anyTxHasWitness(this.transactions);\n  }\n  weight() {\n    const base = this.byteLength(false, false);\n    const total = this.byteLength(false, true);\n    return base * 3 + total;\n  }\n  byteLength(headersOnly, allowWitness = true) {\n    if (headersOnly || !this.transactions) return 80;\n    return (\n      80 +\n      bufferutils_1.varuint.encodingLength(this.transactions.length) +\n      this.transactions.reduce((a, x) => a + x.byteLength(allowWitness), 0)\n    );\n  }\n  getHash() {\n    return bcrypto.hash256(this.toBuffer(true));\n  }\n  getId() {\n    return (0, bufferutils_1.reverseBuffer)(this.getHash()).toString('hex');\n  }\n  getUTCDate() {\n    const date = new Date(0); // epoch\n    date.setUTCSeconds(this.timestamp);\n    return date;\n  }\n  // TODO: buffer, offset compatibility\n  toBuffer(headersOnly) {\n    const buffer = Buffer.allocUnsafe(this.byteLength(headersOnly));\n    const bufferWriter = new bufferutils_1.BufferWriter(buffer);\n    bufferWriter.writeInt32(this.version);\n    bufferWriter.writeSlice(this.prevHash);\n    bufferWriter.writeSlice(this.merkleRoot);\n    bufferWriter.writeUInt32(this.timestamp);\n    bufferWriter.writeUInt32(this.bits);\n    bufferWriter.writeUInt32(this.nonce);\n    if (headersOnly || !this.transactions) return buffer;\n    bufferutils_1.varuint.encode(\n      this.transactions.length,\n      buffer,\n      bufferWriter.offset,\n    );\n    bufferWriter.offset += bufferutils_1.varuint.encode.bytes;\n    this.transactions.forEach(tx => {\n      const txSize = tx.byteLength(); // TODO: extract from toBuffer?\n      tx.toBuffer(buffer, bufferWriter.offset);\n      bufferWriter.offset += txSize;\n    });\n    return buffer;\n  }\n  toHex(headersOnly) {\n    return this.toBuffer(headersOnly).toString('hex');\n  }\n  checkTxRoots() {\n    // If the Block has segwit transactions but no witness commit,\n    // there's no way it can be valid, so fail the check.\n    const hasWitnessCommit = this.hasWitnessCommit();\n    if (!hasWitnessCommit && this.hasWitness()) return false;\n    return (\n      this.__checkMerkleRoot() &&\n      (hasWitnessCommit ? this.__checkWitnessCommit() : true)\n    );\n  }\n  checkProofOfWork() {\n    const hash = (0, bufferutils_1.reverseBuffer)(this.getHash());\n    const target = Block.calculateTarget(this.bits);\n    return hash.compare(target) <= 0;\n  }\n  __checkMerkleRoot() {\n    if (!this.transactions) throw errorMerkleNoTxes;\n    const actualMerkleRoot = Block.calculateMerkleRoot(this.transactions);\n    return this.merkleRoot.compare(actualMerkleRoot) === 0;\n  }\n  __checkWitnessCommit() {\n    if (!this.transactions) throw errorMerkleNoTxes;\n    if (!this.hasWitnessCommit()) throw errorWitnessNotSegwit;\n    const actualWitnessCommit = Block.calculateMerkleRoot(\n      this.transactions,\n      true,\n    );\n    return this.witnessCommit.compare(actualWitnessCommit) === 0;\n  }\n}\nexports.Block = Block;\nfunction txesHaveWitnessCommit(transactions) {\n  return (\n    transactions instanceof Array &&\n    transactions[0] &&\n    transactions[0].ins &&\n    transactions[0].ins instanceof Array &&\n    transactions[0].ins[0] &&\n    transactions[0].ins[0].witness &&\n    transactions[0].ins[0].witness instanceof Array &&\n    transactions[0].ins[0].witness.length > 0\n  );\n}\nfunction anyTxHasWitness(transactions) {\n  return (\n    transactions instanceof Array &&\n    transactions.some(\n      tx =>\n        typeof tx === 'object' &&\n        tx.ins instanceof Array &&\n        tx.ins.some(\n          input =>\n            typeof input === 'object' &&\n            input.witness instanceof Array &&\n            input.witness.length > 0,\n        ),\n    )\n  );\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.BufferReader = exports.BufferWriter = exports.cloneBuffer = exports.reverseBuffer = exports.writeUInt64LE = exports.readUInt64LE = exports.varuint = void 0;\nconst types = require('./types');\nconst { typeforce } = types;\nconst varuint = require('varuint-bitcoin');\nexports.varuint = varuint;\n// https://github.com/feross/buffer/blob/master/index.js#L1127\nfunction verifuint(value, max) {\n  if (typeof value !== 'number')\n    throw new Error('cannot write a non-number as a number');\n  if (value < 0)\n    throw new Error('specified a negative value for writing an unsigned value');\n  if (value > max) throw new Error('RangeError: value out of range');\n  if (Math.floor(value) !== value)\n    throw new Error('value has a fractional component');\n}\nfunction readUInt64LE(buffer, offset) {\n  const a = buffer.readUInt32LE(offset);\n  let b = buffer.readUInt32LE(offset + 4);\n  b *= 0x100000000;\n  verifuint(b + a, 0x001fffffffffffff);\n  return b + a;\n}\nexports.readUInt64LE = readUInt64LE;\nfunction writeUInt64LE(buffer, value, offset) {\n  verifuint(value, 0x001fffffffffffff);\n  buffer.writeInt32LE(value & -1, offset);\n  buffer.writeUInt32LE(Math.floor(value / 0x100000000), offset + 4);\n  return offset + 8;\n}\nexports.writeUInt64LE = writeUInt64LE;\nfunction reverseBuffer(buffer) {\n  if (buffer.length < 1) return buffer;\n  let j = buffer.length - 1;\n  let tmp = 0;\n  for (let i = 0; i < buffer.length / 2; i++) {\n    tmp = buffer[i];\n    buffer[i] = buffer[j];\n    buffer[j] = tmp;\n    j--;\n  }\n  return buffer;\n}\nexports.reverseBuffer = reverseBuffer;\nfunction cloneBuffer(buffer) {\n  const clone = Buffer.allocUnsafe(buffer.length);\n  buffer.copy(clone);\n  return clone;\n}\nexports.cloneBuffer = cloneBuffer;\n/**\n * Helper class for serialization of bitcoin data types into a pre-allocated buffer.\n */\nclass BufferWriter {\n  constructor(buffer, offset = 0) {\n    this.buffer = buffer;\n    this.offset = offset;\n    typeforce(types.tuple(types.Buffer, types.UInt32), [buffer, offset]);\n  }\n  static withCapacity(size) {\n    return new BufferWriter(Buffer.alloc(size));\n  }\n  writeUInt8(i) {\n    this.offset = this.buffer.writeUInt8(i, this.offset);\n  }\n  writeInt32(i) {\n    this.offset = this.buffer.writeInt32LE(i, this.offset);\n  }\n  writeUInt32(i) {\n    this.offset = this.buffer.writeUInt32LE(i, this.offset);\n  }\n  writeUInt64(i) {\n    this.offset = writeUInt64LE(this.buffer, i, this.offset);\n  }\n  writeVarInt(i) {\n    varuint.encode(i, this.buffer, this.offset);\n    this.offset += varuint.encode.bytes;\n  }\n  writeSlice(slice) {\n    if (this.buffer.length < this.offset + slice.length) {\n      throw new Error('Cannot write slice out of bounds');\n    }\n    this.offset += slice.copy(this.buffer, this.offset);\n  }\n  writeVarSlice(slice) {\n    this.writeVarInt(slice.length);\n    this.writeSlice(slice);\n  }\n  writeVector(vector) {\n    this.writeVarInt(vector.length);\n    vector.forEach(buf => this.writeVarSlice(buf));\n  }\n  end() {\n    if (this.buffer.length === this.offset) {\n      return this.buffer;\n    }\n    throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`);\n  }\n}\nexports.BufferWriter = BufferWriter;\n/**\n * Helper class for reading of bitcoin data types from a buffer.\n */\nclass BufferReader {\n  constructor(buffer, offset = 0) {\n    this.buffer = buffer;\n    this.offset = offset;\n    typeforce(types.tuple(types.Buffer, types.UInt32), [buffer, offset]);\n  }\n  readUInt8() {\n    const result = this.buffer.readUInt8(this.offset);\n    this.offset++;\n    return result;\n  }\n  readInt32() {\n    const result = this.buffer.readInt32LE(this.offset);\n    this.offset += 4;\n    return result;\n  }\n  readUInt32() {\n    const result = this.buffer.readUInt32LE(this.offset);\n    this.offset += 4;\n    return result;\n  }\n  readUInt64() {\n    const result = readUInt64LE(this.buffer, this.offset);\n    this.offset += 8;\n    return result;\n  }\n  readVarInt() {\n    const vi = varuint.decode(this.buffer, this.offset);\n    this.offset += varuint.decode.bytes;\n    return vi;\n  }\n  readSlice(n) {\n    if (this.buffer.length < this.offset + n) {\n      throw new Error('Cannot read slice out of bounds');\n    }\n    const result = this.buffer.slice(this.offset, this.offset + n);\n    this.offset += n;\n    return result;\n  }\n  readVarSlice() {\n    return this.readSlice(this.readVarInt());\n  }\n  readVector() {\n    const count = this.readVarInt();\n    const vector = [];\n    for (let i = 0; i < count; i++) vector.push(this.readVarSlice());\n    return vector;\n  }\n}\nexports.BufferReader = BufferReader;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.taggedHash = exports.hash256 = exports.hash160 = exports.sha256 = exports.sha1 = exports.ripemd160 = void 0;\nconst createHash = require('create-hash');\nfunction ripemd160(buffer) {\n  try {\n    return createHash('rmd160')\n      .update(buffer)\n      .digest();\n  } catch (err) {\n    return createHash('ripemd160')\n      .update(buffer)\n      .digest();\n  }\n}\nexports.ripemd160 = ripemd160;\nfunction sha1(buffer) {\n  return createHash('sha1')\n    .update(buffer)\n    .digest();\n}\nexports.sha1 = sha1;\nfunction sha256(buffer) {\n  return createHash('sha256')\n    .update(buffer)\n    .digest();\n}\nexports.sha256 = sha256;\nfunction hash160(buffer) {\n  return ripemd160(sha256(buffer));\n}\nexports.hash160 = hash160;\nfunction hash256(buffer) {\n  return sha256(sha256(buffer));\n}\nexports.hash256 = hash256;\nconst TAGS = [\n  'BIP0340/challenge',\n  'BIP0340/aux',\n  'BIP0340/nonce',\n  'TapLeaf',\n  'TapBranch',\n  'TapSighash',\n  'TapTweak',\n  'KeyAgg list',\n  'KeyAgg coefficient',\n];\n/** An object mapping tags to their tagged hash prefix of [SHA256(tag) | SHA256(tag)] */\nconst TAGGED_HASH_PREFIXES = Object.fromEntries(\n  TAGS.map(tag => {\n    const tagHash = sha256(Buffer.from(tag));\n    return [tag, Buffer.concat([tagHash, tagHash])];\n  }),\n);\nfunction taggedHash(prefix, data) {\n  return sha256(Buffer.concat([TAGGED_HASH_PREFIXES[prefix], data]));\n}\nexports.taggedHash = taggedHash;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.Transaction = exports.opcodes = exports.Psbt = exports.Block = exports.script = exports.payments = exports.networks = exports.crypto = exports.address = void 0;\nconst address = require('./address');\nexports.address = address;\nconst crypto = require('./crypto');\nexports.crypto = crypto;\nconst networks = require('./networks');\nexports.networks = networks;\nconst payments = require('./payments');\nexports.payments = payments;\nconst script = require('./script');\nexports.script = script;\nvar block_1 = require('./block');\nObject.defineProperty(exports, 'Block', {\n  enumerable: true,\n  get: function() {\n    return block_1.Block;\n  },\n});\nvar psbt_1 = require('./psbt');\nObject.defineProperty(exports, 'Psbt', {\n  enumerable: true,\n  get: function() {\n    return psbt_1.Psbt;\n  },\n});\nvar ops_1 = require('./ops');\nObject.defineProperty(exports, 'opcodes', {\n  enumerable: true,\n  get: function() {\n    return ops_1.OPS;\n  },\n});\nvar transaction_1 = require('./transaction');\nObject.defineProperty(exports, 'Transaction', {\n  enumerable: true,\n  get: function() {\n    return transaction_1.Transaction;\n  },\n});\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.fastMerkleRoot = void 0;\nfunction fastMerkleRoot(values, digestFn) {\n  if (!Array.isArray(values)) throw TypeError('Expected values Array');\n  if (typeof digestFn !== 'function')\n    throw TypeError('Expected digest Function');\n  let length = values.length;\n  const results = values.concat();\n  while (length > 1) {\n    let j = 0;\n    for (let i = 0; i < length; i += 2, ++j) {\n      const left = results[i];\n      const right = i + 1 === length ? left : results[i + 1];\n      const data = Buffer.concat([left, right]);\n      results[j] = digestFn(data);\n    }\n    length = j;\n  }\n  return results[0];\n}\nexports.fastMerkleRoot = fastMerkleRoot;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.testnet = exports.regtest = exports.bitcoin = void 0;\nexports.bitcoin = {\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n  bech32: 'bc',\n  bip32: {\n    public: 0x0488b21e,\n    private: 0x0488ade4,\n  },\n  pubKeyHash: 0x00,\n  scriptHash: 0x05,\n  wif: 0x80,\n};\nexports.regtest = {\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n  bech32: 'bcrt',\n  bip32: {\n    public: 0x043587cf,\n    private: 0x04358394,\n  },\n  pubKeyHash: 0x6f,\n  scriptHash: 0xc4,\n  wif: 0xef,\n};\nexports.testnet = {\n  messagePrefix: '\\x18Bitcoin Signed Message:\\n',\n  bech32: 'tb',\n  bip32: {\n    public: 0x043587cf,\n    private: 0x04358394,\n  },\n  pubKeyHash: 0x6f,\n  scriptHash: 0xc4,\n  wif: 0xef,\n};\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.REVERSE_OPS = exports.OPS = void 0;\nconst OPS = {\n  OP_FALSE: 0,\n  OP_0: 0,\n  OP_PUSHDATA1: 76,\n  OP_PUSHDATA2: 77,\n  OP_PUSHDATA4: 78,\n  OP_1NEGATE: 79,\n  OP_RESERVED: 80,\n  OP_TRUE: 81,\n  OP_1: 81,\n  OP_2: 82,\n  OP_3: 83,\n  OP_4: 84,\n  OP_5: 85,\n  OP_6: 86,\n  OP_7: 87,\n  OP_8: 88,\n  OP_9: 89,\n  OP_10: 90,\n  OP_11: 91,\n  OP_12: 92,\n  OP_13: 93,\n  OP_14: 94,\n  OP_15: 95,\n  OP_16: 96,\n  OP_NOP: 97,\n  OP_VER: 98,\n  OP_IF: 99,\n  OP_NOTIF: 100,\n  OP_VERIF: 101,\n  OP_VERNOTIF: 102,\n  OP_ELSE: 103,\n  OP_ENDIF: 104,\n  OP_VERIFY: 105,\n  OP_RETURN: 106,\n  OP_TOALTSTACK: 107,\n  OP_FROMALTSTACK: 108,\n  OP_2DROP: 109,\n  OP_2DUP: 110,\n  OP_3DUP: 111,\n  OP_2OVER: 112,\n  OP_2ROT: 113,\n  OP_2SWAP: 114,\n  OP_IFDUP: 115,\n  OP_DEPTH: 116,\n  OP_DROP: 117,\n  OP_DUP: 118,\n  OP_NIP: 119,\n  OP_OVER: 120,\n  OP_PICK: 121,\n  OP_ROLL: 122,\n  OP_ROT: 123,\n  OP_SWAP: 124,\n  OP_TUCK: 125,\n  OP_CAT: 126,\n  OP_SUBSTR: 127,\n  OP_LEFT: 128,\n  OP_RIGHT: 129,\n  OP_SIZE: 130,\n  OP_INVERT: 131,\n  OP_AND: 132,\n  OP_OR: 133,\n  OP_XOR: 134,\n  OP_EQUAL: 135,\n  OP_EQUALVERIFY: 136,\n  OP_RESERVED1: 137,\n  OP_RESERVED2: 138,\n  OP_1ADD: 139,\n  OP_1SUB: 140,\n  OP_2MUL: 141,\n  OP_2DIV: 142,\n  OP_NEGATE: 143,\n  OP_ABS: 144,\n  OP_NOT: 145,\n  OP_0NOTEQUAL: 146,\n  OP_ADD: 147,\n  OP_SUB: 148,\n  OP_MUL: 149,\n  OP_DIV: 150,\n  OP_MOD: 151,\n  OP_LSHIFT: 152,\n  OP_RSHIFT: 153,\n  OP_BOOLAND: 154,\n  OP_BOOLOR: 155,\n  OP_NUMEQUAL: 156,\n  OP_NUMEQUALVERIFY: 157,\n  OP_NUMNOTEQUAL: 158,\n  OP_LESSTHAN: 159,\n  OP_GREATERTHAN: 160,\n  OP_LESSTHANOREQUAL: 161,\n  OP_GREATERTHANOREQUAL: 162,\n  OP_MIN: 163,\n  OP_MAX: 164,\n  OP_WITHIN: 165,\n  OP_RIPEMD160: 166,\n  OP_SHA1: 167,\n  OP_SHA256: 168,\n  OP_HASH160: 169,\n  OP_HASH256: 170,\n  OP_CODESEPARATOR: 171,\n  OP_CHECKSIG: 172,\n  OP_CHECKSIGVERIFY: 173,\n  OP_CHECKMULTISIG: 174,\n  OP_CHECKMULTISIGVERIFY: 175,\n  OP_NOP1: 176,\n  OP_NOP2: 177,\n  OP_CHECKLOCKTIMEVERIFY: 177,\n  OP_NOP3: 178,\n  OP_CHECKSEQUENCEVERIFY: 178,\n  OP_NOP4: 179,\n  OP_NOP5: 180,\n  OP_NOP6: 181,\n  OP_NOP7: 182,\n  OP_NOP8: 183,\n  OP_NOP9: 184,\n  OP_NOP10: 185,\n  OP_PUBKEYHASH: 253,\n  OP_PUBKEY: 254,\n  OP_INVALIDOPCODE: 255,\n};\nexports.OPS = OPS;\nconst REVERSE_OPS = {};\nexports.REVERSE_OPS = REVERSE_OPS;\nfor (const op of Object.keys(OPS)) {\n  const code = OPS[op];\n  REVERSE_OPS[code] = op;\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2data = void 0;\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst OPS = bscript.OPS;\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\n// output: OP_RETURN ...\nfunction p2data(a, opts) {\n  if (!a.data && !a.output) throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      data: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'embed', network };\n  lazy.prop(o, 'output', () => {\n    if (!a.data) return;\n    return bscript.compile([OPS.OP_RETURN].concat(a.data));\n  });\n  lazy.prop(o, 'data', () => {\n    if (!a.output) return;\n    return bscript.decompile(a.output).slice(1);\n  });\n  // extended validation\n  if (opts.validate) {\n    if (a.output) {\n      const chunks = bscript.decompile(a.output);\n      if (chunks[0] !== OPS.OP_RETURN) throw new TypeError('Output is invalid');\n      if (!chunks.slice(1).every(types_1.typeforce.Buffer))\n        throw new TypeError('Output is invalid');\n      if (a.data && !stacksEqual(a.data, o.data))\n        throw new TypeError('Data mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2data = p2data;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2wsh = exports.p2wpkh = exports.p2sh = exports.p2pkh = exports.p2pk = exports.p2ms = exports.embed = void 0;\nconst embed_1 = require('./embed');\nObject.defineProperty(exports, 'embed', {\n  enumerable: true,\n  get: function() {\n    return embed_1.p2data;\n  },\n});\nconst p2ms_1 = require('./p2ms');\nObject.defineProperty(exports, 'p2ms', {\n  enumerable: true,\n  get: function() {\n    return p2ms_1.p2ms;\n  },\n});\nconst p2pk_1 = require('./p2pk');\nObject.defineProperty(exports, 'p2pk', {\n  enumerable: true,\n  get: function() {\n    return p2pk_1.p2pk;\n  },\n});\nconst p2pkh_1 = require('./p2pkh');\nObject.defineProperty(exports, 'p2pkh', {\n  enumerable: true,\n  get: function() {\n    return p2pkh_1.p2pkh;\n  },\n});\nconst p2sh_1 = require('./p2sh');\nObject.defineProperty(exports, 'p2sh', {\n  enumerable: true,\n  get: function() {\n    return p2sh_1.p2sh;\n  },\n});\nconst p2wpkh_1 = require('./p2wpkh');\nObject.defineProperty(exports, 'p2wpkh', {\n  enumerable: true,\n  get: function() {\n    return p2wpkh_1.p2wpkh;\n  },\n});\nconst p2wsh_1 = require('./p2wsh');\nObject.defineProperty(exports, 'p2wsh', {\n  enumerable: true,\n  get: function() {\n    return p2wsh_1.p2wsh;\n  },\n});\n// TODO\n// witness commitment\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.value = exports.prop = void 0;\nfunction prop(object, name, f) {\n  Object.defineProperty(object, name, {\n    configurable: true,\n    enumerable: true,\n    get() {\n      const _value = f.call(this);\n      this[name] = _value;\n      return _value;\n    },\n    set(_value) {\n      Object.defineProperty(this, name, {\n        configurable: true,\n        enumerable: true,\n        value: _value,\n        writable: true,\n      });\n    },\n  });\n}\nexports.prop = prop;\nfunction value(f) {\n  let _value;\n  return () => {\n    if (_value !== undefined) return _value;\n    _value = f();\n    return _value;\n  };\n}\nexports.value = value;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2ms = void 0;\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst OPS = bscript.OPS;\nconst OP_INT_BASE = OPS.OP_RESERVED; // OP_1 - 1\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\n// input: OP_0 [signatures ...]\n// output: m [pubKeys ...] n OP_CHECKMULTISIG\nfunction p2ms(a, opts) {\n  if (\n    !a.input &&\n    !a.output &&\n    !(a.pubkeys && a.m !== undefined) &&\n    !a.signatures\n  )\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  function isAcceptableSignature(x) {\n    return (\n      bscript.isCanonicalScriptSignature(x) ||\n      (opts.allowIncomplete && x === OPS.OP_0) !== undefined\n    );\n  }\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      m: types_1.typeforce.maybe(types_1.typeforce.Number),\n      n: types_1.typeforce.maybe(types_1.typeforce.Number),\n      output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      pubkeys: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.isPoint),\n      ),\n      signatures: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(isAcceptableSignature),\n      ),\n      input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n    },\n    a,\n  );\n  const network = a.network || networks_1.bitcoin;\n  const o = { network };\n  let chunks = [];\n  let decoded = false;\n  function decode(output) {\n    if (decoded) return;\n    decoded = true;\n    chunks = bscript.decompile(output);\n    o.m = chunks[0] - OP_INT_BASE;\n    o.n = chunks[chunks.length - 2] - OP_INT_BASE;\n    o.pubkeys = chunks.slice(1, -2);\n  }\n  lazy.prop(o, 'output', () => {\n    if (!a.m) return;\n    if (!o.n) return;\n    if (!a.pubkeys) return;\n    return bscript.compile(\n      [].concat(\n        OP_INT_BASE + a.m,\n        a.pubkeys,\n        OP_INT_BASE + o.n,\n        OPS.OP_CHECKMULTISIG,\n      ),\n    );\n  });\n  lazy.prop(o, 'm', () => {\n    if (!o.output) return;\n    decode(o.output);\n    return o.m;\n  });\n  lazy.prop(o, 'n', () => {\n    if (!o.pubkeys) return;\n    return o.pubkeys.length;\n  });\n  lazy.prop(o, 'pubkeys', () => {\n    if (!a.output) return;\n    decode(a.output);\n    return o.pubkeys;\n  });\n  lazy.prop(o, 'signatures', () => {\n    if (!a.input) return;\n    return bscript.decompile(a.input).slice(1);\n  });\n  lazy.prop(o, 'input', () => {\n    if (!a.signatures) return;\n    return bscript.compile([OPS.OP_0].concat(a.signatures));\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!o.input) return;\n    return [];\n  });\n  lazy.prop(o, 'name', () => {\n    if (!o.m || !o.n) return;\n    return `p2ms(${o.m} of ${o.n})`;\n  });\n  // extended validation\n  if (opts.validate) {\n    if (a.output) {\n      decode(a.output);\n      if (!types_1.typeforce.Number(chunks[0]))\n        throw new TypeError('Output is invalid');\n      if (!types_1.typeforce.Number(chunks[chunks.length - 2]))\n        throw new TypeError('Output is invalid');\n      if (chunks[chunks.length - 1] !== OPS.OP_CHECKMULTISIG)\n        throw new TypeError('Output is invalid');\n      if (o.m <= 0 || o.n > 16 || o.m > o.n || o.n !== chunks.length - 3)\n        throw new TypeError('Output is invalid');\n      if (!o.pubkeys.every(x => (0, types_1.isPoint)(x)))\n        throw new TypeError('Output is invalid');\n      if (a.m !== undefined && a.m !== o.m) throw new TypeError('m mismatch');\n      if (a.n !== undefined && a.n !== o.n) throw new TypeError('n mismatch');\n      if (a.pubkeys && !stacksEqual(a.pubkeys, o.pubkeys))\n        throw new TypeError('Pubkeys mismatch');\n    }\n    if (a.pubkeys) {\n      if (a.n !== undefined && a.n !== a.pubkeys.length)\n        throw new TypeError('Pubkey count mismatch');\n      o.n = a.pubkeys.length;\n      if (o.n < o.m) throw new TypeError('Pubkey count cannot be less than m');\n    }\n    if (a.signatures) {\n      if (a.signatures.length < o.m)\n        throw new TypeError('Not enough signatures provided');\n      if (a.signatures.length > o.m)\n        throw new TypeError('Too many signatures provided');\n    }\n    if (a.input) {\n      if (a.input[0] !== OPS.OP_0) throw new TypeError('Input is invalid');\n      if (\n        o.signatures.length === 0 ||\n        !o.signatures.every(isAcceptableSignature)\n      )\n        throw new TypeError('Input has invalid signature(s)');\n      if (a.signatures && !stacksEqual(a.signatures, o.signatures))\n        throw new TypeError('Signature mismatch');\n      if (a.m !== undefined && a.m !== a.signatures.length)\n        throw new TypeError('Signature count mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2ms = p2ms;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2pk = void 0;\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst OPS = bscript.OPS;\n// input: {signature}\n// output: {pubKey} OP_CHECKSIG\nfunction p2pk(a, opts) {\n  if (!a.input && !a.output && !a.pubkey && !a.input && !a.signature)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      pubkey: types_1.typeforce.maybe(types_1.isPoint),\n      signature: types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),\n      input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n    },\n    a,\n  );\n  const _chunks = lazy.value(() => {\n    return bscript.decompile(a.input);\n  });\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'p2pk', network };\n  lazy.prop(o, 'output', () => {\n    if (!a.pubkey) return;\n    return bscript.compile([a.pubkey, OPS.OP_CHECKSIG]);\n  });\n  lazy.prop(o, 'pubkey', () => {\n    if (!a.output) return;\n    return a.output.slice(1, -1);\n  });\n  lazy.prop(o, 'signature', () => {\n    if (!a.input) return;\n    return _chunks()[0];\n  });\n  lazy.prop(o, 'input', () => {\n    if (!a.signature) return;\n    return bscript.compile([a.signature]);\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!o.input) return;\n    return [];\n  });\n  // extended validation\n  if (opts.validate) {\n    if (a.output) {\n      if (a.output[a.output.length - 1] !== OPS.OP_CHECKSIG)\n        throw new TypeError('Output is invalid');\n      if (!(0, types_1.isPoint)(o.pubkey))\n        throw new TypeError('Output pubkey is invalid');\n      if (a.pubkey && !a.pubkey.equals(o.pubkey))\n        throw new TypeError('Pubkey mismatch');\n    }\n    if (a.signature) {\n      if (a.input && !a.input.equals(o.input))\n        throw new TypeError('Signature mismatch');\n    }\n    if (a.input) {\n      if (_chunks().length !== 1) throw new TypeError('Input is invalid');\n      if (!bscript.isCanonicalScriptSignature(o.signature))\n        throw new TypeError('Input has invalid signature');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2pk = p2pk;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2pkh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bs58check = require('bs58check');\nconst OPS = bscript.OPS;\n// input: {signature} {pubkey}\n// output: OP_DUP OP_HASH160 {hash160(pubkey)} OP_EQUALVERIFY OP_CHECKSIG\nfunction p2pkh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.pubkey && !a.input)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(25)),\n      pubkey: types_1.typeforce.maybe(types_1.isPoint),\n      signature: types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),\n      input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n    },\n    a,\n  );\n  const _address = lazy.value(() => {\n    const payload = bs58check.decode(a.address);\n    const version = payload.readUInt8(0);\n    const hash = payload.slice(1);\n    return { version, hash };\n  });\n  const _chunks = lazy.value(() => {\n    return bscript.decompile(a.input);\n  });\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'p2pkh', network };\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const payload = Buffer.allocUnsafe(21);\n    payload.writeUInt8(network.pubKeyHash, 0);\n    o.hash.copy(payload, 1);\n    return bs58check.encode(payload);\n  });\n  lazy.prop(o, 'hash', () => {\n    if (a.output) return a.output.slice(3, 23);\n    if (a.address) return _address().hash;\n    if (a.pubkey || o.pubkey) return bcrypto.hash160(a.pubkey || o.pubkey);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([\n      OPS.OP_DUP,\n      OPS.OP_HASH160,\n      o.hash,\n      OPS.OP_EQUALVERIFY,\n      OPS.OP_CHECKSIG,\n    ]);\n  });\n  lazy.prop(o, 'pubkey', () => {\n    if (!a.input) return;\n    return _chunks()[1];\n  });\n  lazy.prop(o, 'signature', () => {\n    if (!a.input) return;\n    return _chunks()[0];\n  });\n  lazy.prop(o, 'input', () => {\n    if (!a.pubkey) return;\n    if (!a.signature) return;\n    return bscript.compile([a.signature, a.pubkey]);\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!o.input) return;\n    return [];\n  });\n  // extended validation\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (_address().version !== network.pubKeyHash)\n        throw new TypeError('Invalid version or Network mismatch');\n      if (_address().hash.length !== 20) throw new TypeError('Invalid address');\n      hash = _address().hash;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 25 ||\n        a.output[0] !== OPS.OP_DUP ||\n        a.output[1] !== OPS.OP_HASH160 ||\n        a.output[2] !== 0x14 ||\n        a.output[23] !== OPS.OP_EQUALVERIFY ||\n        a.output[24] !== OPS.OP_CHECKSIG\n      )\n        throw new TypeError('Output is invalid');\n      const hash2 = a.output.slice(3, 23);\n      if (hash.length > 0 && !hash.equals(hash2))\n        throw new TypeError('Hash mismatch');\n      else hash = hash2;\n    }\n    if (a.pubkey) {\n      const pkh = bcrypto.hash160(a.pubkey);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n      else hash = pkh;\n    }\n    if (a.input) {\n      const chunks = _chunks();\n      if (chunks.length !== 2) throw new TypeError('Input is invalid');\n      if (!bscript.isCanonicalScriptSignature(chunks[0]))\n        throw new TypeError('Input has invalid signature');\n      if (!(0, types_1.isPoint)(chunks[1]))\n        throw new TypeError('Input has invalid pubkey');\n      if (a.signature && !a.signature.equals(chunks[0]))\n        throw new TypeError('Signature mismatch');\n      if (a.pubkey && !a.pubkey.equals(chunks[1]))\n        throw new TypeError('Pubkey mismatch');\n      const pkh = bcrypto.hash160(chunks[1]);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2pkh = p2pkh;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2sh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bs58check = require('bs58check');\nconst OPS = bscript.OPS;\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\n// input: [redeemScriptSig ...] {redeemScript}\n// witness: <?>\n// output: OP_HASH160 {hash160(redeemScript)} OP_EQUAL\nfunction p2sh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.redeem && !a.input)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(23)),\n      redeem: types_1.typeforce.maybe({\n        network: types_1.typeforce.maybe(types_1.typeforce.Object),\n        output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        witness: types_1.typeforce.maybe(\n          types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n        ),\n      }),\n      input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n      witness: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  let network = a.network;\n  if (!network) {\n    network = (a.redeem && a.redeem.network) || networks_1.bitcoin;\n  }\n  const o = { network };\n  const _address = lazy.value(() => {\n    const payload = bs58check.decode(a.address);\n    const version = payload.readUInt8(0);\n    const hash = payload.slice(1);\n    return { version, hash };\n  });\n  const _chunks = lazy.value(() => {\n    return bscript.decompile(a.input);\n  });\n  const _redeem = lazy.value(() => {\n    const chunks = _chunks();\n    return {\n      network,\n      output: chunks[chunks.length - 1],\n      input: bscript.compile(chunks.slice(0, -1)),\n      witness: a.witness || [],\n    };\n  });\n  // output dependents\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const payload = Buffer.allocUnsafe(21);\n    payload.writeUInt8(o.network.scriptHash, 0);\n    o.hash.copy(payload, 1);\n    return bs58check.encode(payload);\n  });\n  lazy.prop(o, 'hash', () => {\n    // in order of least effort\n    if (a.output) return a.output.slice(2, 22);\n    if (a.address) return _address().hash;\n    if (o.redeem && o.redeem.output) return bcrypto.hash160(o.redeem.output);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([OPS.OP_HASH160, o.hash, OPS.OP_EQUAL]);\n  });\n  // input dependents\n  lazy.prop(o, 'redeem', () => {\n    if (!a.input) return;\n    return _redeem();\n  });\n  lazy.prop(o, 'input', () => {\n    if (!a.redeem || !a.redeem.input || !a.redeem.output) return;\n    return bscript.compile(\n      [].concat(bscript.decompile(a.redeem.input), a.redeem.output),\n    );\n  });\n  lazy.prop(o, 'witness', () => {\n    if (o.redeem && o.redeem.witness) return o.redeem.witness;\n    if (o.input) return [];\n  });\n  lazy.prop(o, 'name', () => {\n    const nameParts = ['p2sh'];\n    if (o.redeem !== undefined && o.redeem.name !== undefined)\n      nameParts.push(o.redeem.name);\n    return nameParts.join('-');\n  });\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (_address().version !== network.scriptHash)\n        throw new TypeError('Invalid version or Network mismatch');\n      if (_address().hash.length !== 20) throw new TypeError('Invalid address');\n      hash = _address().hash;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 23 ||\n        a.output[0] !== OPS.OP_HASH160 ||\n        a.output[1] !== 0x14 ||\n        a.output[22] !== OPS.OP_EQUAL\n      )\n        throw new TypeError('Output is invalid');\n      const hash2 = a.output.slice(2, 22);\n      if (hash.length > 0 && !hash.equals(hash2))\n        throw new TypeError('Hash mismatch');\n      else hash = hash2;\n    }\n    // inlined to prevent 'no-inner-declarations' failing\n    const checkRedeem = redeem => {\n      // is the redeem output empty/invalid?\n      if (redeem.output) {\n        const decompile = bscript.decompile(redeem.output);\n        if (!decompile || decompile.length < 1)\n          throw new TypeError('Redeem.output too short');\n        // match hash against other sources\n        const hash2 = bcrypto.hash160(redeem.output);\n        if (hash.length > 0 && !hash.equals(hash2))\n          throw new TypeError('Hash mismatch');\n        else hash = hash2;\n      }\n      if (redeem.input) {\n        const hasInput = redeem.input.length > 0;\n        const hasWitness = redeem.witness && redeem.witness.length > 0;\n        if (!hasInput && !hasWitness) throw new TypeError('Empty input');\n        if (hasInput && hasWitness)\n          throw new TypeError('Input and witness provided');\n        if (hasInput) {\n          const richunks = bscript.decompile(redeem.input);\n          if (!bscript.isPushOnly(richunks))\n            throw new TypeError('Non push-only scriptSig');\n        }\n      }\n    };\n    if (a.input) {\n      const chunks = _chunks();\n      if (!chunks || chunks.length < 1) throw new TypeError('Input too short');\n      if (!Buffer.isBuffer(_redeem().output))\n        throw new TypeError('Input is invalid');\n      checkRedeem(_redeem());\n    }\n    if (a.redeem) {\n      if (a.redeem.network && a.redeem.network !== network)\n        throw new TypeError('Network mismatch');\n      if (a.input) {\n        const redeem = _redeem();\n        if (a.redeem.output && !a.redeem.output.equals(redeem.output))\n          throw new TypeError('Redeem.output mismatch');\n        if (a.redeem.input && !a.redeem.input.equals(redeem.input))\n          throw new TypeError('Redeem.input mismatch');\n      }\n      checkRedeem(a.redeem);\n    }\n    if (a.witness) {\n      if (\n        a.redeem &&\n        a.redeem.witness &&\n        !stacksEqual(a.redeem.witness, a.witness)\n      )\n        throw new TypeError('Witness and redeem.witness mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2sh = p2sh;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2wpkh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bech32_1 = require('bech32');\nconst OPS = bscript.OPS;\nconst EMPTY_BUFFER = Buffer.alloc(0);\n// witness: {signature} {pubKey}\n// input: <>\n// output: OP_0 {pubKeyHash}\nfunction p2wpkh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.pubkey && !a.witness)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),\n      input: types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(22)),\n      pubkey: types_1.typeforce.maybe(types_1.isPoint),\n      signature: types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),\n      witness: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  const _address = lazy.value(() => {\n    const result = bech32_1.bech32.decode(a.address);\n    const version = result.words.shift();\n    const data = bech32_1.bech32.fromWords(result.words);\n    return {\n      version,\n      prefix: result.prefix,\n      data: Buffer.from(data),\n    };\n  });\n  const network = a.network || networks_1.bitcoin;\n  const o = { name: 'p2wpkh', network };\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const words = bech32_1.bech32.toWords(o.hash);\n    words.unshift(0x00);\n    return bech32_1.bech32.encode(network.bech32, words);\n  });\n  lazy.prop(o, 'hash', () => {\n    if (a.output) return a.output.slice(2, 22);\n    if (a.address) return _address().data;\n    if (a.pubkey || o.pubkey) return bcrypto.hash160(a.pubkey || o.pubkey);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([OPS.OP_0, o.hash]);\n  });\n  lazy.prop(o, 'pubkey', () => {\n    if (a.pubkey) return a.pubkey;\n    if (!a.witness) return;\n    return a.witness[1];\n  });\n  lazy.prop(o, 'signature', () => {\n    if (!a.witness) return;\n    return a.witness[0];\n  });\n  lazy.prop(o, 'input', () => {\n    if (!o.witness) return;\n    return EMPTY_BUFFER;\n  });\n  lazy.prop(o, 'witness', () => {\n    if (!a.pubkey) return;\n    if (!a.signature) return;\n    return [a.signature, a.pubkey];\n  });\n  // extended validation\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (network && network.bech32 !== _address().prefix)\n        throw new TypeError('Invalid prefix or Network mismatch');\n      if (_address().version !== 0x00)\n        throw new TypeError('Invalid address version');\n      if (_address().data.length !== 20)\n        throw new TypeError('Invalid address data');\n      hash = _address().data;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 22 ||\n        a.output[0] !== OPS.OP_0 ||\n        a.output[1] !== 0x14\n      )\n        throw new TypeError('Output is invalid');\n      if (hash.length > 0 && !hash.equals(a.output.slice(2)))\n        throw new TypeError('Hash mismatch');\n      else hash = a.output.slice(2);\n    }\n    if (a.pubkey) {\n      const pkh = bcrypto.hash160(a.pubkey);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n      else hash = pkh;\n      if (!(0, types_1.isPoint)(a.pubkey) || a.pubkey.length !== 33)\n        throw new TypeError('Invalid pubkey for p2wpkh');\n    }\n    if (a.witness) {\n      if (a.witness.length !== 2) throw new TypeError('Witness is invalid');\n      if (!bscript.isCanonicalScriptSignature(a.witness[0]))\n        throw new TypeError('Witness has invalid signature');\n      if (!(0, types_1.isPoint)(a.witness[1]) || a.witness[1].length !== 33)\n        throw new TypeError('Witness has invalid pubkey');\n      if (a.signature && !a.signature.equals(a.witness[0]))\n        throw new TypeError('Signature mismatch');\n      if (a.pubkey && !a.pubkey.equals(a.witness[1]))\n        throw new TypeError('Pubkey mismatch');\n      const pkh = bcrypto.hash160(a.witness[1]);\n      if (hash.length > 0 && !hash.equals(pkh))\n        throw new TypeError('Hash mismatch');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2wpkh = p2wpkh;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.p2wsh = void 0;\nconst bcrypto = require('../crypto');\nconst networks_1 = require('../networks');\nconst bscript = require('../script');\nconst types_1 = require('../types');\nconst lazy = require('./lazy');\nconst bech32_1 = require('bech32');\nconst OPS = bscript.OPS;\nconst EMPTY_BUFFER = Buffer.alloc(0);\nfunction stacksEqual(a, b) {\n  if (a.length !== b.length) return false;\n  return a.every((x, i) => {\n    return x.equals(b[i]);\n  });\n}\nfunction chunkHasUncompressedPubkey(chunk) {\n  if (\n    Buffer.isBuffer(chunk) &&\n    chunk.length === 65 &&\n    chunk[0] === 0x04 &&\n    (0, types_1.isPoint)(chunk)\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n// input: <>\n// witness: [redeemScriptSig ...] {redeemScript}\n// output: OP_0 {sha256(redeemScript)}\nfunction p2wsh(a, opts) {\n  if (!a.address && !a.hash && !a.output && !a.redeem && !a.witness)\n    throw new TypeError('Not enough data');\n  opts = Object.assign({ validate: true }, opts || {});\n  (0, types_1.typeforce)(\n    {\n      network: types_1.typeforce.maybe(types_1.typeforce.Object),\n      address: types_1.typeforce.maybe(types_1.typeforce.String),\n      hash: types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),\n      output: types_1.typeforce.maybe(types_1.typeforce.BufferN(34)),\n      redeem: types_1.typeforce.maybe({\n        input: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        network: types_1.typeforce.maybe(types_1.typeforce.Object),\n        output: types_1.typeforce.maybe(types_1.typeforce.Buffer),\n        witness: types_1.typeforce.maybe(\n          types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n        ),\n      }),\n      input: types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),\n      witness: types_1.typeforce.maybe(\n        types_1.typeforce.arrayOf(types_1.typeforce.Buffer),\n      ),\n    },\n    a,\n  );\n  const _address = lazy.value(() => {\n    const result = bech32_1.bech32.decode(a.address);\n    const version = result.words.shift();\n    const data = bech32_1.bech32.fromWords(result.words);\n    return {\n      version,\n      prefix: result.prefix,\n      data: Buffer.from(data),\n    };\n  });\n  const _rchunks = lazy.value(() => {\n    return bscript.decompile(a.redeem.input);\n  });\n  let network = a.network;\n  if (!network) {\n    network = (a.redeem && a.redeem.network) || networks_1.bitcoin;\n  }\n  const o = { network };\n  lazy.prop(o, 'address', () => {\n    if (!o.hash) return;\n    const words = bech32_1.bech32.toWords(o.hash);\n    words.unshift(0x00);\n    return bech32_1.bech32.encode(network.bech32, words);\n  });\n  lazy.prop(o, 'hash', () => {\n    if (a.output) return a.output.slice(2);\n    if (a.address) return _address().data;\n    if (o.redeem && o.redeem.output) return bcrypto.sha256(o.redeem.output);\n  });\n  lazy.prop(o, 'output', () => {\n    if (!o.hash) return;\n    return bscript.compile([OPS.OP_0, o.hash]);\n  });\n  lazy.prop(o, 'redeem', () => {\n    if (!a.witness) return;\n    return {\n      output: a.witness[a.witness.length - 1],\n      input: EMPTY_BUFFER,\n      witness: a.witness.slice(0, -1),\n    };\n  });\n  lazy.prop(o, 'input', () => {\n    if (!o.witness) return;\n    return EMPTY_BUFFER;\n  });\n  lazy.prop(o, 'witness', () => {\n    // transform redeem input to witness stack?\n    if (\n      a.redeem &&\n      a.redeem.input &&\n      a.redeem.input.length > 0 &&\n      a.redeem.output &&\n      a.redeem.output.length > 0\n    ) {\n      const stack = bscript.toStack(_rchunks());\n      // assign, and blank the existing input\n      o.redeem = Object.assign({ witness: stack }, a.redeem);\n      o.redeem.input = EMPTY_BUFFER;\n      return [].concat(stack, a.redeem.output);\n    }\n    if (!a.redeem) return;\n    if (!a.redeem.output) return;\n    if (!a.redeem.witness) return;\n    return [].concat(a.redeem.witness, a.redeem.output);\n  });\n  lazy.prop(o, 'name', () => {\n    const nameParts = ['p2wsh'];\n    if (o.redeem !== undefined && o.redeem.name !== undefined)\n      nameParts.push(o.redeem.name);\n    return nameParts.join('-');\n  });\n  // extended validation\n  if (opts.validate) {\n    let hash = Buffer.from([]);\n    if (a.address) {\n      if (_address().prefix !== network.bech32)\n        throw new TypeError('Invalid prefix or Network mismatch');\n      if (_address().version !== 0x00)\n        throw new TypeError('Invalid address version');\n      if (_address().data.length !== 32)\n        throw new TypeError('Invalid address data');\n      hash = _address().data;\n    }\n    if (a.hash) {\n      if (hash.length > 0 && !hash.equals(a.hash))\n        throw new TypeError('Hash mismatch');\n      else hash = a.hash;\n    }\n    if (a.output) {\n      if (\n        a.output.length !== 34 ||\n        a.output[0] !== OPS.OP_0 ||\n        a.output[1] !== 0x20\n      )\n        throw new TypeError('Output is invalid');\n      const hash2 = a.output.slice(2);\n      if (hash.length > 0 && !hash.equals(hash2))\n        throw new TypeError('Hash mismatch');\n      else hash = hash2;\n    }\n    if (a.redeem) {\n      if (a.redeem.network && a.redeem.network !== network)\n        throw new TypeError('Network mismatch');\n      // is there two redeem sources?\n      if (\n        a.redeem.input &&\n        a.redeem.input.length > 0 &&\n        a.redeem.witness &&\n        a.redeem.witness.length > 0\n      )\n        throw new TypeError('Ambiguous witness source');\n      // is the redeem output non-empty?\n      if (a.redeem.output) {\n        if (bscript.decompile(a.redeem.output).length === 0)\n          throw new TypeError('Redeem.output is invalid');\n        // match hash against other sources\n        const hash2 = bcrypto.sha256(a.redeem.output);\n        if (hash.length > 0 && !hash.equals(hash2))\n          throw new TypeError('Hash mismatch');\n        else hash = hash2;\n      }\n      if (a.redeem.input && !bscript.isPushOnly(_rchunks()))\n        throw new TypeError('Non push-only scriptSig');\n      if (\n        a.witness &&\n        a.redeem.witness &&\n        !stacksEqual(a.witness, a.redeem.witness)\n      )\n        throw new TypeError('Witness and redeem.witness mismatch');\n      if (\n        (a.redeem.input && _rchunks().some(chunkHasUncompressedPubkey)) ||\n        (a.redeem.output &&\n          (bscript.decompile(a.redeem.output) || []).some(\n            chunkHasUncompressedPubkey,\n          ))\n      ) {\n        throw new TypeError(\n          'redeem.input or redeem.output contains uncompressed pubkey',\n        );\n      }\n    }\n    if (a.witness && a.witness.length > 0) {\n      const wScript = a.witness[a.witness.length - 1];\n      if (a.redeem && a.redeem.output && !a.redeem.output.equals(wScript))\n        throw new TypeError('Witness and redeem.output mismatch');\n      if (\n        a.witness.some(chunkHasUncompressedPubkey) ||\n        (bscript.decompile(wScript) || []).some(chunkHasUncompressedPubkey)\n      )\n        throw new TypeError('Witness contains uncompressed pubkey');\n    }\n  }\n  return Object.assign(o, a);\n}\nexports.p2wsh = p2wsh;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.Psbt = void 0;\nconst bip174_1 = require('bip174');\nconst varuint = require('bip174/src/lib/converter/varint');\nconst utils_1 = require('bip174/src/lib/utils');\nconst address_1 = require('./address');\nconst bufferutils_1 = require('./bufferutils');\nconst crypto_1 = require('./crypto');\nconst networks_1 = require('./networks');\nconst payments = require('./payments');\nconst bscript = require('./script');\nconst transaction_1 = require('./transaction');\n/**\n * These are the default arguments for a Psbt instance.\n */\nconst DEFAULT_OPTS = {\n  /**\n   * A bitcoinjs Network object. This is only used if you pass an `address`\n   * parameter to addOutput. Otherwise it is not needed and can be left default.\n   */\n  network: networks_1.bitcoin,\n  /**\n   * When extractTransaction is called, the fee rate is checked.\n   * THIS IS NOT TO BE RELIED ON.\n   * It is only here as a last ditch effort to prevent sending a 500 BTC fee etc.\n   */\n  maximumFeeRate: 5000, // satoshi per byte\n};\n/**\n * Psbt class can parse and generate a PSBT binary based off of the BIP174.\n * There are 6 roles that this class fulfills. (Explained in BIP174)\n *\n * Creator: This can be done with `new Psbt()`\n * Updater: This can be done with `psbt.addInput(input)`, `psbt.addInputs(inputs)`,\n *   `psbt.addOutput(output)`, `psbt.addOutputs(outputs)` when you are looking to\n *   add new inputs and outputs to the PSBT, and `psbt.updateGlobal(itemObject)`,\n *   `psbt.updateInput(itemObject)`, `psbt.updateOutput(itemObject)`\n *   addInput requires hash: Buffer | string; and index: number; as attributes\n *   and can also include any attributes that are used in updateInput method.\n *   addOutput requires script: Buffer; and value: number; and likewise can include\n *   data for updateOutput.\n *   For a list of what attributes should be what types. Check the bip174 library.\n *   Also, check the integration tests for some examples of usage.\n * Signer: There are a few methods. signAllInputs and signAllInputsAsync, which will search all input\n *   information for your pubkey or pubkeyhash, and only sign inputs where it finds\n *   your info. Or you can explicitly sign a specific input with signInput and\n *   signInputAsync. For the async methods you can create a SignerAsync object\n *   and use something like a hardware wallet to sign with. (You must implement this)\n * Combiner: psbts can be combined easily with `psbt.combine(psbt2, psbt3, psbt4 ...)`\n *   the psbt calling combine will always have precedence when a conflict occurs.\n *   Combine checks if the internal bitcoin transaction is the same, so be sure that\n *   all sequences, version, locktime, etc. are the same before combining.\n * Input Finalizer: This role is fairly important. Not only does it need to construct\n *   the input scriptSigs and witnesses, but it SHOULD verify the signatures etc.\n *   Before running `psbt.finalizeAllInputs()` please run `psbt.validateSignaturesOfAllInputs()`\n *   Running any finalize method will delete any data in the input(s) that are no longer\n *   needed due to the finalized scripts containing the information.\n * Transaction Extractor: This role will perform some checks before returning a\n *   Transaction object. Such as fee rate not being larger than maximumFeeRate etc.\n */\nclass Psbt {\n  constructor(opts = {}, data = new bip174_1.Psbt(new PsbtTransaction())) {\n    this.data = data;\n    // set defaults\n    this.opts = Object.assign({}, DEFAULT_OPTS, opts);\n    this.__CACHE = {\n      __NON_WITNESS_UTXO_TX_CACHE: [],\n      __NON_WITNESS_UTXO_BUF_CACHE: [],\n      __TX_IN_CACHE: {},\n      __TX: this.data.globalMap.unsignedTx.tx,\n      // Psbt's predecesor (TransactionBuilder - now removed) behavior\n      // was to not confirm input values  before signing.\n      // Even though we highly encourage people to get\n      // the full parent transaction to verify values, the ability to\n      // sign non-segwit inputs without the full transaction was often\n      // requested. So the only way to activate is to use @ts-ignore.\n      // We will disable exporting the Psbt when unsafe sign is active.\n      // because it is not BIP174 compliant.\n      __UNSAFE_SIGN_NONSEGWIT: false,\n    };\n    if (this.data.inputs.length === 0) this.setVersion(2);\n    // Make data hidden when enumerating\n    const dpew = (obj, attr, enumerable, writable) =>\n      Object.defineProperty(obj, attr, {\n        enumerable,\n        writable,\n      });\n    dpew(this, '__CACHE', false, true);\n    dpew(this, 'opts', false, true);\n  }\n  static fromBase64(data, opts = {}) {\n    const buffer = Buffer.from(data, 'base64');\n    return this.fromBuffer(buffer, opts);\n  }\n  static fromHex(data, opts = {}) {\n    const buffer = Buffer.from(data, 'hex');\n    return this.fromBuffer(buffer, opts);\n  }\n  static fromBuffer(buffer, opts = {}) {\n    const psbtBase = bip174_1.Psbt.fromBuffer(buffer, transactionFromBuffer);\n    const psbt = new Psbt(opts, psbtBase);\n    checkTxForDupeIns(psbt.__CACHE.__TX, psbt.__CACHE);\n    return psbt;\n  }\n  get inputCount() {\n    return this.data.inputs.length;\n  }\n  get version() {\n    return this.__CACHE.__TX.version;\n  }\n  set version(version) {\n    this.setVersion(version);\n  }\n  get locktime() {\n    return this.__CACHE.__TX.locktime;\n  }\n  set locktime(locktime) {\n    this.setLocktime(locktime);\n  }\n  get txInputs() {\n    return this.__CACHE.__TX.ins.map(input => ({\n      hash: (0, bufferutils_1.cloneBuffer)(input.hash),\n      index: input.index,\n      sequence: input.sequence,\n    }));\n  }\n  get txOutputs() {\n    return this.__CACHE.__TX.outs.map(output => {\n      let address;\n      try {\n        address = (0, address_1.fromOutputScript)(\n          output.script,\n          this.opts.network,\n        );\n      } catch (_) {}\n      return {\n        script: (0, bufferutils_1.cloneBuffer)(output.script),\n        value: output.value,\n        address,\n      };\n    });\n  }\n  combine(...those) {\n    this.data.combine(...those.map(o => o.data));\n    return this;\n  }\n  clone() {\n    // TODO: more efficient cloning\n    const res = Psbt.fromBuffer(this.data.toBuffer());\n    res.opts = JSON.parse(JSON.stringify(this.opts));\n    return res;\n  }\n  setMaximumFeeRate(satoshiPerByte) {\n    check32Bit(satoshiPerByte); // 42.9 BTC per byte IS excessive... so throw\n    this.opts.maximumFeeRate = satoshiPerByte;\n  }\n  setVersion(version) {\n    check32Bit(version);\n    checkInputsForPartialSig(this.data.inputs, 'setVersion');\n    const c = this.__CACHE;\n    c.__TX.version = version;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  setLocktime(locktime) {\n    check32Bit(locktime);\n    checkInputsForPartialSig(this.data.inputs, 'setLocktime');\n    const c = this.__CACHE;\n    c.__TX.locktime = locktime;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  setInputSequence(inputIndex, sequence) {\n    check32Bit(sequence);\n    checkInputsForPartialSig(this.data.inputs, 'setInputSequence');\n    const c = this.__CACHE;\n    if (c.__TX.ins.length <= inputIndex) {\n      throw new Error('Input index too high');\n    }\n    c.__TX.ins[inputIndex].sequence = sequence;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  addInputs(inputDatas) {\n    inputDatas.forEach(inputData => this.addInput(inputData));\n    return this;\n  }\n  addInput(inputData) {\n    if (\n      arguments.length > 1 ||\n      !inputData ||\n      inputData.hash === undefined ||\n      inputData.index === undefined\n    ) {\n      throw new Error(\n        `Invalid arguments for Psbt.addInput. ` +\n          `Requires single object with at least [hash] and [index]`,\n      );\n    }\n    checkInputsForPartialSig(this.data.inputs, 'addInput');\n    if (inputData.witnessScript) checkInvalidP2WSH(inputData.witnessScript);\n    const c = this.__CACHE;\n    this.data.addInput(inputData);\n    const txIn = c.__TX.ins[c.__TX.ins.length - 1];\n    checkTxInputCache(c, txIn);\n    const inputIndex = this.data.inputs.length - 1;\n    const input = this.data.inputs[inputIndex];\n    if (input.nonWitnessUtxo) {\n      addNonWitnessTxCache(this.__CACHE, input, inputIndex);\n    }\n    c.__FEE = undefined;\n    c.__FEE_RATE = undefined;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  addOutputs(outputDatas) {\n    outputDatas.forEach(outputData => this.addOutput(outputData));\n    return this;\n  }\n  addOutput(outputData) {\n    if (\n      arguments.length > 1 ||\n      !outputData ||\n      outputData.value === undefined ||\n      (outputData.address === undefined && outputData.script === undefined)\n    ) {\n      throw new Error(\n        `Invalid arguments for Psbt.addOutput. ` +\n          `Requires single object with at least [script or address] and [value]`,\n      );\n    }\n    checkInputsForPartialSig(this.data.inputs, 'addOutput');\n    const { address } = outputData;\n    if (typeof address === 'string') {\n      const { network } = this.opts;\n      const script = (0, address_1.toOutputScript)(address, network);\n      outputData = Object.assign(outputData, { script });\n    }\n    const c = this.__CACHE;\n    this.data.addOutput(outputData);\n    c.__FEE = undefined;\n    c.__FEE_RATE = undefined;\n    c.__EXTRACTED_TX = undefined;\n    return this;\n  }\n  extractTransaction(disableFeeCheck) {\n    if (!this.data.inputs.every(isFinalized)) throw new Error('Not finalized');\n    const c = this.__CACHE;\n    if (!disableFeeCheck) {\n      checkFees(this, c, this.opts);\n    }\n    if (c.__EXTRACTED_TX) return c.__EXTRACTED_TX;\n    const tx = c.__TX.clone();\n    inputFinalizeGetAmts(this.data.inputs, tx, c, true);\n    return tx;\n  }\n  getFeeRate() {\n    return getTxCacheValue(\n      '__FEE_RATE',\n      'fee rate',\n      this.data.inputs,\n      this.__CACHE,\n    );\n  }\n  getFee() {\n    return getTxCacheValue('__FEE', 'fee', this.data.inputs, this.__CACHE);\n  }\n  finalizeAllInputs() {\n    (0, utils_1.checkForInput)(this.data.inputs, 0); // making sure we have at least one\n    range(this.data.inputs.length).forEach(idx => this.finalizeInput(idx));\n    return this;\n  }\n  finalizeInput(inputIndex, finalScriptsFunc = getFinalScripts) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    const { script, isP2SH, isP2WSH, isSegwit } = getScriptFromInput(\n      inputIndex,\n      input,\n      this.__CACHE,\n    );\n    if (!script) throw new Error(`No script found for input #${inputIndex}`);\n    checkPartialSigSighashes(input);\n    const { finalScriptSig, finalScriptWitness } = finalScriptsFunc(\n      inputIndex,\n      input,\n      script,\n      isSegwit,\n      isP2SH,\n      isP2WSH,\n    );\n    if (finalScriptSig) this.data.updateInput(inputIndex, { finalScriptSig });\n    if (finalScriptWitness)\n      this.data.updateInput(inputIndex, { finalScriptWitness });\n    if (!finalScriptSig && !finalScriptWitness)\n      throw new Error(`Unknown error finalizing input #${inputIndex}`);\n    this.data.clearFinalizedInput(inputIndex);\n    return this;\n  }\n  getInputType(inputIndex) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    const script = getScriptFromUtxo(inputIndex, input, this.__CACHE);\n    const result = getMeaningfulScript(\n      script,\n      inputIndex,\n      'input',\n      input.redeemScript || redeemFromFinalScriptSig(input.finalScriptSig),\n      input.witnessScript ||\n        redeemFromFinalWitnessScript(input.finalScriptWitness),\n    );\n    const type = result.type === 'raw' ? '' : result.type + '-';\n    const mainType = classifyScript(result.meaningfulScript);\n    return type + mainType;\n  }\n  inputHasPubkey(inputIndex, pubkey) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    return pubkeyInInput(pubkey, input, inputIndex, this.__CACHE);\n  }\n  inputHasHDKey(inputIndex, root) {\n    const input = (0, utils_1.checkForInput)(this.data.inputs, inputIndex);\n    const derivationIsMine = bip32DerivationIsMine(root);\n    return (\n      !!input.bip32Derivation && input.bip32Derivation.some(derivationIsMine)\n    );\n  }\n  outputHasPubkey(outputIndex, pubkey) {\n    const output = (0, utils_1.checkForOutput)(this.data.outputs, outputIndex);\n    return pubkeyInOutput(pubkey, output, outputIndex, this.__CACHE);\n  }\n  outputHasHDKey(outputIndex, root) {\n    const output = (0, utils_1.checkForOutput)(this.data.outputs, outputIndex);\n    const derivationIsMine = bip32DerivationIsMine(root);\n    return (\n      !!output.bip32Derivation && output.bip32Derivation.some(derivationIsMine)\n    );\n  }\n  validateSignaturesOfAllInputs(validator) {\n    (0, utils_1.checkForInput)(this.data.inputs, 0); // making sure we have at least one\n    const results = range(this.data.inputs.length).map(idx =>\n      this.validateSignaturesOfInput(idx, validator),\n    );\n    return results.reduce((final, res) => res === true && final, true);\n  }\n  validateSignaturesOfInput(inputIndex, validator, pubkey) {\n    const input = this.data.inputs[inputIndex];\n    const partialSig = (input || {}).partialSig;\n    if (!input || !partialSig || partialSig.length < 1)\n      throw new Error('No signatures to validate');\n    if (typeof validator !== 'function')\n      throw new Error('Need validator function to validate signatures');\n    const mySigs = pubkey\n      ? partialSig.filter(sig => sig.pubkey.equals(pubkey))\n      : partialSig;\n    if (mySigs.length < 1) throw new Error('No signatures for this pubkey');\n    const results = [];\n    let hashCache;\n    let scriptCache;\n    let sighashCache;\n    for (const pSig of mySigs) {\n      const sig = bscript.signature.decode(pSig.signature);\n      const { hash, script } =\n        sighashCache !== sig.hashType\n          ? getHashForSig(\n              inputIndex,\n              Object.assign({}, input, { sighashType: sig.hashType }),\n              this.__CACHE,\n              true,\n            )\n          : { hash: hashCache, script: scriptCache };\n      sighashCache = sig.hashType;\n      hashCache = hash;\n      scriptCache = script;\n      checkScriptForPubkey(pSig.pubkey, script, 'verify');\n      results.push(validator(pSig.pubkey, hash, sig.signature));\n    }\n    return results.every(res => res === true);\n  }\n  signAllInputsHD(\n    hdKeyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    if (!hdKeyPair || !hdKeyPair.publicKey || !hdKeyPair.fingerprint) {\n      throw new Error('Need HDSigner to sign input');\n    }\n    const results = [];\n    for (const i of range(this.data.inputs.length)) {\n      try {\n        this.signInputHD(i, hdKeyPair, sighashTypes);\n        results.push(true);\n      } catch (err) {\n        results.push(false);\n      }\n    }\n    if (results.every(v => v === false)) {\n      throw new Error('No inputs were signed');\n    }\n    return this;\n  }\n  signAllInputsHDAsync(\n    hdKeyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    return new Promise((resolve, reject) => {\n      if (!hdKeyPair || !hdKeyPair.publicKey || !hdKeyPair.fingerprint) {\n        return reject(new Error('Need HDSigner to sign input'));\n      }\n      const results = [];\n      const promises = [];\n      for (const i of range(this.data.inputs.length)) {\n        promises.push(\n          this.signInputHDAsync(i, hdKeyPair, sighashTypes).then(\n            () => {\n              results.push(true);\n            },\n            () => {\n              results.push(false);\n            },\n          ),\n        );\n      }\n      return Promise.all(promises).then(() => {\n        if (results.every(v => v === false)) {\n          return reject(new Error('No inputs were signed'));\n        }\n        resolve();\n      });\n    });\n  }\n  signInputHD(\n    inputIndex,\n    hdKeyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    if (!hdKeyPair || !hdKeyPair.publicKey || !hdKeyPair.fingerprint) {\n      throw new Error('Need HDSigner to sign input');\n    }\n    const signers = getSignersFromHD(inputIndex, this.data.inputs, hdKeyPair);\n    signers.forEach(signer => this.signInput(inputIndex, signer, sighashTypes));\n    return this;\n  }\n  signInputHDAsync(\n    inputIndex,\n    hdKeyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    return new Promise((resolve, reject) => {\n      if (!hdKeyPair || !hdKeyPair.publicKey || !hdKeyPair.fingerprint) {\n        return reject(new Error('Need HDSigner to sign input'));\n      }\n      const signers = getSignersFromHD(inputIndex, this.data.inputs, hdKeyPair);\n      const promises = signers.map(signer =>\n        this.signInputAsync(inputIndex, signer, sighashTypes),\n      );\n      return Promise.all(promises)\n        .then(() => {\n          resolve();\n        })\n        .catch(reject);\n    });\n  }\n  signAllInputs(\n    keyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    if (!keyPair || !keyPair.publicKey)\n      throw new Error('Need Signer to sign input');\n    // TODO: Add a pubkey/pubkeyhash cache to each input\n    // as input information is added, then eventually\n    // optimize this method.\n    const results = [];\n    for (const i of range(this.data.inputs.length)) {\n      try {\n        this.signInput(i, keyPair, sighashTypes);\n        results.push(true);\n      } catch (err) {\n        results.push(false);\n      }\n    }\n    if (results.every(v => v === false)) {\n      throw new Error('No inputs were signed');\n    }\n    return this;\n  }\n  signAllInputsAsync(\n    keyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    return new Promise((resolve, reject) => {\n      if (!keyPair || !keyPair.publicKey)\n        return reject(new Error('Need Signer to sign input'));\n      // TODO: Add a pubkey/pubkeyhash cache to each input\n      // as input information is added, then eventually\n      // optimize this method.\n      const results = [];\n      const promises = [];\n      for (const [i] of this.data.inputs.entries()) {\n        promises.push(\n          this.signInputAsync(i, keyPair, sighashTypes).then(\n            () => {\n              results.push(true);\n            },\n            () => {\n              results.push(false);\n            },\n          ),\n        );\n      }\n      return Promise.all(promises).then(() => {\n        if (results.every(v => v === false)) {\n          return reject(new Error('No inputs were signed'));\n        }\n        resolve();\n      });\n    });\n  }\n  signInput(\n    inputIndex,\n    keyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    if (!keyPair || !keyPair.publicKey)\n      throw new Error('Need Signer to sign input');\n    const { hash, sighashType } = getHashAndSighashType(\n      this.data.inputs,\n      inputIndex,\n      keyPair.publicKey,\n      this.__CACHE,\n      sighashTypes,\n    );\n    const partialSig = [\n      {\n        pubkey: keyPair.publicKey,\n        signature: bscript.signature.encode(keyPair.sign(hash), sighashType),\n      },\n    ];\n    this.data.updateInput(inputIndex, { partialSig });\n    return this;\n  }\n  signInputAsync(\n    inputIndex,\n    keyPair,\n    sighashTypes = [transaction_1.Transaction.SIGHASH_ALL],\n  ) {\n    return Promise.resolve().then(() => {\n      if (!keyPair || !keyPair.publicKey)\n        throw new Error('Need Signer to sign input');\n      const { hash, sighashType } = getHashAndSighashType(\n        this.data.inputs,\n        inputIndex,\n        keyPair.publicKey,\n        this.__CACHE,\n        sighashTypes,\n      );\n      return Promise.resolve(keyPair.sign(hash)).then(signature => {\n        const partialSig = [\n          {\n            pubkey: keyPair.publicKey,\n            signature: bscript.signature.encode(signature, sighashType),\n          },\n        ];\n        this.data.updateInput(inputIndex, { partialSig });\n      });\n    });\n  }\n  toBuffer() {\n    checkCache(this.__CACHE);\n    return this.data.toBuffer();\n  }\n  toHex() {\n    checkCache(this.__CACHE);\n    return this.data.toHex();\n  }\n  toBase64() {\n    checkCache(this.__CACHE);\n    return this.data.toBase64();\n  }\n  updateGlobal(updateData) {\n    this.data.updateGlobal(updateData);\n    return this;\n  }\n  updateInput(inputIndex, updateData) {\n    if (updateData.witnessScript) checkInvalidP2WSH(updateData.witnessScript);\n    this.data.updateInput(inputIndex, updateData);\n    if (updateData.nonWitnessUtxo) {\n      addNonWitnessTxCache(\n        this.__CACHE,\n        this.data.inputs[inputIndex],\n        inputIndex,\n      );\n    }\n    return this;\n  }\n  updateOutput(outputIndex, updateData) {\n    this.data.updateOutput(outputIndex, updateData);\n    return this;\n  }\n  addUnknownKeyValToGlobal(keyVal) {\n    this.data.addUnknownKeyValToGlobal(keyVal);\n    return this;\n  }\n  addUnknownKeyValToInput(inputIndex, keyVal) {\n    this.data.addUnknownKeyValToInput(inputIndex, keyVal);\n    return this;\n  }\n  addUnknownKeyValToOutput(outputIndex, keyVal) {\n    this.data.addUnknownKeyValToOutput(outputIndex, keyVal);\n    return this;\n  }\n  clearFinalizedInput(inputIndex) {\n    this.data.clearFinalizedInput(inputIndex);\n    return this;\n  }\n}\nexports.Psbt = Psbt;\n/**\n * This function is needed to pass to the bip174 base class's fromBuffer.\n * It takes the \"transaction buffer\" portion of the psbt buffer and returns a\n * Transaction (From the bip174 library) interface.\n */\nconst transactionFromBuffer = buffer => new PsbtTransaction(buffer);\n/**\n * This class implements the Transaction interface from bip174 library.\n * It contains a bitcoinjs-lib Transaction object.\n */\nclass PsbtTransaction {\n  constructor(buffer = Buffer.from([2, 0, 0, 0, 0, 0, 0, 0, 0, 0])) {\n    this.tx = transaction_1.Transaction.fromBuffer(buffer);\n    checkTxEmpty(this.tx);\n    Object.defineProperty(this, 'tx', {\n      enumerable: false,\n      writable: true,\n    });\n  }\n  getInputOutputCounts() {\n    return {\n      inputCount: this.tx.ins.length,\n      outputCount: this.tx.outs.length,\n    };\n  }\n  addInput(input) {\n    if (\n      input.hash === undefined ||\n      input.index === undefined ||\n      (!Buffer.isBuffer(input.hash) && typeof input.hash !== 'string') ||\n      typeof input.index !== 'number'\n    ) {\n      throw new Error('Error adding input.');\n    }\n    const hash =\n      typeof input.hash === 'string'\n        ? (0, bufferutils_1.reverseBuffer)(Buffer.from(input.hash, 'hex'))\n        : input.hash;\n    this.tx.addInput(hash, input.index, input.sequence);\n  }\n  addOutput(output) {\n    if (\n      output.script === undefined ||\n      output.value === undefined ||\n      !Buffer.isBuffer(output.script) ||\n      typeof output.value !== 'number'\n    ) {\n      throw new Error('Error adding output.');\n    }\n    this.tx.addOutput(output.script, output.value);\n  }\n  toBuffer() {\n    return this.tx.toBuffer();\n  }\n}\nfunction canFinalize(input, script, scriptType) {\n  switch (scriptType) {\n    case 'pubkey':\n    case 'pubkeyhash':\n    case 'witnesspubkeyhash':\n      return hasSigs(1, input.partialSig);\n    case 'multisig':\n      const p2ms = payments.p2ms({ output: script });\n      return hasSigs(p2ms.m, input.partialSig, p2ms.pubkeys);\n    default:\n      return false;\n  }\n}\nfunction checkCache(cache) {\n  if (cache.__UNSAFE_SIGN_NONSEGWIT !== false) {\n    throw new Error('Not BIP174 compliant, can not export');\n  }\n}\nfunction hasSigs(neededSigs, partialSig, pubkeys) {\n  if (!partialSig) return false;\n  let sigs;\n  if (pubkeys) {\n    sigs = pubkeys\n      .map(pkey => {\n        const pubkey = compressPubkey(pkey);\n        return partialSig.find(pSig => pSig.pubkey.equals(pubkey));\n      })\n      .filter(v => !!v);\n  } else {\n    sigs = partialSig;\n  }\n  if (sigs.length > neededSigs) throw new Error('Too many signatures');\n  return sigs.length === neededSigs;\n}\nfunction isFinalized(input) {\n  return !!input.finalScriptSig || !!input.finalScriptWitness;\n}\nfunction isPaymentFactory(payment) {\n  return script => {\n    try {\n      payment({ output: script });\n      return true;\n    } catch (err) {\n      return false;\n    }\n  };\n}\nconst isP2MS = isPaymentFactory(payments.p2ms);\nconst isP2PK = isPaymentFactory(payments.p2pk);\nconst isP2PKH = isPaymentFactory(payments.p2pkh);\nconst isP2WPKH = isPaymentFactory(payments.p2wpkh);\nconst isP2WSHScript = isPaymentFactory(payments.p2wsh);\nconst isP2SHScript = isPaymentFactory(payments.p2sh);\nfunction bip32DerivationIsMine(root) {\n  return d => {\n    if (!d.masterFingerprint.equals(root.fingerprint)) return false;\n    if (!root.derivePath(d.path).publicKey.equals(d.pubkey)) return false;\n    return true;\n  };\n}\nfunction check32Bit(num) {\n  if (\n    typeof num !== 'number' ||\n    num !== Math.floor(num) ||\n    num > 0xffffffff ||\n    num < 0\n  ) {\n    throw new Error('Invalid 32 bit integer');\n  }\n}\nfunction checkFees(psbt, cache, opts) {\n  const feeRate = cache.__FEE_RATE || psbt.getFeeRate();\n  const vsize = cache.__EXTRACTED_TX.virtualSize();\n  const satoshis = feeRate * vsize;\n  if (feeRate >= opts.maximumFeeRate) {\n    throw new Error(\n      `Warning: You are paying around ${(satoshis / 1e8).toFixed(8)} in ` +\n        `fees, which is ${feeRate} satoshi per byte for a transaction ` +\n        `with a VSize of ${vsize} bytes (segwit counted as 0.25 byte per ` +\n        `byte). Use setMaximumFeeRate method to raise your threshold, or ` +\n        `pass true to the first arg of extractTransaction.`,\n    );\n  }\n}\nfunction checkInputsForPartialSig(inputs, action) {\n  inputs.forEach(input => {\n    let throws = false;\n    let pSigs = [];\n    if ((input.partialSig || []).length === 0) {\n      if (!input.finalScriptSig && !input.finalScriptWitness) return;\n      pSigs = getPsigsFromInputFinalScripts(input);\n    } else {\n      pSigs = input.partialSig;\n    }\n    pSigs.forEach(pSig => {\n      const { hashType } = bscript.signature.decode(pSig.signature);\n      const whitelist = [];\n      const isAnyoneCanPay =\n        hashType & transaction_1.Transaction.SIGHASH_ANYONECANPAY;\n      if (isAnyoneCanPay) whitelist.push('addInput');\n      const hashMod = hashType & 0x1f;\n      switch (hashMod) {\n        case transaction_1.Transaction.SIGHASH_ALL:\n          break;\n        case transaction_1.Transaction.SIGHASH_SINGLE:\n        case transaction_1.Transaction.SIGHASH_NONE:\n          whitelist.push('addOutput');\n          whitelist.push('setInputSequence');\n          break;\n      }\n      if (whitelist.indexOf(action) === -1) {\n        throws = true;\n      }\n    });\n    if (throws) {\n      throw new Error('Can not modify transaction, signatures exist.');\n    }\n  });\n}\nfunction checkPartialSigSighashes(input) {\n  if (!input.sighashType || !input.partialSig) return;\n  const { partialSig, sighashType } = input;\n  partialSig.forEach(pSig => {\n    const { hashType } = bscript.signature.decode(pSig.signature);\n    if (sighashType !== hashType) {\n      throw new Error('Signature sighash does not match input sighash type');\n    }\n  });\n}\nfunction checkScriptForPubkey(pubkey, script, action) {\n  if (!pubkeyInScript(pubkey, script)) {\n    throw new Error(\n      `Can not ${action} for this input with the key ${pubkey.toString('hex')}`,\n    );\n  }\n}\nfunction checkTxEmpty(tx) {\n  const isEmpty = tx.ins.every(\n    input =>\n      input.script &&\n      input.script.length === 0 &&\n      input.witness &&\n      input.witness.length === 0,\n  );\n  if (!isEmpty) {\n    throw new Error('Format Error: Transaction ScriptSigs are not empty');\n  }\n}\nfunction checkTxForDupeIns(tx, cache) {\n  tx.ins.forEach(input => {\n    checkTxInputCache(cache, input);\n  });\n}\nfunction checkTxInputCache(cache, input) {\n  const key =\n    (0, bufferutils_1.reverseBuffer)(Buffer.from(input.hash)).toString('hex') +\n    ':' +\n    input.index;\n  if (cache.__TX_IN_CACHE[key]) throw new Error('Duplicate input detected.');\n  cache.__TX_IN_CACHE[key] = 1;\n}\nfunction scriptCheckerFactory(payment, paymentScriptName) {\n  return (inputIndex, scriptPubKey, redeemScript, ioType) => {\n    const redeemScriptOutput = payment({\n      redeem: { output: redeemScript },\n    }).output;\n    if (!scriptPubKey.equals(redeemScriptOutput)) {\n      throw new Error(\n        `${paymentScriptName} for ${ioType} #${inputIndex} doesn't match the scriptPubKey in the prevout`,\n      );\n    }\n  };\n}\nconst checkRedeemScript = scriptCheckerFactory(payments.p2sh, 'Redeem script');\nconst checkWitnessScript = scriptCheckerFactory(\n  payments.p2wsh,\n  'Witness script',\n);\nfunction getTxCacheValue(key, name, inputs, c) {\n  if (!inputs.every(isFinalized))\n    throw new Error(`PSBT must be finalized to calculate ${name}`);\n  if (key === '__FEE_RATE' && c.__FEE_RATE) return c.__FEE_RATE;\n  if (key === '__FEE' && c.__FEE) return c.__FEE;\n  let tx;\n  let mustFinalize = true;\n  if (c.__EXTRACTED_TX) {\n    tx = c.__EXTRACTED_TX;\n    mustFinalize = false;\n  } else {\n    tx = c.__TX.clone();\n  }\n  inputFinalizeGetAmts(inputs, tx, c, mustFinalize);\n  if (key === '__FEE_RATE') return c.__FEE_RATE;\n  else if (key === '__FEE') return c.__FEE;\n}\nfunction getFinalScripts(inputIndex, input, script, isSegwit, isP2SH, isP2WSH) {\n  const scriptType = classifyScript(script);\n  if (!canFinalize(input, script, scriptType))\n    throw new Error(`Can not finalize input #${inputIndex}`);\n  return prepareFinalScripts(\n    script,\n    scriptType,\n    input.partialSig,\n    isSegwit,\n    isP2SH,\n    isP2WSH,\n  );\n}\nfunction prepareFinalScripts(\n  script,\n  scriptType,\n  partialSig,\n  isSegwit,\n  isP2SH,\n  isP2WSH,\n) {\n  let finalScriptSig;\n  let finalScriptWitness;\n  // Wow, the payments API is very handy\n  const payment = getPayment(script, scriptType, partialSig);\n  const p2wsh = !isP2WSH ? null : payments.p2wsh({ redeem: payment });\n  const p2sh = !isP2SH ? null : payments.p2sh({ redeem: p2wsh || payment });\n  if (isSegwit) {\n    if (p2wsh) {\n      finalScriptWitness = witnessStackToScriptWitness(p2wsh.witness);\n    } else {\n      finalScriptWitness = witnessStackToScriptWitness(payment.witness);\n    }\n    if (p2sh) {\n      finalScriptSig = p2sh.input;\n    }\n  } else {\n    if (p2sh) {\n      finalScriptSig = p2sh.input;\n    } else {\n      finalScriptSig = payment.input;\n    }\n  }\n  return {\n    finalScriptSig,\n    finalScriptWitness,\n  };\n}\nfunction getHashAndSighashType(\n  inputs,\n  inputIndex,\n  pubkey,\n  cache,\n  sighashTypes,\n) {\n  const input = (0, utils_1.checkForInput)(inputs, inputIndex);\n  const { hash, sighashType, script } = getHashForSig(\n    inputIndex,\n    input,\n    cache,\n    false,\n    sighashTypes,\n  );\n  checkScriptForPubkey(pubkey, script, 'sign');\n  return {\n    hash,\n    sighashType,\n  };\n}\nfunction getHashForSig(inputIndex, input, cache, forValidate, sighashTypes) {\n  const unsignedTx = cache.__TX;\n  const sighashType =\n    input.sighashType || transaction_1.Transaction.SIGHASH_ALL;\n  if (sighashTypes && sighashTypes.indexOf(sighashType) < 0) {\n    const str = sighashTypeToString(sighashType);\n    throw new Error(\n      `Sighash type is not allowed. Retry the sign method passing the ` +\n        `sighashTypes array of whitelisted types. Sighash type: ${str}`,\n    );\n  }\n  let hash;\n  let prevout;\n  if (input.nonWitnessUtxo) {\n    const nonWitnessUtxoTx = nonWitnessUtxoTxFromCache(\n      cache,\n      input,\n      inputIndex,\n    );\n    const prevoutHash = unsignedTx.ins[inputIndex].hash;\n    const utxoHash = nonWitnessUtxoTx.getHash();\n    // If a non-witness UTXO is provided, its hash must match the hash specified in the prevout\n    if (!prevoutHash.equals(utxoHash)) {\n      throw new Error(\n        `Non-witness UTXO hash for input #${inputIndex} doesn't match the hash specified in the prevout`,\n      );\n    }\n    const prevoutIndex = unsignedTx.ins[inputIndex].index;\n    prevout = nonWitnessUtxoTx.outs[prevoutIndex];\n  } else if (input.witnessUtxo) {\n    prevout = input.witnessUtxo;\n  } else {\n    throw new Error('Need a Utxo input item for signing');\n  }\n  const { meaningfulScript, type } = getMeaningfulScript(\n    prevout.script,\n    inputIndex,\n    'input',\n    input.redeemScript,\n    input.witnessScript,\n  );\n  if (['p2sh-p2wsh', 'p2wsh'].indexOf(type) >= 0) {\n    hash = unsignedTx.hashForWitnessV0(\n      inputIndex,\n      meaningfulScript,\n      prevout.value,\n      sighashType,\n    );\n  } else if (isP2WPKH(meaningfulScript)) {\n    // P2WPKH uses the P2PKH template for prevoutScript when signing\n    const signingScript = payments.p2pkh({ hash: meaningfulScript.slice(2) })\n      .output;\n    hash = unsignedTx.hashForWitnessV0(\n      inputIndex,\n      signingScript,\n      prevout.value,\n      sighashType,\n    );\n  } else {\n    // non-segwit\n    if (\n      input.nonWitnessUtxo === undefined &&\n      cache.__UNSAFE_SIGN_NONSEGWIT === false\n    )\n      throw new Error(\n        `Input #${inputIndex} has witnessUtxo but non-segwit script: ` +\n          `${meaningfulScript.toString('hex')}`,\n      );\n    if (!forValidate && cache.__UNSAFE_SIGN_NONSEGWIT !== false)\n      console.warn(\n        'Warning: Signing non-segwit inputs without the full parent transaction ' +\n          'means there is a chance that a miner could feed you incorrect information ' +\n          \"to trick you into paying large fees. This behavior is the same as Psbt's predecesor \" +\n          '(TransactionBuilder - now removed) when signing non-segwit scripts. You are not ' +\n          'able to export this Psbt with toBuffer|toBase64|toHex since it is not ' +\n          'BIP174 compliant.\\n*********************\\nPROCEED WITH CAUTION!\\n' +\n          '*********************',\n      );\n    hash = unsignedTx.hashForSignature(\n      inputIndex,\n      meaningfulScript,\n      sighashType,\n    );\n  }\n  return {\n    script: meaningfulScript,\n    sighashType,\n    hash,\n  };\n}\nfunction getPayment(script, scriptType, partialSig) {\n  let payment;\n  switch (scriptType) {\n    case 'multisig':\n      const sigs = getSortedSigs(script, partialSig);\n      payment = payments.p2ms({\n        output: script,\n        signatures: sigs,\n      });\n      break;\n    case 'pubkey':\n      payment = payments.p2pk({\n        output: script,\n        signature: partialSig[0].signature,\n      });\n      break;\n    case 'pubkeyhash':\n      payment = payments.p2pkh({\n        output: script,\n        pubkey: partialSig[0].pubkey,\n        signature: partialSig[0].signature,\n      });\n      break;\n    case 'witnesspubkeyhash':\n      payment = payments.p2wpkh({\n        output: script,\n        pubkey: partialSig[0].pubkey,\n        signature: partialSig[0].signature,\n      });\n      break;\n  }\n  return payment;\n}\nfunction getPsigsFromInputFinalScripts(input) {\n  const scriptItems = !input.finalScriptSig\n    ? []\n    : bscript.decompile(input.finalScriptSig) || [];\n  const witnessItems = !input.finalScriptWitness\n    ? []\n    : bscript.decompile(input.finalScriptWitness) || [];\n  return scriptItems\n    .concat(witnessItems)\n    .filter(item => {\n      return Buffer.isBuffer(item) && bscript.isCanonicalScriptSignature(item);\n    })\n    .map(sig => ({ signature: sig }));\n}\nfunction getScriptFromInput(inputIndex, input, cache) {\n  const unsignedTx = cache.__TX;\n  const res = {\n    script: null,\n    isSegwit: false,\n    isP2SH: false,\n    isP2WSH: false,\n  };\n  res.isP2SH = !!input.redeemScript;\n  res.isP2WSH = !!input.witnessScript;\n  if (input.witnessScript) {\n    res.script = input.witnessScript;\n  } else if (input.redeemScript) {\n    res.script = input.redeemScript;\n  } else {\n    if (input.nonWitnessUtxo) {\n      const nonWitnessUtxoTx = nonWitnessUtxoTxFromCache(\n        cache,\n        input,\n        inputIndex,\n      );\n      const prevoutIndex = unsignedTx.ins[inputIndex].index;\n      res.script = nonWitnessUtxoTx.outs[prevoutIndex].script;\n    } else if (input.witnessUtxo) {\n      res.script = input.witnessUtxo.script;\n    }\n  }\n  if (input.witnessScript || isP2WPKH(res.script)) {\n    res.isSegwit = true;\n  }\n  return res;\n}\nfunction getSignersFromHD(inputIndex, inputs, hdKeyPair) {\n  const input = (0, utils_1.checkForInput)(inputs, inputIndex);\n  if (!input.bip32Derivation || input.bip32Derivation.length === 0) {\n    throw new Error('Need bip32Derivation to sign with HD');\n  }\n  const myDerivations = input.bip32Derivation\n    .map(bipDv => {\n      if (bipDv.masterFingerprint.equals(hdKeyPair.fingerprint)) {\n        return bipDv;\n      } else {\n        return;\n      }\n    })\n    .filter(v => !!v);\n  if (myDerivations.length === 0) {\n    throw new Error(\n      'Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint',\n    );\n  }\n  const signers = myDerivations.map(bipDv => {\n    const node = hdKeyPair.derivePath(bipDv.path);\n    if (!bipDv.pubkey.equals(node.publicKey)) {\n      throw new Error('pubkey did not match bip32Derivation');\n    }\n    return node;\n  });\n  return signers;\n}\nfunction getSortedSigs(script, partialSig) {\n  const p2ms = payments.p2ms({ output: script });\n  // for each pubkey in order of p2ms script\n  return p2ms.pubkeys\n    .map(pk => {\n      // filter partialSig array by pubkey being equal\n      return (\n        partialSig.filter(ps => {\n          return ps.pubkey.equals(pk);\n        })[0] || {}\n      ).signature;\n      // Any pubkey without a match will return undefined\n      // this last filter removes all the undefined items in the array.\n    })\n    .filter(v => !!v);\n}\nfunction scriptWitnessToWitnessStack(buffer) {\n  let offset = 0;\n  function readSlice(n) {\n    offset += n;\n    return buffer.slice(offset - n, offset);\n  }\n  function readVarInt() {\n    const vi = varuint.decode(buffer, offset);\n    offset += varuint.decode.bytes;\n    return vi;\n  }\n  function readVarSlice() {\n    return readSlice(readVarInt());\n  }\n  function readVector() {\n    const count = readVarInt();\n    const vector = [];\n    for (let i = 0; i < count; i++) vector.push(readVarSlice());\n    return vector;\n  }\n  return readVector();\n}\nfunction sighashTypeToString(sighashType) {\n  let text =\n    sighashType & transaction_1.Transaction.SIGHASH_ANYONECANPAY\n      ? 'SIGHASH_ANYONECANPAY | '\n      : '';\n  const sigMod = sighashType & 0x1f;\n  switch (sigMod) {\n    case transaction_1.Transaction.SIGHASH_ALL:\n      text += 'SIGHASH_ALL';\n      break;\n    case transaction_1.Transaction.SIGHASH_SINGLE:\n      text += 'SIGHASH_SINGLE';\n      break;\n    case transaction_1.Transaction.SIGHASH_NONE:\n      text += 'SIGHASH_NONE';\n      break;\n  }\n  return text;\n}\nfunction witnessStackToScriptWitness(witness) {\n  let buffer = Buffer.allocUnsafe(0);\n  function writeSlice(slice) {\n    buffer = Buffer.concat([buffer, Buffer.from(slice)]);\n  }\n  function writeVarInt(i) {\n    const currentLen = buffer.length;\n    const varintLen = varuint.encodingLength(i);\n    buffer = Buffer.concat([buffer, Buffer.allocUnsafe(varintLen)]);\n    varuint.encode(i, buffer, currentLen);\n  }\n  function writeVarSlice(slice) {\n    writeVarInt(slice.length);\n    writeSlice(slice);\n  }\n  function writeVector(vector) {\n    writeVarInt(vector.length);\n    vector.forEach(writeVarSlice);\n  }\n  writeVector(witness);\n  return buffer;\n}\nfunction addNonWitnessTxCache(cache, input, inputIndex) {\n  cache.__NON_WITNESS_UTXO_BUF_CACHE[inputIndex] = input.nonWitnessUtxo;\n  const tx = transaction_1.Transaction.fromBuffer(input.nonWitnessUtxo);\n  cache.__NON_WITNESS_UTXO_TX_CACHE[inputIndex] = tx;\n  const self = cache;\n  const selfIndex = inputIndex;\n  delete input.nonWitnessUtxo;\n  Object.defineProperty(input, 'nonWitnessUtxo', {\n    enumerable: true,\n    get() {\n      const buf = self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex];\n      const txCache = self.__NON_WITNESS_UTXO_TX_CACHE[selfIndex];\n      if (buf !== undefined) {\n        return buf;\n      } else {\n        const newBuf = txCache.toBuffer();\n        self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex] = newBuf;\n        return newBuf;\n      }\n    },\n    set(data) {\n      self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex] = data;\n    },\n  });\n}\nfunction inputFinalizeGetAmts(inputs, tx, cache, mustFinalize) {\n  let inputAmount = 0;\n  inputs.forEach((input, idx) => {\n    if (mustFinalize && input.finalScriptSig)\n      tx.ins[idx].script = input.finalScriptSig;\n    if (mustFinalize && input.finalScriptWitness) {\n      tx.ins[idx].witness = scriptWitnessToWitnessStack(\n        input.finalScriptWitness,\n      );\n    }\n    if (input.witnessUtxo) {\n      inputAmount += input.witnessUtxo.value;\n    } else if (input.nonWitnessUtxo) {\n      const nwTx = nonWitnessUtxoTxFromCache(cache, input, idx);\n      const vout = tx.ins[idx].index;\n      const out = nwTx.outs[vout];\n      inputAmount += out.value;\n    }\n  });\n  const outputAmount = tx.outs.reduce((total, o) => total + o.value, 0);\n  const fee = inputAmount - outputAmount;\n  if (fee < 0) {\n    throw new Error('Outputs are spending more than Inputs');\n  }\n  const bytes = tx.virtualSize();\n  cache.__FEE = fee;\n  cache.__EXTRACTED_TX = tx;\n  cache.__FEE_RATE = Math.floor(fee / bytes);\n}\nfunction nonWitnessUtxoTxFromCache(cache, input, inputIndex) {\n  const c = cache.__NON_WITNESS_UTXO_TX_CACHE;\n  if (!c[inputIndex]) {\n    addNonWitnessTxCache(cache, input, inputIndex);\n  }\n  return c[inputIndex];\n}\nfunction getScriptFromUtxo(inputIndex, input, cache) {\n  if (input.witnessUtxo !== undefined) {\n    return input.witnessUtxo.script;\n  } else if (input.nonWitnessUtxo !== undefined) {\n    const nonWitnessUtxoTx = nonWitnessUtxoTxFromCache(\n      cache,\n      input,\n      inputIndex,\n    );\n    return nonWitnessUtxoTx.outs[cache.__TX.ins[inputIndex].index].script;\n  } else {\n    throw new Error(\"Can't find pubkey in input without Utxo data\");\n  }\n}\nfunction pubkeyInInput(pubkey, input, inputIndex, cache) {\n  const script = getScriptFromUtxo(inputIndex, input, cache);\n  const { meaningfulScript } = getMeaningfulScript(\n    script,\n    inputIndex,\n    'input',\n    input.redeemScript,\n    input.witnessScript,\n  );\n  return pubkeyInScript(pubkey, meaningfulScript);\n}\nfunction pubkeyInOutput(pubkey, output, outputIndex, cache) {\n  const script = cache.__TX.outs[outputIndex].script;\n  const { meaningfulScript } = getMeaningfulScript(\n    script,\n    outputIndex,\n    'output',\n    output.redeemScript,\n    output.witnessScript,\n  );\n  return pubkeyInScript(pubkey, meaningfulScript);\n}\nfunction redeemFromFinalScriptSig(finalScript) {\n  if (!finalScript) return;\n  const decomp = bscript.decompile(finalScript);\n  if (!decomp) return;\n  const lastItem = decomp[decomp.length - 1];\n  if (\n    !Buffer.isBuffer(lastItem) ||\n    isPubkeyLike(lastItem) ||\n    isSigLike(lastItem)\n  )\n    return;\n  const sDecomp = bscript.decompile(lastItem);\n  if (!sDecomp) return;\n  return lastItem;\n}\nfunction redeemFromFinalWitnessScript(finalScript) {\n  if (!finalScript) return;\n  const decomp = scriptWitnessToWitnessStack(finalScript);\n  const lastItem = decomp[decomp.length - 1];\n  if (isPubkeyLike(lastItem)) return;\n  const sDecomp = bscript.decompile(lastItem);\n  if (!sDecomp) return;\n  return lastItem;\n}\nfunction compressPubkey(pubkey) {\n  if (pubkey.length === 65) {\n    const parity = pubkey[64] & 1;\n    const newKey = pubkey.slice(0, 33);\n    newKey[0] = 2 | parity;\n    return newKey;\n  }\n  return pubkey.slice();\n}\nfunction isPubkeyLike(buf) {\n  return buf.length === 33 && bscript.isCanonicalPubKey(buf);\n}\nfunction isSigLike(buf) {\n  return bscript.isCanonicalScriptSignature(buf);\n}\nfunction getMeaningfulScript(\n  script,\n  index,\n  ioType,\n  redeemScript,\n  witnessScript,\n) {\n  const isP2SH = isP2SHScript(script);\n  const isP2SHP2WSH = isP2SH && redeemScript && isP2WSHScript(redeemScript);\n  const isP2WSH = isP2WSHScript(script);\n  if (isP2SH && redeemScript === undefined)\n    throw new Error('scriptPubkey is P2SH but redeemScript missing');\n  if ((isP2WSH || isP2SHP2WSH) && witnessScript === undefined)\n    throw new Error(\n      'scriptPubkey or redeemScript is P2WSH but witnessScript missing',\n    );\n  let meaningfulScript;\n  if (isP2SHP2WSH) {\n    meaningfulScript = witnessScript;\n    checkRedeemScript(index, script, redeemScript, ioType);\n    checkWitnessScript(index, redeemScript, witnessScript, ioType);\n    checkInvalidP2WSH(meaningfulScript);\n  } else if (isP2WSH) {\n    meaningfulScript = witnessScript;\n    checkWitnessScript(index, script, witnessScript, ioType);\n    checkInvalidP2WSH(meaningfulScript);\n  } else if (isP2SH) {\n    meaningfulScript = redeemScript;\n    checkRedeemScript(index, script, redeemScript, ioType);\n  } else {\n    meaningfulScript = script;\n  }\n  return {\n    meaningfulScript,\n    type: isP2SHP2WSH\n      ? 'p2sh-p2wsh'\n      : isP2SH\n      ? 'p2sh'\n      : isP2WSH\n      ? 'p2wsh'\n      : 'raw',\n  };\n}\nfunction checkInvalidP2WSH(script) {\n  if (isP2WPKH(script) || isP2SHScript(script)) {\n    throw new Error('P2WPKH or P2SH can not be contained within P2WSH');\n  }\n}\nfunction pubkeyInScript(pubkey, script) {\n  const pubkeyHash = (0, crypto_1.hash160)(pubkey);\n  const decompiled = bscript.decompile(script);\n  if (decompiled === null) throw new Error('Unknown script error');\n  return decompiled.some(element => {\n    if (typeof element === 'number') return false;\n    return element.equals(pubkey) || element.equals(pubkeyHash);\n  });\n}\nfunction classifyScript(script) {\n  if (isP2WPKH(script)) return 'witnesspubkeyhash';\n  if (isP2PKH(script)) return 'pubkeyhash';\n  if (isP2MS(script)) return 'multisig';\n  if (isP2PK(script)) return 'pubkey';\n  return 'nonstandard';\n}\nfunction range(n) {\n  return [...Array(n).keys()];\n}\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.decode = exports.encode = exports.encodingLength = void 0;\nconst ops_1 = require('./ops');\nfunction encodingLength(i) {\n  return i < ops_1.OPS.OP_PUSHDATA1 ? 1 : i <= 0xff ? 2 : i <= 0xffff ? 3 : 5;\n}\nexports.encodingLength = encodingLength;\nfunction encode(buffer, num, offset) {\n  const size = encodingLength(num);\n  // ~6 bit\n  if (size === 1) {\n    buffer.writeUInt8(num, offset);\n    // 8 bit\n  } else if (size === 2) {\n    buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA1, offset);\n    buffer.writeUInt8(num, offset + 1);\n    // 16 bit\n  } else if (size === 3) {\n    buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA2, offset);\n    buffer.writeUInt16LE(num, offset + 1);\n    // 32 bit\n  } else {\n    buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA4, offset);\n    buffer.writeUInt32LE(num, offset + 1);\n  }\n  return size;\n}\nexports.encode = encode;\nfunction decode(buffer, offset) {\n  const opcode = buffer.readUInt8(offset);\n  let num;\n  let size;\n  // ~6 bit\n  if (opcode < ops_1.OPS.OP_PUSHDATA1) {\n    num = opcode;\n    size = 1;\n    // 8 bit\n  } else if (opcode === ops_1.OPS.OP_PUSHDATA1) {\n    if (offset + 2 > buffer.length) return null;\n    num = buffer.readUInt8(offset + 1);\n    size = 2;\n    // 16 bit\n  } else if (opcode === ops_1.OPS.OP_PUSHDATA2) {\n    if (offset + 3 > buffer.length) return null;\n    num = buffer.readUInt16LE(offset + 1);\n    size = 3;\n    // 32 bit\n  } else {\n    if (offset + 5 > buffer.length) return null;\n    if (opcode !== ops_1.OPS.OP_PUSHDATA4) throw new Error('Unexpected opcode');\n    num = buffer.readUInt32LE(offset + 1);\n    size = 5;\n  }\n  return {\n    opcode,\n    number: num,\n    size,\n  };\n}\nexports.decode = decode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.signature = exports.number = exports.isCanonicalScriptSignature = exports.isDefinedHashType = exports.isCanonicalPubKey = exports.toStack = exports.fromASM = exports.toASM = exports.decompile = exports.compile = exports.isPushOnly = exports.OPS = void 0;\nconst bip66 = require('./bip66');\nconst ops_1 = require('./ops');\nObject.defineProperty(exports, 'OPS', {\n  enumerable: true,\n  get: function() {\n    return ops_1.OPS;\n  },\n});\nconst pushdata = require('./push_data');\nconst scriptNumber = require('./script_number');\nconst scriptSignature = require('./script_signature');\nconst types = require('./types');\nconst { typeforce } = types;\nconst OP_INT_BASE = ops_1.OPS.OP_RESERVED; // OP_1 - 1\nfunction isOPInt(value) {\n  return (\n    types.Number(value) &&\n    (value === ops_1.OPS.OP_0 ||\n      (value >= ops_1.OPS.OP_1 && value <= ops_1.OPS.OP_16) ||\n      value === ops_1.OPS.OP_1NEGATE)\n  );\n}\nfunction isPushOnlyChunk(value) {\n  return types.Buffer(value) || isOPInt(value);\n}\nfunction isPushOnly(value) {\n  return types.Array(value) && value.every(isPushOnlyChunk);\n}\nexports.isPushOnly = isPushOnly;\nfunction asMinimalOP(buffer) {\n  if (buffer.length === 0) return ops_1.OPS.OP_0;\n  if (buffer.length !== 1) return;\n  if (buffer[0] >= 1 && buffer[0] <= 16) return OP_INT_BASE + buffer[0];\n  if (buffer[0] === 0x81) return ops_1.OPS.OP_1NEGATE;\n}\nfunction chunksIsBuffer(buf) {\n  return Buffer.isBuffer(buf);\n}\nfunction chunksIsArray(buf) {\n  return types.Array(buf);\n}\nfunction singleChunkIsBuffer(buf) {\n  return Buffer.isBuffer(buf);\n}\nfunction compile(chunks) {\n  // TODO: remove me\n  if (chunksIsBuffer(chunks)) return chunks;\n  typeforce(types.Array, chunks);\n  const bufferSize = chunks.reduce((accum, chunk) => {\n    // data chunk\n    if (singleChunkIsBuffer(chunk)) {\n      // adhere to BIP62.3, minimal push policy\n      if (chunk.length === 1 && asMinimalOP(chunk) !== undefined) {\n        return accum + 1;\n      }\n      return accum + pushdata.encodingLength(chunk.length) + chunk.length;\n    }\n    // opcode\n    return accum + 1;\n  }, 0.0);\n  const buffer = Buffer.allocUnsafe(bufferSize);\n  let offset = 0;\n  chunks.forEach(chunk => {\n    // data chunk\n    if (singleChunkIsBuffer(chunk)) {\n      // adhere to BIP62.3, minimal push policy\n      const opcode = asMinimalOP(chunk);\n      if (opcode !== undefined) {\n        buffer.writeUInt8(opcode, offset);\n        offset += 1;\n        return;\n      }\n      offset += pushdata.encode(buffer, chunk.length, offset);\n      chunk.copy(buffer, offset);\n      offset += chunk.length;\n      // opcode\n    } else {\n      buffer.writeUInt8(chunk, offset);\n      offset += 1;\n    }\n  });\n  if (offset !== buffer.length) throw new Error('Could not decode chunks');\n  return buffer;\n}\nexports.compile = compile;\nfunction decompile(buffer) {\n  // TODO: remove me\n  if (chunksIsArray(buffer)) return buffer;\n  typeforce(types.Buffer, buffer);\n  const chunks = [];\n  let i = 0;\n  while (i < buffer.length) {\n    const opcode = buffer[i];\n    // data chunk\n    if (opcode > ops_1.OPS.OP_0 && opcode <= ops_1.OPS.OP_PUSHDATA4) {\n      const d = pushdata.decode(buffer, i);\n      // did reading a pushDataInt fail?\n      if (d === null) return null;\n      i += d.size;\n      // attempt to read too much data?\n      if (i + d.number > buffer.length) return null;\n      const data = buffer.slice(i, i + d.number);\n      i += d.number;\n      // decompile minimally\n      const op = asMinimalOP(data);\n      if (op !== undefined) {\n        chunks.push(op);\n      } else {\n        chunks.push(data);\n      }\n      // opcode\n    } else {\n      chunks.push(opcode);\n      i += 1;\n    }\n  }\n  return chunks;\n}\nexports.decompile = decompile;\nfunction toASM(chunks) {\n  if (chunksIsBuffer(chunks)) {\n    chunks = decompile(chunks);\n  }\n  return chunks\n    .map(chunk => {\n      // data?\n      if (singleChunkIsBuffer(chunk)) {\n        const op = asMinimalOP(chunk);\n        if (op === undefined) return chunk.toString('hex');\n        chunk = op;\n      }\n      // opcode!\n      return ops_1.REVERSE_OPS[chunk];\n    })\n    .join(' ');\n}\nexports.toASM = toASM;\nfunction fromASM(asm) {\n  typeforce(types.String, asm);\n  return compile(\n    asm.split(' ').map(chunkStr => {\n      // opcode?\n      if (ops_1.OPS[chunkStr] !== undefined) return ops_1.OPS[chunkStr];\n      typeforce(types.Hex, chunkStr);\n      // data!\n      return Buffer.from(chunkStr, 'hex');\n    }),\n  );\n}\nexports.fromASM = fromASM;\nfunction toStack(chunks) {\n  chunks = decompile(chunks);\n  typeforce(isPushOnly, chunks);\n  return chunks.map(op => {\n    if (singleChunkIsBuffer(op)) return op;\n    if (op === ops_1.OPS.OP_0) return Buffer.allocUnsafe(0);\n    return scriptNumber.encode(op - OP_INT_BASE);\n  });\n}\nexports.toStack = toStack;\nfunction isCanonicalPubKey(buffer) {\n  return types.isPoint(buffer);\n}\nexports.isCanonicalPubKey = isCanonicalPubKey;\nfunction isDefinedHashType(hashType) {\n  const hashTypeMod = hashType & ~0x80;\n  // return hashTypeMod > SIGHASH_ALL && hashTypeMod < SIGHASH_SINGLE\n  return hashTypeMod > 0x00 && hashTypeMod < 0x04;\n}\nexports.isDefinedHashType = isDefinedHashType;\nfunction isCanonicalScriptSignature(buffer) {\n  if (!Buffer.isBuffer(buffer)) return false;\n  if (!isDefinedHashType(buffer[buffer.length - 1])) return false;\n  return bip66.check(buffer.slice(0, -1));\n}\nexports.isCanonicalScriptSignature = isCanonicalScriptSignature;\n// tslint:disable-next-line variable-name\nexports.number = scriptNumber;\nexports.signature = scriptSignature;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.encode = exports.decode = void 0;\nfunction decode(buffer, maxLength, minimal) {\n  maxLength = maxLength || 4;\n  minimal = minimal === undefined ? true : minimal;\n  const length = buffer.length;\n  if (length === 0) return 0;\n  if (length > maxLength) throw new TypeError('Script number overflow');\n  if (minimal) {\n    if ((buffer[length - 1] & 0x7f) === 0) {\n      if (length <= 1 || (buffer[length - 2] & 0x80) === 0)\n        throw new Error('Non-minimally encoded script number');\n    }\n  }\n  // 40-bit\n  if (length === 5) {\n    const a = buffer.readUInt32LE(0);\n    const b = buffer.readUInt8(4);\n    if (b & 0x80) return -((b & ~0x80) * 0x100000000 + a);\n    return b * 0x100000000 + a;\n  }\n  // 32-bit / 24-bit / 16-bit / 8-bit\n  let result = 0;\n  for (let i = 0; i < length; ++i) {\n    result |= buffer[i] << (8 * i);\n  }\n  if (buffer[length - 1] & 0x80)\n    return -(result & ~(0x80 << (8 * (length - 1))));\n  return result;\n}\nexports.decode = decode;\nfunction scriptNumSize(i) {\n  return i > 0x7fffffff\n    ? 5\n    : i > 0x7fffff\n    ? 4\n    : i > 0x7fff\n    ? 3\n    : i > 0x7f\n    ? 2\n    : i > 0x00\n    ? 1\n    : 0;\n}\nfunction encode(_number) {\n  let value = Math.abs(_number);\n  const size = scriptNumSize(value);\n  const buffer = Buffer.allocUnsafe(size);\n  const negative = _number < 0;\n  for (let i = 0; i < size; ++i) {\n    buffer.writeUInt8(value & 0xff, i);\n    value >>= 8;\n  }\n  if (buffer[size - 1] & 0x80) {\n    buffer.writeUInt8(negative ? 0x80 : 0x00, size - 1);\n  } else if (negative) {\n    buffer[size - 1] |= 0x80;\n  }\n  return buffer;\n}\nexports.encode = encode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.encode = exports.decode = void 0;\nconst bip66 = require('./bip66');\nconst types = require('./types');\nconst { typeforce } = types;\nconst ZERO = Buffer.alloc(1, 0);\nfunction toDER(x) {\n  let i = 0;\n  while (x[i] === 0) ++i;\n  if (i === x.length) return ZERO;\n  x = x.slice(i);\n  if (x[0] & 0x80) return Buffer.concat([ZERO, x], 1 + x.length);\n  return x;\n}\nfunction fromDER(x) {\n  if (x[0] === 0x00) x = x.slice(1);\n  const buffer = Buffer.alloc(32, 0);\n  const bstart = Math.max(0, 32 - x.length);\n  x.copy(buffer, bstart);\n  return buffer;\n}\n// BIP62: 1 byte hashType flag (only 0x01, 0x02, 0x03, 0x81, 0x82 and 0x83 are allowed)\nfunction decode(buffer) {\n  const hashType = buffer.readUInt8(buffer.length - 1);\n  const hashTypeMod = hashType & ~0x80;\n  if (hashTypeMod <= 0 || hashTypeMod >= 4)\n    throw new Error('Invalid hashType ' + hashType);\n  const decoded = bip66.decode(buffer.slice(0, -1));\n  const r = fromDER(decoded.r);\n  const s = fromDER(decoded.s);\n  const signature = Buffer.concat([r, s], 64);\n  return { signature, hashType };\n}\nexports.decode = decode;\nfunction encode(signature, hashType) {\n  typeforce(\n    {\n      signature: types.BufferN(64),\n      hashType: types.UInt8,\n    },\n    { signature, hashType },\n  );\n  const hashTypeMod = hashType & ~0x80;\n  if (hashTypeMod <= 0 || hashTypeMod >= 4)\n    throw new Error('Invalid hashType ' + hashType);\n  const hashTypeBuffer = Buffer.allocUnsafe(1);\n  hashTypeBuffer.writeUInt8(hashType, 0);\n  const r = toDER(signature.slice(0, 32));\n  const s = toDER(signature.slice(32, 64));\n  return Buffer.concat([bip66.encode(r, s), hashTypeBuffer]);\n}\nexports.encode = encode;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.Transaction = void 0;\nconst bufferutils_1 = require('./bufferutils');\nconst bcrypto = require('./crypto');\nconst bscript = require('./script');\nconst script_1 = require('./script');\nconst types = require('./types');\nconst { typeforce } = types;\nfunction varSliceSize(someScript) {\n  const length = someScript.length;\n  return bufferutils_1.varuint.encodingLength(length) + length;\n}\nfunction vectorSize(someVector) {\n  const length = someVector.length;\n  return (\n    bufferutils_1.varuint.encodingLength(length) +\n    someVector.reduce((sum, witness) => {\n      return sum + varSliceSize(witness);\n    }, 0)\n  );\n}\nconst EMPTY_BUFFER = Buffer.allocUnsafe(0);\nconst EMPTY_WITNESS = [];\nconst ZERO = Buffer.from(\n  '0000000000000000000000000000000000000000000000000000000000000000',\n  'hex',\n);\nconst ONE = Buffer.from(\n  '0000000000000000000000000000000000000000000000000000000000000001',\n  'hex',\n);\nconst VALUE_UINT64_MAX = Buffer.from('ffffffffffffffff', 'hex');\nconst BLANK_OUTPUT = {\n  script: EMPTY_BUFFER,\n  valueBuffer: VALUE_UINT64_MAX,\n};\nfunction isOutput(out) {\n  return out.value !== undefined;\n}\nclass Transaction {\n  constructor() {\n    this.version = 1;\n    this.locktime = 0;\n    this.ins = [];\n    this.outs = [];\n  }\n  static fromBuffer(buffer, _NO_STRICT) {\n    const bufferReader = new bufferutils_1.BufferReader(buffer);\n    const tx = new Transaction();\n    tx.version = bufferReader.readInt32();\n    const marker = bufferReader.readUInt8();\n    const flag = bufferReader.readUInt8();\n    let hasWitnesses = false;\n    if (\n      marker === Transaction.ADVANCED_TRANSACTION_MARKER &&\n      flag === Transaction.ADVANCED_TRANSACTION_FLAG\n    ) {\n      hasWitnesses = true;\n    } else {\n      bufferReader.offset -= 2;\n    }\n    const vinLen = bufferReader.readVarInt();\n    for (let i = 0; i < vinLen; ++i) {\n      tx.ins.push({\n        hash: bufferReader.readSlice(32),\n        index: bufferReader.readUInt32(),\n        script: bufferReader.readVarSlice(),\n        sequence: bufferReader.readUInt32(),\n        witness: EMPTY_WITNESS,\n      });\n    }\n    const voutLen = bufferReader.readVarInt();\n    for (let i = 0; i < voutLen; ++i) {\n      tx.outs.push({\n        value: bufferReader.readUInt64(),\n        script: bufferReader.readVarSlice(),\n      });\n    }\n    if (hasWitnesses) {\n      for (let i = 0; i < vinLen; ++i) {\n        tx.ins[i].witness = bufferReader.readVector();\n      }\n      // was this pointless?\n      if (!tx.hasWitnesses())\n        throw new Error('Transaction has superfluous witness data');\n    }\n    tx.locktime = bufferReader.readUInt32();\n    if (_NO_STRICT) return tx;\n    if (bufferReader.offset !== buffer.length)\n      throw new Error('Transaction has unexpected data');\n    return tx;\n  }\n  static fromHex(hex) {\n    return Transaction.fromBuffer(Buffer.from(hex, 'hex'), false);\n  }\n  static isCoinbaseHash(buffer) {\n    typeforce(types.Hash256bit, buffer);\n    for (let i = 0; i < 32; ++i) {\n      if (buffer[i] !== 0) return false;\n    }\n    return true;\n  }\n  isCoinbase() {\n    return (\n      this.ins.length === 1 && Transaction.isCoinbaseHash(this.ins[0].hash)\n    );\n  }\n  addInput(hash, index, sequence, scriptSig) {\n    typeforce(\n      types.tuple(\n        types.Hash256bit,\n        types.UInt32,\n        types.maybe(types.UInt32),\n        types.maybe(types.Buffer),\n      ),\n      arguments,\n    );\n    if (types.Null(sequence)) {\n      sequence = Transaction.DEFAULT_SEQUENCE;\n    }\n    // Add the input and return the input's index\n    return (\n      this.ins.push({\n        hash,\n        index,\n        script: scriptSig || EMPTY_BUFFER,\n        sequence: sequence,\n        witness: EMPTY_WITNESS,\n      }) - 1\n    );\n  }\n  addOutput(scriptPubKey, value) {\n    typeforce(types.tuple(types.Buffer, types.Satoshi), arguments);\n    // Add the output and return the output's index\n    return (\n      this.outs.push({\n        script: scriptPubKey,\n        value,\n      }) - 1\n    );\n  }\n  hasWitnesses() {\n    return this.ins.some(x => {\n      return x.witness.length !== 0;\n    });\n  }\n  weight() {\n    const base = this.byteLength(false);\n    const total = this.byteLength(true);\n    return base * 3 + total;\n  }\n  virtualSize() {\n    return Math.ceil(this.weight() / 4);\n  }\n  byteLength(_ALLOW_WITNESS = true) {\n    const hasWitnesses = _ALLOW_WITNESS && this.hasWitnesses();\n    return (\n      (hasWitnesses ? 10 : 8) +\n      bufferutils_1.varuint.encodingLength(this.ins.length) +\n      bufferutils_1.varuint.encodingLength(this.outs.length) +\n      this.ins.reduce((sum, input) => {\n        return sum + 40 + varSliceSize(input.script);\n      }, 0) +\n      this.outs.reduce((sum, output) => {\n        return sum + 8 + varSliceSize(output.script);\n      }, 0) +\n      (hasWitnesses\n        ? this.ins.reduce((sum, input) => {\n            return sum + vectorSize(input.witness);\n          }, 0)\n        : 0)\n    );\n  }\n  clone() {\n    const newTx = new Transaction();\n    newTx.version = this.version;\n    newTx.locktime = this.locktime;\n    newTx.ins = this.ins.map(txIn => {\n      return {\n        hash: txIn.hash,\n        index: txIn.index,\n        script: txIn.script,\n        sequence: txIn.sequence,\n        witness: txIn.witness,\n      };\n    });\n    newTx.outs = this.outs.map(txOut => {\n      return {\n        script: txOut.script,\n        value: txOut.value,\n      };\n    });\n    return newTx;\n  }\n  /**\n   * Hash transaction for signing a specific input.\n   *\n   * Bitcoin uses a different hash for each signed transaction input.\n   * This method copies the transaction, makes the necessary changes based on the\n   * hashType, and then hashes the result.\n   * This hash can then be used to sign the provided transaction input.\n   */\n  hashForSignature(inIndex, prevOutScript, hashType) {\n    typeforce(\n      types.tuple(types.UInt32, types.Buffer, /* types.UInt8 */ types.Number),\n      arguments,\n    );\n    // https://github.com/bitcoin/bitcoin/blob/master/src/test/sighash_tests.cpp#L29\n    if (inIndex >= this.ins.length) return ONE;\n    // ignore OP_CODESEPARATOR\n    const ourScript = bscript.compile(\n      bscript.decompile(prevOutScript).filter(x => {\n        return x !== script_1.OPS.OP_CODESEPARATOR;\n      }),\n    );\n    const txTmp = this.clone();\n    // SIGHASH_NONE: ignore all outputs? (wildcard payee)\n    if ((hashType & 0x1f) === Transaction.SIGHASH_NONE) {\n      txTmp.outs = [];\n      // ignore sequence numbers (except at inIndex)\n      txTmp.ins.forEach((input, i) => {\n        if (i === inIndex) return;\n        input.sequence = 0;\n      });\n      // SIGHASH_SINGLE: ignore all outputs, except at the same index?\n    } else if ((hashType & 0x1f) === Transaction.SIGHASH_SINGLE) {\n      // https://github.com/bitcoin/bitcoin/blob/master/src/test/sighash_tests.cpp#L60\n      if (inIndex >= this.outs.length) return ONE;\n      // truncate outputs after\n      txTmp.outs.length = inIndex + 1;\n      // \"blank\" outputs before\n      for (let i = 0; i < inIndex; i++) {\n        txTmp.outs[i] = BLANK_OUTPUT;\n      }\n      // ignore sequence numbers (except at inIndex)\n      txTmp.ins.forEach((input, y) => {\n        if (y === inIndex) return;\n        input.sequence = 0;\n      });\n    }\n    // SIGHASH_ANYONECANPAY: ignore inputs entirely?\n    if (hashType & Transaction.SIGHASH_ANYONECANPAY) {\n      txTmp.ins = [txTmp.ins[inIndex]];\n      txTmp.ins[0].script = ourScript;\n      // SIGHASH_ALL: only ignore input scripts\n    } else {\n      // \"blank\" others input scripts\n      txTmp.ins.forEach(input => {\n        input.script = EMPTY_BUFFER;\n      });\n      txTmp.ins[inIndex].script = ourScript;\n    }\n    // serialize and hash\n    const buffer = Buffer.allocUnsafe(txTmp.byteLength(false) + 4);\n    buffer.writeInt32LE(hashType, buffer.length - 4);\n    txTmp.__toBuffer(buffer, 0, false);\n    return bcrypto.hash256(buffer);\n  }\n  hashForWitnessV1(inIndex, prevOutScripts, values, hashType, leafHash, annex) {\n    // https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki#common-signature-message\n    typeforce(\n      types.tuple(\n        types.UInt32,\n        typeforce.arrayOf(types.Buffer),\n        typeforce.arrayOf(types.Satoshi),\n        types.UInt32,\n      ),\n      arguments,\n    );\n    if (\n      values.length !== this.ins.length ||\n      prevOutScripts.length !== this.ins.length\n    ) {\n      throw new Error('Must supply prevout script and value for all inputs');\n    }\n    const outputType =\n      hashType === Transaction.SIGHASH_DEFAULT\n        ? Transaction.SIGHASH_ALL\n        : hashType & Transaction.SIGHASH_OUTPUT_MASK;\n    const inputType = hashType & Transaction.SIGHASH_INPUT_MASK;\n    const isAnyoneCanPay = inputType === Transaction.SIGHASH_ANYONECANPAY;\n    const isNone = outputType === Transaction.SIGHASH_NONE;\n    const isSingle = outputType === Transaction.SIGHASH_SINGLE;\n    let hashPrevouts = EMPTY_BUFFER;\n    let hashAmounts = EMPTY_BUFFER;\n    let hashScriptPubKeys = EMPTY_BUFFER;\n    let hashSequences = EMPTY_BUFFER;\n    let hashOutputs = EMPTY_BUFFER;\n    if (!isAnyoneCanPay) {\n      let bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        36 * this.ins.length,\n      );\n      this.ins.forEach(txIn => {\n        bufferWriter.writeSlice(txIn.hash);\n        bufferWriter.writeUInt32(txIn.index);\n      });\n      hashPrevouts = bcrypto.sha256(bufferWriter.end());\n      bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        8 * this.ins.length,\n      );\n      values.forEach(value => bufferWriter.writeUInt64(value));\n      hashAmounts = bcrypto.sha256(bufferWriter.end());\n      bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        prevOutScripts.map(varSliceSize).reduce((a, b) => a + b),\n      );\n      prevOutScripts.forEach(prevOutScript =>\n        bufferWriter.writeVarSlice(prevOutScript),\n      );\n      hashScriptPubKeys = bcrypto.sha256(bufferWriter.end());\n      bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        4 * this.ins.length,\n      );\n      this.ins.forEach(txIn => bufferWriter.writeUInt32(txIn.sequence));\n      hashSequences = bcrypto.sha256(bufferWriter.end());\n    }\n    if (!(isNone || isSingle)) {\n      const txOutsSize = this.outs\n        .map(output => 8 + varSliceSize(output.script))\n        .reduce((a, b) => a + b);\n      const bufferWriter = bufferutils_1.BufferWriter.withCapacity(txOutsSize);\n      this.outs.forEach(out => {\n        bufferWriter.writeUInt64(out.value);\n        bufferWriter.writeVarSlice(out.script);\n      });\n      hashOutputs = bcrypto.sha256(bufferWriter.end());\n    } else if (isSingle && inIndex < this.outs.length) {\n      const output = this.outs[inIndex];\n      const bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        8 + varSliceSize(output.script),\n      );\n      bufferWriter.writeUInt64(output.value);\n      bufferWriter.writeVarSlice(output.script);\n      hashOutputs = bcrypto.sha256(bufferWriter.end());\n    }\n    const spendType = (leafHash ? 2 : 0) + (annex ? 1 : 0);\n    // Length calculation from:\n    // https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki#cite_note-14\n    // With extension from:\n    // https://github.com/bitcoin/bips/blob/master/bip-0342.mediawiki#signature-validation\n    const sigMsgSize =\n      174 -\n      (isAnyoneCanPay ? 49 : 0) -\n      (isNone ? 32 : 0) +\n      (annex ? 32 : 0) +\n      (leafHash ? 37 : 0);\n    const sigMsgWriter = bufferutils_1.BufferWriter.withCapacity(sigMsgSize);\n    sigMsgWriter.writeUInt8(hashType);\n    // Transaction\n    sigMsgWriter.writeInt32(this.version);\n    sigMsgWriter.writeUInt32(this.locktime);\n    sigMsgWriter.writeSlice(hashPrevouts);\n    sigMsgWriter.writeSlice(hashAmounts);\n    sigMsgWriter.writeSlice(hashScriptPubKeys);\n    sigMsgWriter.writeSlice(hashSequences);\n    if (!(isNone || isSingle)) {\n      sigMsgWriter.writeSlice(hashOutputs);\n    }\n    // Input\n    sigMsgWriter.writeUInt8(spendType);\n    if (isAnyoneCanPay) {\n      const input = this.ins[inIndex];\n      sigMsgWriter.writeSlice(input.hash);\n      sigMsgWriter.writeUInt32(input.index);\n      sigMsgWriter.writeUInt64(values[inIndex]);\n      sigMsgWriter.writeVarSlice(prevOutScripts[inIndex]);\n      sigMsgWriter.writeUInt32(input.sequence);\n    } else {\n      sigMsgWriter.writeUInt32(inIndex);\n    }\n    if (annex) {\n      const bufferWriter = bufferutils_1.BufferWriter.withCapacity(\n        varSliceSize(annex),\n      );\n      bufferWriter.writeVarSlice(annex);\n      sigMsgWriter.writeSlice(bcrypto.sha256(bufferWriter.end()));\n    }\n    // Output\n    if (isSingle) {\n      sigMsgWriter.writeSlice(hashOutputs);\n    }\n    // BIP342 extension\n    if (leafHash) {\n      sigMsgWriter.writeSlice(leafHash);\n      sigMsgWriter.writeUInt8(0);\n      sigMsgWriter.writeUInt32(0xffffffff);\n    }\n    // Extra zero byte because:\n    // https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki#cite_note-19\n    return bcrypto.taggedHash(\n      'TapSighash',\n      Buffer.concat([Buffer.of(0x00), sigMsgWriter.end()]),\n    );\n  }\n  hashForWitnessV0(inIndex, prevOutScript, value, hashType) {\n    typeforce(\n      types.tuple(types.UInt32, types.Buffer, types.Satoshi, types.UInt32),\n      arguments,\n    );\n    let tbuffer = Buffer.from([]);\n    let bufferWriter;\n    let hashOutputs = ZERO;\n    let hashPrevouts = ZERO;\n    let hashSequence = ZERO;\n    if (!(hashType & Transaction.SIGHASH_ANYONECANPAY)) {\n      tbuffer = Buffer.allocUnsafe(36 * this.ins.length);\n      bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n      this.ins.forEach(txIn => {\n        bufferWriter.writeSlice(txIn.hash);\n        bufferWriter.writeUInt32(txIn.index);\n      });\n      hashPrevouts = bcrypto.hash256(tbuffer);\n    }\n    if (\n      !(hashType & Transaction.SIGHASH_ANYONECANPAY) &&\n      (hashType & 0x1f) !== Transaction.SIGHASH_SINGLE &&\n      (hashType & 0x1f) !== Transaction.SIGHASH_NONE\n    ) {\n      tbuffer = Buffer.allocUnsafe(4 * this.ins.length);\n      bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n      this.ins.forEach(txIn => {\n        bufferWriter.writeUInt32(txIn.sequence);\n      });\n      hashSequence = bcrypto.hash256(tbuffer);\n    }\n    if (\n      (hashType & 0x1f) !== Transaction.SIGHASH_SINGLE &&\n      (hashType & 0x1f) !== Transaction.SIGHASH_NONE\n    ) {\n      const txOutsSize = this.outs.reduce((sum, output) => {\n        return sum + 8 + varSliceSize(output.script);\n      }, 0);\n      tbuffer = Buffer.allocUnsafe(txOutsSize);\n      bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n      this.outs.forEach(out => {\n        bufferWriter.writeUInt64(out.value);\n        bufferWriter.writeVarSlice(out.script);\n      });\n      hashOutputs = bcrypto.hash256(tbuffer);\n    } else if (\n      (hashType & 0x1f) === Transaction.SIGHASH_SINGLE &&\n      inIndex < this.outs.length\n    ) {\n      const output = this.outs[inIndex];\n      tbuffer = Buffer.allocUnsafe(8 + varSliceSize(output.script));\n      bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n      bufferWriter.writeUInt64(output.value);\n      bufferWriter.writeVarSlice(output.script);\n      hashOutputs = bcrypto.hash256(tbuffer);\n    }\n    tbuffer = Buffer.allocUnsafe(156 + varSliceSize(prevOutScript));\n    bufferWriter = new bufferutils_1.BufferWriter(tbuffer, 0);\n    const input = this.ins[inIndex];\n    bufferWriter.writeInt32(this.version);\n    bufferWriter.writeSlice(hashPrevouts);\n    bufferWriter.writeSlice(hashSequence);\n    bufferWriter.writeSlice(input.hash);\n    bufferWriter.writeUInt32(input.index);\n    bufferWriter.writeVarSlice(prevOutScript);\n    bufferWriter.writeUInt64(value);\n    bufferWriter.writeUInt32(input.sequence);\n    bufferWriter.writeSlice(hashOutputs);\n    bufferWriter.writeUInt32(this.locktime);\n    bufferWriter.writeUInt32(hashType);\n    return bcrypto.hash256(tbuffer);\n  }\n  getHash(forWitness) {\n    // wtxid for coinbase is always 32 bytes of 0x00\n    if (forWitness && this.isCoinbase()) return Buffer.alloc(32, 0);\n    return bcrypto.hash256(this.__toBuffer(undefined, undefined, forWitness));\n  }\n  getId() {\n    // transaction hash's are displayed in reverse order\n    return (0, bufferutils_1.reverseBuffer)(this.getHash(false)).toString(\n      'hex',\n    );\n  }\n  toBuffer(buffer, initialOffset) {\n    return this.__toBuffer(buffer, initialOffset, true);\n  }\n  toHex() {\n    return this.toBuffer(undefined, undefined).toString('hex');\n  }\n  setInputScript(index, scriptSig) {\n    typeforce(types.tuple(types.Number, types.Buffer), arguments);\n    this.ins[index].script = scriptSig;\n  }\n  setWitness(index, witness) {\n    typeforce(types.tuple(types.Number, [types.Buffer]), arguments);\n    this.ins[index].witness = witness;\n  }\n  __toBuffer(buffer, initialOffset, _ALLOW_WITNESS = false) {\n    if (!buffer) buffer = Buffer.allocUnsafe(this.byteLength(_ALLOW_WITNESS));\n    const bufferWriter = new bufferutils_1.BufferWriter(\n      buffer,\n      initialOffset || 0,\n    );\n    bufferWriter.writeInt32(this.version);\n    const hasWitnesses = _ALLOW_WITNESS && this.hasWitnesses();\n    if (hasWitnesses) {\n      bufferWriter.writeUInt8(Transaction.ADVANCED_TRANSACTION_MARKER);\n      bufferWriter.writeUInt8(Transaction.ADVANCED_TRANSACTION_FLAG);\n    }\n    bufferWriter.writeVarInt(this.ins.length);\n    this.ins.forEach(txIn => {\n      bufferWriter.writeSlice(txIn.hash);\n      bufferWriter.writeUInt32(txIn.index);\n      bufferWriter.writeVarSlice(txIn.script);\n      bufferWriter.writeUInt32(txIn.sequence);\n    });\n    bufferWriter.writeVarInt(this.outs.length);\n    this.outs.forEach(txOut => {\n      if (isOutput(txOut)) {\n        bufferWriter.writeUInt64(txOut.value);\n      } else {\n        bufferWriter.writeSlice(txOut.valueBuffer);\n      }\n      bufferWriter.writeVarSlice(txOut.script);\n    });\n    if (hasWitnesses) {\n      this.ins.forEach(input => {\n        bufferWriter.writeVector(input.witness);\n      });\n    }\n    bufferWriter.writeUInt32(this.locktime);\n    // avoid slicing unless necessary\n    if (initialOffset !== undefined)\n      return buffer.slice(initialOffset, bufferWriter.offset);\n    return buffer;\n  }\n}\nexports.Transaction = Transaction;\nTransaction.DEFAULT_SEQUENCE = 0xffffffff;\nTransaction.SIGHASH_DEFAULT = 0x00;\nTransaction.SIGHASH_ALL = 0x01;\nTransaction.SIGHASH_NONE = 0x02;\nTransaction.SIGHASH_SINGLE = 0x03;\nTransaction.SIGHASH_ANYONECANPAY = 0x80;\nTransaction.SIGHASH_OUTPUT_MASK = 0x03;\nTransaction.SIGHASH_INPUT_MASK = 0x80;\nTransaction.ADVANCED_TRANSACTION_MARKER = 0x00;\nTransaction.ADVANCED_TRANSACTION_FLAG = 0x01;\n","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.oneOf = exports.Null = exports.BufferN = exports.Function = exports.UInt32 = exports.UInt8 = exports.tuple = exports.maybe = exports.Hex = exports.Buffer = exports.String = exports.Boolean = exports.Array = exports.Number = exports.Hash256bit = exports.Hash160bit = exports.Buffer256bit = exports.Network = exports.ECPoint = exports.Satoshi = exports.Signer = exports.BIP32Path = exports.UInt31 = exports.isPoint = exports.typeforce = void 0;\nconst buffer_1 = require('buffer');\nexports.typeforce = require('typeforce');\nconst ZERO32 = buffer_1.Buffer.alloc(32, 0);\nconst EC_P = buffer_1.Buffer.from(\n  'fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f',\n  'hex',\n);\nfunction isPoint(p) {\n  if (!buffer_1.Buffer.isBuffer(p)) return false;\n  if (p.length < 33) return false;\n  const t = p[0];\n  const x = p.slice(1, 33);\n  if (x.compare(ZERO32) === 0) return false;\n  if (x.compare(EC_P) >= 0) return false;\n  if ((t === 0x02 || t === 0x03) && p.length === 33) {\n    return true;\n  }\n  const y = p.slice(33);\n  if (y.compare(ZERO32) === 0) return false;\n  if (y.compare(EC_P) >= 0) return false;\n  if (t === 0x04 && p.length === 65) return true;\n  return false;\n}\nexports.isPoint = isPoint;\nconst UINT31_MAX = Math.pow(2, 31) - 1;\nfunction UInt31(value) {\n  return exports.typeforce.UInt32(value) && value <= UINT31_MAX;\n}\nexports.UInt31 = UInt31;\nfunction BIP32Path(value) {\n  return (\n    exports.typeforce.String(value) && !!value.match(/^(m\\/)?(\\d+'?\\/)*\\d+'?$/)\n  );\n}\nexports.BIP32Path = BIP32Path;\nBIP32Path.toJSON = () => {\n  return 'BIP32 derivation path';\n};\nfunction Signer(obj) {\n  return (\n    (exports.typeforce.Buffer(obj.publicKey) ||\n      typeof obj.getPublicKey === 'function') &&\n    typeof obj.sign === 'function'\n  );\n}\nexports.Signer = Signer;\nconst SATOSHI_MAX = 21 * 1e14;\nfunction Satoshi(value) {\n  return exports.typeforce.UInt53(value) && value <= SATOSHI_MAX;\n}\nexports.Satoshi = Satoshi;\n// external dependent types\nexports.ECPoint = exports.typeforce.quacksLike('Point');\n// exposed, external API\nexports.Network = exports.typeforce.compile({\n  messagePrefix: exports.typeforce.oneOf(\n    exports.typeforce.Buffer,\n    exports.typeforce.String,\n  ),\n  bip32: {\n    public: exports.typeforce.UInt32,\n    private: exports.typeforce.UInt32,\n  },\n  pubKeyHash: exports.typeforce.UInt8,\n  scriptHash: exports.typeforce.UInt8,\n  wif: exports.typeforce.UInt8,\n});\nexports.Buffer256bit = exports.typeforce.BufferN(32);\nexports.Hash160bit = exports.typeforce.BufferN(20);\nexports.Hash256bit = exports.typeforce.BufferN(32);\nexports.Number = exports.typeforce.Number; // tslint:disable-line variable-name\nexports.Array = exports.typeforce.Array;\nexports.Boolean = exports.typeforce.Boolean; // tslint:disable-line variable-name\nexports.String = exports.typeforce.String; // tslint:disable-line variable-name\nexports.Buffer = exports.typeforce.Buffer;\nexports.Hex = exports.typeforce.Hex;\nexports.maybe = exports.typeforce.maybe;\nexports.tuple = exports.typeforce.tuple;\nexports.UInt8 = exports.typeforce.UInt8;\nexports.UInt32 = exports.typeforce.UInt32;\nexports.Function = exports.typeforce.Function;\nexports.BufferN = exports.typeforce.BufferN;\nexports.Null = exports.typeforce.Null;\nexports.oneOf = exports.typeforce.oneOf;\n","var basex = require('base-x')\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n\nmodule.exports = basex(ALPHABET)\n","'use strict'\n\nvar base58 = require('bs58')\nvar Buffer = require('safe-buffer').Buffer\n\nmodule.exports = function (checksumFn) {\n  // Encode a buffer as a base58-check encoded string\n  function encode (payload) {\n    var checksum = checksumFn(payload)\n\n    return base58.encode(Buffer.concat([\n      payload,\n      checksum\n    ], payload.length + 4))\n  }\n\n  function decodeRaw (buffer) {\n    var payload = buffer.slice(0, -4)\n    var checksum = buffer.slice(-4)\n    var newChecksum = checksumFn(payload)\n\n    if (checksum[0] ^ newChecksum[0] |\n        checksum[1] ^ newChecksum[1] |\n        checksum[2] ^ newChecksum[2] |\n        checksum[3] ^ newChecksum[3]) return\n\n    return payload\n  }\n\n  // Decode a base58-check encoded string to a buffer, no result if checksum is wrong\n  function decodeUnsafe (string) {\n    var buffer = base58.decodeUnsafe(string)\n    if (!buffer) return\n\n    return decodeRaw(buffer)\n  }\n\n  function decode (string) {\n    var buffer = base58.decode(string)\n    var payload = decodeRaw(buffer, checksumFn)\n    if (!payload) throw new Error('Invalid checksum')\n    return payload\n  }\n\n  return {\n    encode: encode,\n    decode: decode,\n    decodeUnsafe: decodeUnsafe\n  }\n}\n","'use strict'\n\nvar createHash = require('create-hash')\nvar bs58checkBase = require('./base')\n\n// SHA256(SHA256(buffer))\nfunction sha256x2 (buffer) {\n  var tmp = createHash('sha256').update(buffer).digest()\n  return createHash('sha256').update(tmp).digest()\n}\n\nmodule.exports = bs58checkBase(sha256x2)\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","var Buffer = require('safe-buffer').Buffer\nvar Transform = require('stream').Transform\nvar StringDecoder = require('string_decoder').StringDecoder\nvar inherits = require('inherits')\n\nfunction CipherBase (hashMode) {\n  Transform.call(this)\n  this.hashMode = typeof hashMode === 'string'\n  if (this.hashMode) {\n    this[hashMode] = this._finalOrDigest\n  } else {\n    this.final = this._finalOrDigest\n  }\n  if (this._final) {\n    this.__final = this._final\n    this._final = null\n  }\n  this._decoder = null\n  this._encoding = null\n}\ninherits(CipherBase, Transform)\n\nCipherBase.prototype.update = function (data, inputEnc, outputEnc) {\n  if (typeof data === 'string') {\n    data = Buffer.from(data, inputEnc)\n  }\n\n  var outData = this._update(data)\n  if (this.hashMode) return this\n\n  if (outputEnc) {\n    outData = this._toString(outData, outputEnc)\n  }\n\n  return outData\n}\n\nCipherBase.prototype.setAutoPadding = function () {}\nCipherBase.prototype.getAuthTag = function () {\n  throw new Error('trying to get auth tag in unsupported state')\n}\n\nCipherBase.prototype.setAuthTag = function () {\n  throw new Error('trying to set auth tag in unsupported state')\n}\n\nCipherBase.prototype.setAAD = function () {\n  throw new Error('trying to set aad in unsupported state')\n}\n\nCipherBase.prototype._transform = function (data, _, next) {\n  var err\n  try {\n    if (this.hashMode) {\n      this._update(data)\n    } else {\n      this.push(this._update(data))\n    }\n  } catch (e) {\n    err = e\n  } finally {\n    next(err)\n  }\n}\nCipherBase.prototype._flush = function (done) {\n  var err\n  try {\n    this.push(this.__final())\n  } catch (e) {\n    err = e\n  }\n\n  done(err)\n}\nCipherBase.prototype._finalOrDigest = function (outputEnc) {\n  var outData = this.__final() || Buffer.alloc(0)\n  if (outputEnc) {\n    outData = this._toString(outData, outputEnc, true)\n  }\n  return outData\n}\n\nCipherBase.prototype._toString = function (value, enc, fin) {\n  if (!this._decoder) {\n    this._decoder = new StringDecoder(enc)\n    this._encoding = enc\n  }\n\n  if (this._encoding !== enc) throw new Error('can\\'t switch encodings')\n\n  var out = this._decoder.write(value)\n  if (fin) {\n    out += this._decoder.end()\n  }\n\n  return out\n}\n\nmodule.exports = CipherBase\n","'use strict'\nvar inherits = require('inherits')\nvar MD5 = require('md5.js')\nvar RIPEMD160 = require('ripemd160')\nvar sha = require('sha.js')\nvar Base = require('cipher-base')\n\nfunction Hash (hash) {\n  Base.call(this, 'digest')\n\n  this._hash = hash\n}\n\ninherits(Hash, Base)\n\nHash.prototype._update = function (data) {\n  this._hash.update(data)\n}\n\nHash.prototype._final = function () {\n  return this._hash.digest()\n}\n\nmodule.exports = function createHash (alg) {\n  alg = alg.toLowerCase()\n  if (alg === 'md5') return new MD5()\n  if (alg === 'rmd160' || alg === 'ripemd160') return new RIPEMD160()\n\n  return new Hash(sha(alg))\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar Transform = require('readable-stream').Transform\nvar inherits = require('inherits')\n\nfunction throwIfNotStringOrBuffer (val, prefix) {\n  if (!Buffer.isBuffer(val) && typeof val !== 'string') {\n    throw new TypeError(prefix + ' must be a string or a buffer')\n  }\n}\n\nfunction HashBase (blockSize) {\n  Transform.call(this)\n\n  this._block = Buffer.allocUnsafe(blockSize)\n  this._blockSize = blockSize\n  this._blockOffset = 0\n  this._length = [0, 0, 0, 0]\n\n  this._finalized = false\n}\n\ninherits(HashBase, Transform)\n\nHashBase.prototype._transform = function (chunk, encoding, callback) {\n  var error = null\n  try {\n    this.update(chunk, encoding)\n  } catch (err) {\n    error = err\n  }\n\n  callback(error)\n}\n\nHashBase.prototype._flush = function (callback) {\n  var error = null\n  try {\n    this.push(this.digest())\n  } catch (err) {\n    error = err\n  }\n\n  callback(error)\n}\n\nHashBase.prototype.update = function (data, encoding) {\n  throwIfNotStringOrBuffer(data, 'Data')\n  if (this._finalized) throw new Error('Digest already called')\n  if (!Buffer.isBuffer(data)) data = Buffer.from(data, encoding)\n\n  // consume data\n  var block = this._block\n  var offset = 0\n  while (this._blockOffset + data.length - offset >= this._blockSize) {\n    for (var i = this._blockOffset; i < this._blockSize;) block[i++] = data[offset++]\n    this._update()\n    this._blockOffset = 0\n  }\n  while (offset < data.length) block[this._blockOffset++] = data[offset++]\n\n  // update length\n  for (var j = 0, carry = data.length * 8; carry > 0; ++j) {\n    this._length[j] += carry\n    carry = (this._length[j] / 0x0100000000) | 0\n    if (carry > 0) this._length[j] -= 0x0100000000 * carry\n  }\n\n  return this\n}\n\nHashBase.prototype._update = function () {\n  throw new Error('_update is not implemented')\n}\n\nHashBase.prototype.digest = function (encoding) {\n  if (this._finalized) throw new Error('Digest already called')\n  this._finalized = true\n\n  var digest = this._digest()\n  if (encoding !== undefined) digest = digest.toString(encoding)\n\n  // reset state\n  this._block.fill(0)\n  this._blockOffset = 0\n  for (var i = 0; i < 4; ++i) this._length[i] = 0\n\n  return digest\n}\n\nHashBase.prototype._digest = function () {\n  throw new Error('_digest is not implemented')\n}\n\nmodule.exports = HashBase\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict'\nvar inherits = require('inherits')\nvar HashBase = require('hash-base')\nvar Buffer = require('safe-buffer').Buffer\n\nvar ARRAY16 = new Array(16)\n\nfunction MD5 () {\n  HashBase.call(this, 64)\n\n  // state\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n}\n\ninherits(MD5, HashBase)\n\nMD5.prototype._update = function () {\n  var M = ARRAY16\n  for (var i = 0; i < 16; ++i) M[i] = this._block.readInt32LE(i * 4)\n\n  var a = this._a\n  var b = this._b\n  var c = this._c\n  var d = this._d\n\n  a = fnF(a, b, c, d, M[0], 0xd76aa478, 7)\n  d = fnF(d, a, b, c, M[1], 0xe8c7b756, 12)\n  c = fnF(c, d, a, b, M[2], 0x242070db, 17)\n  b = fnF(b, c, d, a, M[3], 0xc1bdceee, 22)\n  a = fnF(a, b, c, d, M[4], 0xf57c0faf, 7)\n  d = fnF(d, a, b, c, M[5], 0x4787c62a, 12)\n  c = fnF(c, d, a, b, M[6], 0xa8304613, 17)\n  b = fnF(b, c, d, a, M[7], 0xfd469501, 22)\n  a = fnF(a, b, c, d, M[8], 0x698098d8, 7)\n  d = fnF(d, a, b, c, M[9], 0x8b44f7af, 12)\n  c = fnF(c, d, a, b, M[10], 0xffff5bb1, 17)\n  b = fnF(b, c, d, a, M[11], 0x895cd7be, 22)\n  a = fnF(a, b, c, d, M[12], 0x6b901122, 7)\n  d = fnF(d, a, b, c, M[13], 0xfd987193, 12)\n  c = fnF(c, d, a, b, M[14], 0xa679438e, 17)\n  b = fnF(b, c, d, a, M[15], 0x49b40821, 22)\n\n  a = fnG(a, b, c, d, M[1], 0xf61e2562, 5)\n  d = fnG(d, a, b, c, M[6], 0xc040b340, 9)\n  c = fnG(c, d, a, b, M[11], 0x265e5a51, 14)\n  b = fnG(b, c, d, a, M[0], 0xe9b6c7aa, 20)\n  a = fnG(a, b, c, d, M[5], 0xd62f105d, 5)\n  d = fnG(d, a, b, c, M[10], 0x02441453, 9)\n  c = fnG(c, d, a, b, M[15], 0xd8a1e681, 14)\n  b = fnG(b, c, d, a, M[4], 0xe7d3fbc8, 20)\n  a = fnG(a, b, c, d, M[9], 0x21e1cde6, 5)\n  d = fnG(d, a, b, c, M[14], 0xc33707d6, 9)\n  c = fnG(c, d, a, b, M[3], 0xf4d50d87, 14)\n  b = fnG(b, c, d, a, M[8], 0x455a14ed, 20)\n  a = fnG(a, b, c, d, M[13], 0xa9e3e905, 5)\n  d = fnG(d, a, b, c, M[2], 0xfcefa3f8, 9)\n  c = fnG(c, d, a, b, M[7], 0x676f02d9, 14)\n  b = fnG(b, c, d, a, M[12], 0x8d2a4c8a, 20)\n\n  a = fnH(a, b, c, d, M[5], 0xfffa3942, 4)\n  d = fnH(d, a, b, c, M[8], 0x8771f681, 11)\n  c = fnH(c, d, a, b, M[11], 0x6d9d6122, 16)\n  b = fnH(b, c, d, a, M[14], 0xfde5380c, 23)\n  a = fnH(a, b, c, d, M[1], 0xa4beea44, 4)\n  d = fnH(d, a, b, c, M[4], 0x4bdecfa9, 11)\n  c = fnH(c, d, a, b, M[7], 0xf6bb4b60, 16)\n  b = fnH(b, c, d, a, M[10], 0xbebfbc70, 23)\n  a = fnH(a, b, c, d, M[13], 0x289b7ec6, 4)\n  d = fnH(d, a, b, c, M[0], 0xeaa127fa, 11)\n  c = fnH(c, d, a, b, M[3], 0xd4ef3085, 16)\n  b = fnH(b, c, d, a, M[6], 0x04881d05, 23)\n  a = fnH(a, b, c, d, M[9], 0xd9d4d039, 4)\n  d = fnH(d, a, b, c, M[12], 0xe6db99e5, 11)\n  c = fnH(c, d, a, b, M[15], 0x1fa27cf8, 16)\n  b = fnH(b, c, d, a, M[2], 0xc4ac5665, 23)\n\n  a = fnI(a, b, c, d, M[0], 0xf4292244, 6)\n  d = fnI(d, a, b, c, M[7], 0x432aff97, 10)\n  c = fnI(c, d, a, b, M[14], 0xab9423a7, 15)\n  b = fnI(b, c, d, a, M[5], 0xfc93a039, 21)\n  a = fnI(a, b, c, d, M[12], 0x655b59c3, 6)\n  d = fnI(d, a, b, c, M[3], 0x8f0ccc92, 10)\n  c = fnI(c, d, a, b, M[10], 0xffeff47d, 15)\n  b = fnI(b, c, d, a, M[1], 0x85845dd1, 21)\n  a = fnI(a, b, c, d, M[8], 0x6fa87e4f, 6)\n  d = fnI(d, a, b, c, M[15], 0xfe2ce6e0, 10)\n  c = fnI(c, d, a, b, M[6], 0xa3014314, 15)\n  b = fnI(b, c, d, a, M[13], 0x4e0811a1, 21)\n  a = fnI(a, b, c, d, M[4], 0xf7537e82, 6)\n  d = fnI(d, a, b, c, M[11], 0xbd3af235, 10)\n  c = fnI(c, d, a, b, M[2], 0x2ad7d2bb, 15)\n  b = fnI(b, c, d, a, M[9], 0xeb86d391, 21)\n\n  this._a = (this._a + a) | 0\n  this._b = (this._b + b) | 0\n  this._c = (this._c + c) | 0\n  this._d = (this._d + d) | 0\n}\n\nMD5.prototype._digest = function () {\n  // create padding and handle blocks\n  this._block[this._blockOffset++] = 0x80\n  if (this._blockOffset > 56) {\n    this._block.fill(0, this._blockOffset, 64)\n    this._update()\n    this._blockOffset = 0\n  }\n\n  this._block.fill(0, this._blockOffset, 56)\n  this._block.writeUInt32LE(this._length[0], 56)\n  this._block.writeUInt32LE(this._length[1], 60)\n  this._update()\n\n  // produce result\n  var buffer = Buffer.allocUnsafe(16)\n  buffer.writeInt32LE(this._a, 0)\n  buffer.writeInt32LE(this._b, 4)\n  buffer.writeInt32LE(this._c, 8)\n  buffer.writeInt32LE(this._d, 12)\n  return buffer\n}\n\nfunction rotl (x, n) {\n  return (x << n) | (x >>> (32 - n))\n}\n\nfunction fnF (a, b, c, d, m, k, s) {\n  return (rotl((a + ((b & c) | ((~b) & d)) + m + k) | 0, s) + b) | 0\n}\n\nfunction fnG (a, b, c, d, m, k, s) {\n  return (rotl((a + ((b & d) | (c & (~d))) + m + k) | 0, s) + b) | 0\n}\n\nfunction fnH (a, b, c, d, m, k, s) {\n  return (rotl((a + (b ^ c ^ d) + m + k) | 0, s) + b) | 0\n}\n\nfunction fnI (a, b, c, d, m, k, s) {\n  return (rotl((a + ((c ^ (b | (~d)))) + m + k) | 0, s) + b) | 0\n}\n\nmodule.exports = MD5\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","'use strict'\nvar Buffer = require('buffer').Buffer\nvar inherits = require('inherits')\nvar HashBase = require('hash-base')\n\nvar ARRAY16 = new Array(16)\n\nvar zl = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,\n  3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,\n  1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,\n  4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13\n]\n\nvar zr = [\n  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,\n  6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,\n  15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,\n  8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,\n  12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11\n]\n\nvar sl = [\n  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,\n  7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,\n  11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,\n  11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,\n  9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6\n]\n\nvar sr = [\n  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,\n  9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,\n  9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,\n  15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,\n  8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11\n]\n\nvar hl = [0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e]\nvar hr = [0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000]\n\nfunction RIPEMD160 () {\n  HashBase.call(this, 64)\n\n  // state\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n}\n\ninherits(RIPEMD160, HashBase)\n\nRIPEMD160.prototype._update = function () {\n  var words = ARRAY16\n  for (var j = 0; j < 16; ++j) words[j] = this._block.readInt32LE(j * 4)\n\n  var al = this._a | 0\n  var bl = this._b | 0\n  var cl = this._c | 0\n  var dl = this._d | 0\n  var el = this._e | 0\n\n  var ar = this._a | 0\n  var br = this._b | 0\n  var cr = this._c | 0\n  var dr = this._d | 0\n  var er = this._e | 0\n\n  // computation\n  for (var i = 0; i < 80; i += 1) {\n    var tl\n    var tr\n    if (i < 16) {\n      tl = fn1(al, bl, cl, dl, el, words[zl[i]], hl[0], sl[i])\n      tr = fn5(ar, br, cr, dr, er, words[zr[i]], hr[0], sr[i])\n    } else if (i < 32) {\n      tl = fn2(al, bl, cl, dl, el, words[zl[i]], hl[1], sl[i])\n      tr = fn4(ar, br, cr, dr, er, words[zr[i]], hr[1], sr[i])\n    } else if (i < 48) {\n      tl = fn3(al, bl, cl, dl, el, words[zl[i]], hl[2], sl[i])\n      tr = fn3(ar, br, cr, dr, er, words[zr[i]], hr[2], sr[i])\n    } else if (i < 64) {\n      tl = fn4(al, bl, cl, dl, el, words[zl[i]], hl[3], sl[i])\n      tr = fn2(ar, br, cr, dr, er, words[zr[i]], hr[3], sr[i])\n    } else { // if (i<80) {\n      tl = fn5(al, bl, cl, dl, el, words[zl[i]], hl[4], sl[i])\n      tr = fn1(ar, br, cr, dr, er, words[zr[i]], hr[4], sr[i])\n    }\n\n    al = el\n    el = dl\n    dl = rotl(cl, 10)\n    cl = bl\n    bl = tl\n\n    ar = er\n    er = dr\n    dr = rotl(cr, 10)\n    cr = br\n    br = tr\n  }\n\n  // update state\n  var t = (this._b + cl + dr) | 0\n  this._b = (this._c + dl + er) | 0\n  this._c = (this._d + el + ar) | 0\n  this._d = (this._e + al + br) | 0\n  this._e = (this._a + bl + cr) | 0\n  this._a = t\n}\n\nRIPEMD160.prototype._digest = function () {\n  // create padding and handle blocks\n  this._block[this._blockOffset++] = 0x80\n  if (this._blockOffset > 56) {\n    this._block.fill(0, this._blockOffset, 64)\n    this._update()\n    this._blockOffset = 0\n  }\n\n  this._block.fill(0, this._blockOffset, 56)\n  this._block.writeUInt32LE(this._length[0], 56)\n  this._block.writeUInt32LE(this._length[1], 60)\n  this._update()\n\n  // produce result\n  var buffer = Buffer.alloc ? Buffer.alloc(20) : new Buffer(20)\n  buffer.writeInt32LE(this._a, 0)\n  buffer.writeInt32LE(this._b, 4)\n  buffer.writeInt32LE(this._c, 8)\n  buffer.writeInt32LE(this._d, 12)\n  buffer.writeInt32LE(this._e, 16)\n  return buffer\n}\n\nfunction rotl (x, n) {\n  return (x << n) | (x >>> (32 - n))\n}\n\nfunction fn1 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + (b ^ c ^ d) + m + k) | 0, s) + e) | 0\n}\n\nfunction fn2 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + ((b & c) | ((~b) & d)) + m + k) | 0, s) + e) | 0\n}\n\nfunction fn3 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + ((b | (~c)) ^ d) + m + k) | 0, s) + e) | 0\n}\n\nfunction fn4 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + ((b & d) | (c & (~d))) + m + k) | 0, s) + e) | 0\n}\n\nfunction fn5 (a, b, c, d, e, m, k, s) {\n  return (rotl((a + (b ^ (c | (~d))) + m + k) | 0, s) + e) | 0\n}\n\nmodule.exports = RIPEMD160\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","var Buffer = require('safe-buffer').Buffer\n\n// prototype class for hash functions\nfunction Hash (blockSize, finalSize) {\n  this._block = Buffer.alloc(blockSize)\n  this._finalSize = finalSize\n  this._blockSize = blockSize\n  this._len = 0\n}\n\nHash.prototype.update = function (data, enc) {\n  if (typeof data === 'string') {\n    enc = enc || 'utf8'\n    data = Buffer.from(data, enc)\n  }\n\n  var block = this._block\n  var blockSize = this._blockSize\n  var length = data.length\n  var accum = this._len\n\n  for (var offset = 0; offset < length;) {\n    var assigned = accum % blockSize\n    var remainder = Math.min(length - offset, blockSize - assigned)\n\n    for (var i = 0; i < remainder; i++) {\n      block[assigned + i] = data[offset + i]\n    }\n\n    accum += remainder\n    offset += remainder\n\n    if ((accum % blockSize) === 0) {\n      this._update(block)\n    }\n  }\n\n  this._len += length\n  return this\n}\n\nHash.prototype.digest = function (enc) {\n  var rem = this._len % this._blockSize\n\n  this._block[rem] = 0x80\n\n  // zero (rem + 1) trailing bits, where (rem + 1) is the smallest\n  // non-negative solution to the equation (length + 1 + (rem + 1)) === finalSize mod blockSize\n  this._block.fill(0, rem + 1)\n\n  if (rem >= this._finalSize) {\n    this._update(this._block)\n    this._block.fill(0)\n  }\n\n  var bits = this._len * 8\n\n  // uint32\n  if (bits <= 0xffffffff) {\n    this._block.writeUInt32BE(bits, this._blockSize - 4)\n\n  // uint64\n  } else {\n    var lowBits = (bits & 0xffffffff) >>> 0\n    var highBits = (bits - lowBits) / 0x100000000\n\n    this._block.writeUInt32BE(highBits, this._blockSize - 8)\n    this._block.writeUInt32BE(lowBits, this._blockSize - 4)\n  }\n\n  this._update(this._block)\n  var hash = this._hash()\n\n  return enc ? hash.toString(enc) : hash\n}\n\nHash.prototype._update = function () {\n  throw new Error('_update must be implemented by subclass')\n}\n\nmodule.exports = Hash\n","var exports = module.exports = function SHA (algorithm) {\n  algorithm = algorithm.toLowerCase()\n\n  var Algorithm = exports[algorithm]\n  if (!Algorithm) throw new Error(algorithm + ' is not supported (we accept pull requests)')\n\n  return new Algorithm()\n}\n\nexports.sha = require('./sha')\nexports.sha1 = require('./sha1')\nexports.sha224 = require('./sha224')\nexports.sha256 = require('./sha256')\nexports.sha384 = require('./sha384')\nexports.sha512 = require('./sha512')\n","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-0, as defined\n * in FIPS PUB 180-1\n * This source code is derived from sha1.js of the same repository.\n * The difference between SHA-0 and SHA-1 is just a bitwise rotate left\n * operation was added.\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x5a827999, 0x6ed9eba1, 0x8f1bbcdc | 0, 0xca62c1d6 | 0\n]\n\nvar W = new Array(80)\n\nfunction Sha () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha, Hash)\n\nSha.prototype.init = function () {\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n\n  return this\n}\n\nfunction rotl5 (num) {\n  return (num << 5) | (num >>> 27)\n}\n\nfunction rotl30 (num) {\n  return (num << 30) | (num >>> 2)\n}\n\nfunction ft (s, b, c, d) {\n  if (s === 0) return (b & c) | ((~b) & d)\n  if (s === 2) return (b & c) | (b & d) | (c & d)\n  return b ^ c ^ d\n}\n\nSha.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 80; ++i) W[i] = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16]\n\n  for (var j = 0; j < 80; ++j) {\n    var s = ~~(j / 20)\n    var t = (rotl5(a) + ft(s, b, c, d) + e + W[j] + K[s]) | 0\n\n    e = d\n    d = c\n    c = rotl30(b)\n    b = a\n    a = t\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n}\n\nSha.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(20)\n\n  H.writeInt32BE(this._a | 0, 0)\n  H.writeInt32BE(this._b | 0, 4)\n  H.writeInt32BE(this._c | 0, 8)\n  H.writeInt32BE(this._d | 0, 12)\n  H.writeInt32BE(this._e | 0, 16)\n\n  return H\n}\n\nmodule.exports = Sha\n","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS PUB 180-1\n * Version 2.1a Copyright Paul Johnston 2000 - 2002.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x5a827999, 0x6ed9eba1, 0x8f1bbcdc | 0, 0xca62c1d6 | 0\n]\n\nvar W = new Array(80)\n\nfunction Sha1 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha1, Hash)\n\nSha1.prototype.init = function () {\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n\n  return this\n}\n\nfunction rotl1 (num) {\n  return (num << 1) | (num >>> 31)\n}\n\nfunction rotl5 (num) {\n  return (num << 5) | (num >>> 27)\n}\n\nfunction rotl30 (num) {\n  return (num << 30) | (num >>> 2)\n}\n\nfunction ft (s, b, c, d) {\n  if (s === 0) return (b & c) | ((~b) & d)\n  if (s === 2) return (b & c) | (b & d) | (c & d)\n  return b ^ c ^ d\n}\n\nSha1.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 80; ++i) W[i] = rotl1(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16])\n\n  for (var j = 0; j < 80; ++j) {\n    var s = ~~(j / 20)\n    var t = (rotl5(a) + ft(s, b, c, d) + e + W[j] + K[s]) | 0\n\n    e = d\n    d = c\n    c = rotl30(b)\n    b = a\n    a = t\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n}\n\nSha1.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(20)\n\n  H.writeInt32BE(this._a | 0, 0)\n  H.writeInt32BE(this._b | 0, 4)\n  H.writeInt32BE(this._c | 0, 8)\n  H.writeInt32BE(this._d | 0, 12)\n  H.writeInt32BE(this._e | 0, 16)\n\n  return H\n}\n\nmodule.exports = Sha1\n","/**\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nvar inherits = require('inherits')\nvar Sha256 = require('./sha256')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar W = new Array(64)\n\nfunction Sha224 () {\n  this.init()\n\n  this._w = W // new Array(64)\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha224, Sha256)\n\nSha224.prototype.init = function () {\n  this._a = 0xc1059ed8\n  this._b = 0x367cd507\n  this._c = 0x3070dd17\n  this._d = 0xf70e5939\n  this._e = 0xffc00b31\n  this._f = 0x68581511\n  this._g = 0x64f98fa7\n  this._h = 0xbefa4fa4\n\n  return this\n}\n\nSha224.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(28)\n\n  H.writeInt32BE(this._a, 0)\n  H.writeInt32BE(this._b, 4)\n  H.writeInt32BE(this._c, 8)\n  H.writeInt32BE(this._d, 12)\n  H.writeInt32BE(this._e, 16)\n  H.writeInt32BE(this._f, 20)\n  H.writeInt32BE(this._g, 24)\n\n  return H\n}\n\nmodule.exports = Sha224\n","/**\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5,\n  0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5,\n  0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3,\n  0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174,\n  0xE49B69C1, 0xEFBE4786, 0x0FC19DC6, 0x240CA1CC,\n  0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA,\n  0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7,\n  0xC6E00BF3, 0xD5A79147, 0x06CA6351, 0x14292967,\n  0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13,\n  0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85,\n  0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3,\n  0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070,\n  0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5,\n  0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3,\n  0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208,\n  0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2\n]\n\nvar W = new Array(64)\n\nfunction Sha256 () {\n  this.init()\n\n  this._w = W // new Array(64)\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha256, Hash)\n\nSha256.prototype.init = function () {\n  this._a = 0x6a09e667\n  this._b = 0xbb67ae85\n  this._c = 0x3c6ef372\n  this._d = 0xa54ff53a\n  this._e = 0x510e527f\n  this._f = 0x9b05688c\n  this._g = 0x1f83d9ab\n  this._h = 0x5be0cd19\n\n  return this\n}\n\nfunction ch (x, y, z) {\n  return z ^ (x & (y ^ z))\n}\n\nfunction maj (x, y, z) {\n  return (x & y) | (z & (x | y))\n}\n\nfunction sigma0 (x) {\n  return (x >>> 2 | x << 30) ^ (x >>> 13 | x << 19) ^ (x >>> 22 | x << 10)\n}\n\nfunction sigma1 (x) {\n  return (x >>> 6 | x << 26) ^ (x >>> 11 | x << 21) ^ (x >>> 25 | x << 7)\n}\n\nfunction gamma0 (x) {\n  return (x >>> 7 | x << 25) ^ (x >>> 18 | x << 14) ^ (x >>> 3)\n}\n\nfunction gamma1 (x) {\n  return (x >>> 17 | x << 15) ^ (x >>> 19 | x << 13) ^ (x >>> 10)\n}\n\nSha256.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n  var f = this._f | 0\n  var g = this._g | 0\n  var h = this._h | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 64; ++i) W[i] = (gamma1(W[i - 2]) + W[i - 7] + gamma0(W[i - 15]) + W[i - 16]) | 0\n\n  for (var j = 0; j < 64; ++j) {\n    var T1 = (h + sigma1(e) + ch(e, f, g) + K[j] + W[j]) | 0\n    var T2 = (sigma0(a) + maj(a, b, c)) | 0\n\n    h = g\n    g = f\n    f = e\n    e = (d + T1) | 0\n    d = c\n    c = b\n    b = a\n    a = (T1 + T2) | 0\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n  this._f = (f + this._f) | 0\n  this._g = (g + this._g) | 0\n  this._h = (h + this._h) | 0\n}\n\nSha256.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(32)\n\n  H.writeInt32BE(this._a, 0)\n  H.writeInt32BE(this._b, 4)\n  H.writeInt32BE(this._c, 8)\n  H.writeInt32BE(this._d, 12)\n  H.writeInt32BE(this._e, 16)\n  H.writeInt32BE(this._f, 20)\n  H.writeInt32BE(this._g, 24)\n  H.writeInt32BE(this._h, 28)\n\n  return H\n}\n\nmodule.exports = Sha256\n","var inherits = require('inherits')\nvar SHA512 = require('./sha512')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar W = new Array(160)\n\nfunction Sha384 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 128, 112)\n}\n\ninherits(Sha384, SHA512)\n\nSha384.prototype.init = function () {\n  this._ah = 0xcbbb9d5d\n  this._bh = 0x629a292a\n  this._ch = 0x9159015a\n  this._dh = 0x152fecd8\n  this._eh = 0x67332667\n  this._fh = 0x8eb44a87\n  this._gh = 0xdb0c2e0d\n  this._hh = 0x47b5481d\n\n  this._al = 0xc1059ed8\n  this._bl = 0x367cd507\n  this._cl = 0x3070dd17\n  this._dl = 0xf70e5939\n  this._el = 0xffc00b31\n  this._fl = 0x68581511\n  this._gl = 0x64f98fa7\n  this._hl = 0xbefa4fa4\n\n  return this\n}\n\nSha384.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(48)\n\n  function writeInt64BE (h, l, offset) {\n    H.writeInt32BE(h, offset)\n    H.writeInt32BE(l, offset + 4)\n  }\n\n  writeInt64BE(this._ah, this._al, 0)\n  writeInt64BE(this._bh, this._bl, 8)\n  writeInt64BE(this._ch, this._cl, 16)\n  writeInt64BE(this._dh, this._dl, 24)\n  writeInt64BE(this._eh, this._el, 32)\n  writeInt64BE(this._fh, this._fl, 40)\n\n  return H\n}\n\nmodule.exports = Sha384\n","var inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n]\n\nvar W = new Array(160)\n\nfunction Sha512 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 128, 112)\n}\n\ninherits(Sha512, Hash)\n\nSha512.prototype.init = function () {\n  this._ah = 0x6a09e667\n  this._bh = 0xbb67ae85\n  this._ch = 0x3c6ef372\n  this._dh = 0xa54ff53a\n  this._eh = 0x510e527f\n  this._fh = 0x9b05688c\n  this._gh = 0x1f83d9ab\n  this._hh = 0x5be0cd19\n\n  this._al = 0xf3bcc908\n  this._bl = 0x84caa73b\n  this._cl = 0xfe94f82b\n  this._dl = 0x5f1d36f1\n  this._el = 0xade682d1\n  this._fl = 0x2b3e6c1f\n  this._gl = 0xfb41bd6b\n  this._hl = 0x137e2179\n\n  return this\n}\n\nfunction Ch (x, y, z) {\n  return z ^ (x & (y ^ z))\n}\n\nfunction maj (x, y, z) {\n  return (x & y) | (z & (x | y))\n}\n\nfunction sigma0 (x, xl) {\n  return (x >>> 28 | xl << 4) ^ (xl >>> 2 | x << 30) ^ (xl >>> 7 | x << 25)\n}\n\nfunction sigma1 (x, xl) {\n  return (x >>> 14 | xl << 18) ^ (x >>> 18 | xl << 14) ^ (xl >>> 9 | x << 23)\n}\n\nfunction Gamma0 (x, xl) {\n  return (x >>> 1 | xl << 31) ^ (x >>> 8 | xl << 24) ^ (x >>> 7)\n}\n\nfunction Gamma0l (x, xl) {\n  return (x >>> 1 | xl << 31) ^ (x >>> 8 | xl << 24) ^ (x >>> 7 | xl << 25)\n}\n\nfunction Gamma1 (x, xl) {\n  return (x >>> 19 | xl << 13) ^ (xl >>> 29 | x << 3) ^ (x >>> 6)\n}\n\nfunction Gamma1l (x, xl) {\n  return (x >>> 19 | xl << 13) ^ (xl >>> 29 | x << 3) ^ (x >>> 6 | xl << 26)\n}\n\nfunction getCarry (a, b) {\n  return (a >>> 0) < (b >>> 0) ? 1 : 0\n}\n\nSha512.prototype._update = function (M) {\n  var W = this._w\n\n  var ah = this._ah | 0\n  var bh = this._bh | 0\n  var ch = this._ch | 0\n  var dh = this._dh | 0\n  var eh = this._eh | 0\n  var fh = this._fh | 0\n  var gh = this._gh | 0\n  var hh = this._hh | 0\n\n  var al = this._al | 0\n  var bl = this._bl | 0\n  var cl = this._cl | 0\n  var dl = this._dl | 0\n  var el = this._el | 0\n  var fl = this._fl | 0\n  var gl = this._gl | 0\n  var hl = this._hl | 0\n\n  for (var i = 0; i < 32; i += 2) {\n    W[i] = M.readInt32BE(i * 4)\n    W[i + 1] = M.readInt32BE(i * 4 + 4)\n  }\n  for (; i < 160; i += 2) {\n    var xh = W[i - 15 * 2]\n    var xl = W[i - 15 * 2 + 1]\n    var gamma0 = Gamma0(xh, xl)\n    var gamma0l = Gamma0l(xl, xh)\n\n    xh = W[i - 2 * 2]\n    xl = W[i - 2 * 2 + 1]\n    var gamma1 = Gamma1(xh, xl)\n    var gamma1l = Gamma1l(xl, xh)\n\n    // W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16]\n    var Wi7h = W[i - 7 * 2]\n    var Wi7l = W[i - 7 * 2 + 1]\n\n    var Wi16h = W[i - 16 * 2]\n    var Wi16l = W[i - 16 * 2 + 1]\n\n    var Wil = (gamma0l + Wi7l) | 0\n    var Wih = (gamma0 + Wi7h + getCarry(Wil, gamma0l)) | 0\n    Wil = (Wil + gamma1l) | 0\n    Wih = (Wih + gamma1 + getCarry(Wil, gamma1l)) | 0\n    Wil = (Wil + Wi16l) | 0\n    Wih = (Wih + Wi16h + getCarry(Wil, Wi16l)) | 0\n\n    W[i] = Wih\n    W[i + 1] = Wil\n  }\n\n  for (var j = 0; j < 160; j += 2) {\n    Wih = W[j]\n    Wil = W[j + 1]\n\n    var majh = maj(ah, bh, ch)\n    var majl = maj(al, bl, cl)\n\n    var sigma0h = sigma0(ah, al)\n    var sigma0l = sigma0(al, ah)\n    var sigma1h = sigma1(eh, el)\n    var sigma1l = sigma1(el, eh)\n\n    // t1 = h + sigma1 + ch + K[j] + W[j]\n    var Kih = K[j]\n    var Kil = K[j + 1]\n\n    var chh = Ch(eh, fh, gh)\n    var chl = Ch(el, fl, gl)\n\n    var t1l = (hl + sigma1l) | 0\n    var t1h = (hh + sigma1h + getCarry(t1l, hl)) | 0\n    t1l = (t1l + chl) | 0\n    t1h = (t1h + chh + getCarry(t1l, chl)) | 0\n    t1l = (t1l + Kil) | 0\n    t1h = (t1h + Kih + getCarry(t1l, Kil)) | 0\n    t1l = (t1l + Wil) | 0\n    t1h = (t1h + Wih + getCarry(t1l, Wil)) | 0\n\n    // t2 = sigma0 + maj\n    var t2l = (sigma0l + majl) | 0\n    var t2h = (sigma0h + majh + getCarry(t2l, sigma0l)) | 0\n\n    hh = gh\n    hl = gl\n    gh = fh\n    gl = fl\n    fh = eh\n    fl = el\n    el = (dl + t1l) | 0\n    eh = (dh + t1h + getCarry(el, dl)) | 0\n    dh = ch\n    dl = cl\n    ch = bh\n    cl = bl\n    bh = ah\n    bl = al\n    al = (t1l + t2l) | 0\n    ah = (t1h + t2h + getCarry(al, t1l)) | 0\n  }\n\n  this._al = (this._al + al) | 0\n  this._bl = (this._bl + bl) | 0\n  this._cl = (this._cl + cl) | 0\n  this._dl = (this._dl + dl) | 0\n  this._el = (this._el + el) | 0\n  this._fl = (this._fl + fl) | 0\n  this._gl = (this._gl + gl) | 0\n  this._hl = (this._hl + hl) | 0\n\n  this._ah = (this._ah + ah + getCarry(this._al, al)) | 0\n  this._bh = (this._bh + bh + getCarry(this._bl, bl)) | 0\n  this._ch = (this._ch + ch + getCarry(this._cl, cl)) | 0\n  this._dh = (this._dh + dh + getCarry(this._dl, dl)) | 0\n  this._eh = (this._eh + eh + getCarry(this._el, el)) | 0\n  this._fh = (this._fh + fh + getCarry(this._fl, fl)) | 0\n  this._gh = (this._gh + gh + getCarry(this._gl, gl)) | 0\n  this._hh = (this._hh + hh + getCarry(this._hl, hl)) | 0\n}\n\nSha512.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(64)\n\n  function writeInt64BE (h, l, offset) {\n    H.writeInt32BE(h, offset)\n    H.writeInt32BE(l, offset + 4)\n  }\n\n  writeInt64BE(this._ah, this._al, 0)\n  writeInt64BE(this._bh, this._bl, 8)\n  writeInt64BE(this._ch, this._cl, 16)\n  writeInt64BE(this._dh, this._dl, 24)\n  writeInt64BE(this._eh, this._el, 32)\n  writeInt64BE(this._fh, this._fl, 40)\n  writeInt64BE(this._gh, this._gl, 48)\n  writeInt64BE(this._hh, this._hl, 56)\n\n  return H\n}\n\nmodule.exports = Sha512\n","exports.quote = function (xs) {\n    return xs.map(function (s) {\n        if (s && typeof s === 'object') {\n            return s.op.replace(/(.)/g, '\\\\$1');\n        }\n        else if (/[\"\\s]/.test(s) && !/'/.test(s)) {\n            return \"'\" + s.replace(/(['\\\\])/g, '\\\\$1') + \"'\";\n        }\n        else if (/[\"'\\s]/.test(s)) {\n            return '\"' + s.replace(/([\"\\\\$`!])/g, '\\\\$1') + '\"';\n        }\n        else {\n            return String(s).replace(/([A-Za-z]:)?([#!\"$&'()*,:;<=>?@\\[\\\\\\]^`{|}])/g, '$1\\\\$2');\n        }\n    }).join(' ');\n};\n\n// '<(' is process substitution operator and\n// can be parsed the same as control operator\nvar CONTROL = '(?:' + [\n    '\\\\|\\\\|', '\\\\&\\\\&', ';;', '\\\\|\\\\&', '\\\\<\\\\(', '>>', '>\\\\&', '[&;()|<>]'\n].join('|') + ')';\nvar META = '|&;()<> \\\\t';\nvar BAREWORD = '(\\\\\\\\[\\'\"' + META + ']|[^\\\\s\\'\"' + META + '])+';\nvar SINGLE_QUOTE = '\"((\\\\\\\\\"|[^\"])*?)\"';\nvar DOUBLE_QUOTE = '\\'((\\\\\\\\\\'|[^\\'])*?)\\'';\n\nvar TOKEN = '';\nfor (var i = 0; i < 4; i++) {\n    TOKEN += (Math.pow(16,8)*Math.random()).toString(16);\n}\n\nexports.parse = function (s, env, opts) {\n    var mapped = parse(s, env, opts);\n    if (typeof env !== 'function') return mapped;\n    return mapped.reduce(function (acc, s) {\n        if (typeof s === 'object') return acc.concat(s);\n        var xs = s.split(RegExp('(' + TOKEN + '.*?' + TOKEN + ')', 'g'));\n        if (xs.length === 1) return acc.concat(xs[0]);\n        return acc.concat(xs.filter(Boolean).map(function (x) {\n            if (RegExp('^' + TOKEN).test(x)) {\n                return JSON.parse(x.split(TOKEN)[1]);\n            }\n            else return x;\n        }));\n    }, []);\n};\n\nfunction parse (s, env, opts) {\n    var chunker = new RegExp([\n        '(' + CONTROL + ')', // control chars\n        '(' + BAREWORD + '|' + SINGLE_QUOTE + '|' + DOUBLE_QUOTE + ')*'\n    ].join('|'), 'g');\n    var match = s.match(chunker).filter(Boolean);\n    var commented = false;\n\n    if (!match) return [];\n    if (!env) env = {};\n    if (!opts) opts = {};\n    return match.map(function (s, j) {\n        if (commented) {\n            return;\n        }\n        if (RegExp('^' + CONTROL + '$').test(s)) {\n            return { op: s };\n        }\n\n        // Hand-written scanner/parser for Bash quoting rules:\n        //\n        //  1. inside single quotes, all characters are printed literally.\n        //  2. inside double quotes, all characters are printed literally\n        //     except variables prefixed by '$' and backslashes followed by\n        //     either a double quote or another backslash.\n        //  3. outside of any quotes, backslashes are treated as escape\n        //     characters and not printed (unless they are themselves escaped)\n        //  4. quote context can switch mid-token if there is no whitespace\n        //     between the two quote contexts (e.g. all'one'\"token\" parses as\n        //     \"allonetoken\")\n        var SQ = \"'\";\n        var DQ = '\"';\n        var DS = '$';\n        var BS = opts.escape || '\\\\';\n        var quote = false;\n        var esc = false;\n        var out = '';\n        var isGlob = false;\n\n        for (var i = 0, len = s.length; i < len; i++) {\n            var c = s.charAt(i);\n            isGlob = isGlob || (!quote && (c === '*' || c === '?'));\n            if (esc) {\n                out += c;\n                esc = false;\n            }\n            else if (quote) {\n                if (c === quote) {\n                    quote = false;\n                }\n                else if (quote == SQ) {\n                    out += c;\n                }\n                else { // Double quote\n                    if (c === BS) {\n                        i += 1;\n                        c = s.charAt(i);\n                        if (c === DQ || c === BS || c === DS) {\n                            out += c;\n                        } else {\n                            out += BS + c;\n                        }\n                    }\n                    else if (c === DS) {\n                        out += parseEnvVar();\n                    }\n                    else {\n                        out += c;\n                    }\n                }\n            }\n            else if (c === DQ || c === SQ) {\n                quote = c;\n            }\n            else if (RegExp('^' + CONTROL + '$').test(c)) {\n                return { op: s };\n            }\n            else if (RegExp('^#$').test(c)) {\n                commented = true;\n                if (out.length){\n                    return [out, { comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\n                }\n                return [{ comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\n            }\n            else if (c === BS) {\n                esc = true;\n            }\n            else if (c === DS) {\n                out += parseEnvVar();\n            }\n            else out += c;\n        }\n\n        if (isGlob) return {op: 'glob', pattern: out};\n\n        return out;\n\n        function parseEnvVar() {\n            i += 1;\n            var varend, varname;\n            //debugger\n            if (s.charAt(i) === '{') {\n                i += 1;\n                if (s.charAt(i) === '}') {\n                    throw new Error(\"Bad substitution: \" + s.substr(i - 2, 3));\n                }\n                varend = s.indexOf('}', i);\n                if (varend < 0) {\n                    throw new Error(\"Bad substitution: \" + s.substr(i));\n                }\n                varname = s.substr(i, varend - i);\n                i = varend;\n            }\n            else if (/[*@#?$!_\\-]/.test(s.charAt(i))) {\n                varname = s.charAt(i);\n                i += 1;\n            }\n            else {\n                varend = s.substr(i).match(/[^\\w\\d_]/);\n                if (!varend) {\n                    varname = s.substr(i);\n                    i = s.length;\n                } else {\n                    varname = s.substr(i, varend.index);\n                    i += varend.index - 1;\n                }\n            }\n            return getVar(null, '', varname);\n        }\n    })\n    // finalize parsed aruments\n    .reduce(function(prev, arg){\n        if (arg === undefined){\n            return prev;\n        }\n        return prev.concat(arg);\n    },[]);\n\n    function getVar (_, pre, key) {\n        var r = typeof env === 'function' ? env(key) : env[key];\n        if (r === undefined && key != '')\n            r = '';\n        else if (r === undefined)\n            r = '$';\n\n        if (typeof r === 'object') {\n            return pre + TOKEN + JSON.stringify(r) + TOKEN;\n        }\n        else return pre + r;\n    }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/lib/_stream_readable.js');\nStream.Writable = require('readable-stream/lib/_stream_writable.js');\nStream.Duplex = require('readable-stream/lib/_stream_duplex.js');\nStream.Transform = require('readable-stream/lib/_stream_transform.js');\nStream.PassThrough = require('readable-stream/lib/_stream_passthrough.js');\nStream.finished = require('readable-stream/lib/internal/streams/end-of-stream.js')\nStream.pipeline = require('readable-stream/lib/internal/streams/pipeline.js')\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var native = require('./native')\n\nfunction getTypeName (fn) {\n  return fn.name || fn.toString().match(/function (.*?)\\s*\\(/)[1]\n}\n\nfunction getValueTypeName (value) {\n  return native.Nil(value) ? '' : getTypeName(value.constructor)\n}\n\nfunction getValue (value) {\n  if (native.Function(value)) return ''\n  if (native.String(value)) return JSON.stringify(value)\n  if (value && native.Object(value)) return ''\n  return value\n}\n\nfunction captureStackTrace (e, t) {\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(e, t)\n  }\n}\n\nfunction tfJSON (type) {\n  if (native.Function(type)) return type.toJSON ? type.toJSON() : getTypeName(type)\n  if (native.Array(type)) return 'Array'\n  if (type && native.Object(type)) return 'Object'\n\n  return type !== undefined ? type : ''\n}\n\nfunction tfErrorString (type, value, valueTypeName) {\n  var valueJson = getValue(value)\n\n  return 'Expected ' + tfJSON(type) + ', got' +\n    (valueTypeName !== '' ? ' ' + valueTypeName : '') +\n    (valueJson !== '' ? ' ' + valueJson : '')\n}\n\nfunction TfTypeError (type, value, valueTypeName) {\n  valueTypeName = valueTypeName || getValueTypeName(value)\n  this.message = tfErrorString(type, value, valueTypeName)\n\n  captureStackTrace(this, TfTypeError)\n  this.__type = type\n  this.__value = value\n  this.__valueTypeName = valueTypeName\n}\n\nTfTypeError.prototype = Object.create(Error.prototype)\nTfTypeError.prototype.constructor = TfTypeError\n\nfunction tfPropertyErrorString (type, label, name, value, valueTypeName) {\n  var description = '\" of type '\n  if (label === 'key') description = '\" with key type '\n\n  return tfErrorString('property \"' + tfJSON(name) + description + tfJSON(type), value, valueTypeName)\n}\n\nfunction TfPropertyTypeError (type, property, label, value, valueTypeName) {\n  if (type) {\n    valueTypeName = valueTypeName || getValueTypeName(value)\n    this.message = tfPropertyErrorString(type, label, property, value, valueTypeName)\n  } else {\n    this.message = 'Unexpected property \"' + property + '\"'\n  }\n\n  captureStackTrace(this, TfTypeError)\n  this.__label = label\n  this.__property = property\n  this.__type = type\n  this.__value = value\n  this.__valueTypeName = valueTypeName\n}\n\nTfPropertyTypeError.prototype = Object.create(Error.prototype)\nTfPropertyTypeError.prototype.constructor = TfTypeError\n\nfunction tfCustomError (expected, actual) {\n  return new TfTypeError(expected, {}, actual)\n}\n\nfunction tfSubError (e, property, label) {\n  // sub child?\n  if (e instanceof TfPropertyTypeError) {\n    property = property + '.' + e.__property\n\n    e = new TfPropertyTypeError(\n      e.__type, property, e.__label, e.__value, e.__valueTypeName\n    )\n\n  // child?\n  } else if (e instanceof TfTypeError) {\n    e = new TfPropertyTypeError(\n      e.__type, property, label, e.__value, e.__valueTypeName\n    )\n  }\n\n  captureStackTrace(e)\n  return e\n}\n\nmodule.exports = {\n  TfTypeError: TfTypeError,\n  TfPropertyTypeError: TfPropertyTypeError,\n  tfCustomError: tfCustomError,\n  tfSubError: tfSubError,\n  tfJSON: tfJSON,\n  getValueTypeName: getValueTypeName\n}\n","var NATIVE = require('./native')\nvar ERRORS = require('./errors')\n\nfunction _Buffer (value) {\n  return Buffer.isBuffer(value)\n}\n\nfunction Hex (value) {\n  return typeof value === 'string' && /^([0-9a-f]{2})+$/i.test(value)\n}\n\nfunction _LengthN (type, length) {\n  var name = type.toJSON()\n\n  function Length (value) {\n    if (!type(value)) return false\n    if (value.length === length) return true\n\n    throw ERRORS.tfCustomError(name + '(Length: ' + length + ')', name + '(Length: ' + value.length + ')')\n  }\n  Length.toJSON = function () { return name }\n\n  return Length\n}\n\nvar _ArrayN = _LengthN.bind(null, NATIVE.Array)\nvar _BufferN = _LengthN.bind(null, _Buffer)\nvar _HexN = _LengthN.bind(null, Hex)\nvar _StringN = _LengthN.bind(null, NATIVE.String)\n\nfunction Range (a, b, f) {\n  f = f || NATIVE.Number\n  function _range (value, strict) {\n    return f(value, strict) && (value > a) && (value < b)\n  }\n  _range.toJSON = function () {\n    return `${f.toJSON()} between [${a}, ${b}]`\n  }\n  return _range\n}\n\nvar INT53_MAX = Math.pow(2, 53) - 1\n\nfunction Finite (value) {\n  return typeof value === 'number' && isFinite(value)\n}\nfunction Int8 (value) { return ((value << 24) >> 24) === value }\nfunction Int16 (value) { return ((value << 16) >> 16) === value }\nfunction Int32 (value) { return (value | 0) === value }\nfunction Int53 (value) {\n  return typeof value === 'number' &&\n    value >= -INT53_MAX &&\n    value <= INT53_MAX &&\n    Math.floor(value) === value\n}\nfunction UInt8 (value) { return (value & 0xff) === value }\nfunction UInt16 (value) { return (value & 0xffff) === value }\nfunction UInt32 (value) { return (value >>> 0) === value }\nfunction UInt53 (value) {\n  return typeof value === 'number' &&\n    value >= 0 &&\n    value <= INT53_MAX &&\n    Math.floor(value) === value\n}\n\nvar types = {\n  ArrayN: _ArrayN,\n  Buffer: _Buffer,\n  BufferN: _BufferN,\n  Finite: Finite,\n  Hex: Hex,\n  HexN: _HexN,\n  Int8: Int8,\n  Int16: Int16,\n  Int32: Int32,\n  Int53: Int53,\n  Range: Range,\n  StringN: _StringN,\n  UInt8: UInt8,\n  UInt16: UInt16,\n  UInt32: UInt32,\n  UInt53: UInt53\n}\n\nfor (var typeName in types) {\n  types[typeName].toJSON = function (t) {\n    return t\n  }.bind(null, typeName)\n}\n\nmodule.exports = types\n","var ERRORS = require('./errors')\nvar NATIVE = require('./native')\n\n// short-hand\nvar tfJSON = ERRORS.tfJSON\nvar TfTypeError = ERRORS.TfTypeError\nvar TfPropertyTypeError = ERRORS.TfPropertyTypeError\nvar tfSubError = ERRORS.tfSubError\nvar getValueTypeName = ERRORS.getValueTypeName\n\nvar TYPES = {\n  arrayOf: function arrayOf (type, options) {\n    type = compile(type)\n    options = options || {}\n\n    function _arrayOf (array, strict) {\n      if (!NATIVE.Array(array)) return false\n      if (NATIVE.Nil(array)) return false\n      if (options.minLength !== undefined && array.length < options.minLength) return false\n      if (options.maxLength !== undefined && array.length > options.maxLength) return false\n      if (options.length !== undefined && array.length !== options.length) return false\n\n      return array.every(function (value, i) {\n        try {\n          return typeforce(type, value, strict)\n        } catch (e) {\n          throw tfSubError(e, i)\n        }\n      })\n    }\n    _arrayOf.toJSON = function () {\n      var str = '[' + tfJSON(type) + ']'\n      if (options.length !== undefined) {\n        str += '{' + options.length + '}'\n      } else if (options.minLength !== undefined || options.maxLength !== undefined) {\n        str += '{' +\n          (options.minLength === undefined ? 0 : options.minLength) + ',' +\n          (options.maxLength === undefined ? Infinity : options.maxLength) + '}'\n      }\n      return str\n    }\n\n    return _arrayOf\n  },\n\n  maybe: function maybe (type) {\n    type = compile(type)\n\n    function _maybe (value, strict) {\n      return NATIVE.Nil(value) || type(value, strict, maybe)\n    }\n    _maybe.toJSON = function () { return '?' + tfJSON(type) }\n\n    return _maybe\n  },\n\n  map: function map (propertyType, propertyKeyType) {\n    propertyType = compile(propertyType)\n    if (propertyKeyType) propertyKeyType = compile(propertyKeyType)\n\n    function _map (value, strict) {\n      if (!NATIVE.Object(value)) return false\n      if (NATIVE.Nil(value)) return false\n\n      for (var propertyName in value) {\n        try {\n          if (propertyKeyType) {\n            typeforce(propertyKeyType, propertyName, strict)\n          }\n        } catch (e) {\n          throw tfSubError(e, propertyName, 'key')\n        }\n\n        try {\n          var propertyValue = value[propertyName]\n          typeforce(propertyType, propertyValue, strict)\n        } catch (e) {\n          throw tfSubError(e, propertyName)\n        }\n      }\n\n      return true\n    }\n\n    if (propertyKeyType) {\n      _map.toJSON = function () {\n        return '{' + tfJSON(propertyKeyType) + ': ' + tfJSON(propertyType) + '}'\n      }\n    } else {\n      _map.toJSON = function () { return '{' + tfJSON(propertyType) + '}' }\n    }\n\n    return _map\n  },\n\n  object: function object (uncompiled) {\n    var type = {}\n\n    for (var typePropertyName in uncompiled) {\n      type[typePropertyName] = compile(uncompiled[typePropertyName])\n    }\n\n    function _object (value, strict) {\n      if (!NATIVE.Object(value)) return false\n      if (NATIVE.Nil(value)) return false\n\n      var propertyName\n\n      try {\n        for (propertyName in type) {\n          var propertyType = type[propertyName]\n          var propertyValue = value[propertyName]\n\n          typeforce(propertyType, propertyValue, strict)\n        }\n      } catch (e) {\n        throw tfSubError(e, propertyName)\n      }\n\n      if (strict) {\n        for (propertyName in value) {\n          if (type[propertyName]) continue\n\n          throw new TfPropertyTypeError(undefined, propertyName)\n        }\n      }\n\n      return true\n    }\n    _object.toJSON = function () { return tfJSON(type) }\n\n    return _object\n  },\n\n  anyOf: function anyOf () {\n    var types = [].slice.call(arguments).map(compile)\n\n    function _anyOf (value, strict) {\n      return types.some(function (type) {\n        try {\n          return typeforce(type, value, strict)\n        } catch (e) {\n          return false\n        }\n      })\n    }\n    _anyOf.toJSON = function () { return types.map(tfJSON).join('|') }\n\n    return _anyOf\n  },\n\n  allOf: function allOf () {\n    var types = [].slice.call(arguments).map(compile)\n\n    function _allOf (value, strict) {\n      return types.every(function (type) {\n        try {\n          return typeforce(type, value, strict)\n        } catch (e) {\n          return false\n        }\n      })\n    }\n    _allOf.toJSON = function () { return types.map(tfJSON).join(' & ') }\n\n    return _allOf\n  },\n\n  quacksLike: function quacksLike (type) {\n    function _quacksLike (value) {\n      return type === getValueTypeName(value)\n    }\n    _quacksLike.toJSON = function () { return type }\n\n    return _quacksLike\n  },\n\n  tuple: function tuple () {\n    var types = [].slice.call(arguments).map(compile)\n\n    function _tuple (values, strict) {\n      if (NATIVE.Nil(values)) return false\n      if (NATIVE.Nil(values.length)) return false\n      if (strict && (values.length !== types.length)) return false\n\n      return types.every(function (type, i) {\n        try {\n          return typeforce(type, values[i], strict)\n        } catch (e) {\n          throw tfSubError(e, i)\n        }\n      })\n    }\n    _tuple.toJSON = function () { return '(' + types.map(tfJSON).join(', ') + ')' }\n\n    return _tuple\n  },\n\n  value: function value (expected) {\n    function _value (actual) {\n      return actual === expected\n    }\n    _value.toJSON = function () { return expected }\n\n    return _value\n  }\n}\n\n// TODO: deprecate\nTYPES.oneOf = TYPES.anyOf\n\nfunction compile (type) {\n  if (NATIVE.String(type)) {\n    if (type[0] === '?') return TYPES.maybe(type.slice(1))\n\n    return NATIVE[type] || TYPES.quacksLike(type)\n  } else if (type && NATIVE.Object(type)) {\n    if (NATIVE.Array(type)) {\n      if (type.length !== 1) throw new TypeError('Expected compile() parameter of type Array of length 1')\n      return TYPES.arrayOf(type[0])\n    }\n\n    return TYPES.object(type)\n  } else if (NATIVE.Function(type)) {\n    return type\n  }\n\n  return TYPES.value(type)\n}\n\nfunction typeforce (type, value, strict, surrogate) {\n  if (NATIVE.Function(type)) {\n    if (type(value, strict)) return true\n\n    throw new TfTypeError(surrogate || type, value)\n  }\n\n  // JIT\n  return typeforce(compile(type), value, strict)\n}\n\n// assign types to typeforce function\nfor (var typeName in NATIVE) {\n  typeforce[typeName] = NATIVE[typeName]\n}\n\nfor (typeName in TYPES) {\n  typeforce[typeName] = TYPES[typeName]\n}\n\nvar EXTRA = require('./extra')\nfor (typeName in EXTRA) {\n  typeforce[typeName] = EXTRA[typeName]\n}\n\ntypeforce.compile = compile\ntypeforce.TfTypeError = TfTypeError\ntypeforce.TfPropertyTypeError = TfPropertyTypeError\n\nmodule.exports = typeforce\n","var types = {\n  Array: function (value) { return value !== null && value !== undefined && value.constructor === Array },\n  Boolean: function (value) { return typeof value === 'boolean' },\n  Function: function (value) { return typeof value === 'function' },\n  Nil: function (value) { return value === undefined || value === null },\n  Number: function (value) { return typeof value === 'number' },\n  Object: function (value) { return typeof value === 'object' },\n  String: function (value) { return typeof value === 'string' },\n  '': function () { return true }\n}\n\n// TODO: deprecate\ntypes.Null = types.Nil\n\nfor (var typeName in types) {\n  types[typeName].toJSON = function (t) {\n    return t\n  }.bind(null, typeName)\n}\n\nmodule.exports = types\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","'use strict'\nvar Buffer = require('safe-buffer').Buffer\n\n// Number.MAX_SAFE_INTEGER\nvar MAX_SAFE_INTEGER = 9007199254740991\n\nfunction checkUInt53 (n) {\n  if (n < 0 || n > MAX_SAFE_INTEGER || n % 1 !== 0) throw new RangeError('value out of range')\n}\n\nfunction encode (number, buffer, offset) {\n  checkUInt53(number)\n\n  if (!buffer) buffer = Buffer.allocUnsafe(encodingLength(number))\n  if (!Buffer.isBuffer(buffer)) throw new TypeError('buffer must be a Buffer instance')\n  if (!offset) offset = 0\n\n  // 8 bit\n  if (number < 0xfd) {\n    buffer.writeUInt8(number, offset)\n    encode.bytes = 1\n\n  // 16 bit\n  } else if (number <= 0xffff) {\n    buffer.writeUInt8(0xfd, offset)\n    buffer.writeUInt16LE(number, offset + 1)\n    encode.bytes = 3\n\n  // 32 bit\n  } else if (number <= 0xffffffff) {\n    buffer.writeUInt8(0xfe, offset)\n    buffer.writeUInt32LE(number, offset + 1)\n    encode.bytes = 5\n\n  // 64 bit\n  } else {\n    buffer.writeUInt8(0xff, offset)\n    buffer.writeUInt32LE(number >>> 0, offset + 1)\n    buffer.writeUInt32LE((number / 0x100000000) | 0, offset + 5)\n    encode.bytes = 9\n  }\n\n  return buffer\n}\n\nfunction decode (buffer, offset) {\n  if (!Buffer.isBuffer(buffer)) throw new TypeError('buffer must be a Buffer instance')\n  if (!offset) offset = 0\n\n  var first = buffer.readUInt8(offset)\n\n  // 8 bit\n  if (first < 0xfd) {\n    decode.bytes = 1\n    return first\n\n  // 16 bit\n  } else if (first === 0xfd) {\n    decode.bytes = 3\n    return buffer.readUInt16LE(offset + 1)\n\n  // 32 bit\n  } else if (first === 0xfe) {\n    decode.bytes = 5\n    return buffer.readUInt32LE(offset + 1)\n\n  // 64 bit\n  } else {\n    decode.bytes = 9\n    var lo = buffer.readUInt32LE(offset + 1)\n    var hi = buffer.readUInt32LE(offset + 5)\n    var number = hi * 0x0100000000 + lo\n    checkUInt53(number)\n\n    return number\n  }\n}\n\nfunction encodingLength (number) {\n  checkUInt53(number)\n\n  return (\n    number < 0xfd ? 1\n      : number <= 0xffff ? 3\n        : number <= 0xffffffff ? 5\n          : 9\n  )\n}\n\nmodule.exports = { encode: encode, decode: decode, encodingLength: encodingLength }\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import arg from 'arg'\r\nimport colors from 'ansi-colors'\r\nimport { parse as cliParse } from 'shell-quote'\r\nimport { MnemonicWallet } from 'bitcoinjs-lib'\r\n\r\nexport const name = 'bitcoin'\r\nexport const version = '0.1.0'\r\nexport const description = 'Bitcoin Utility'\r\nexport const help = `\r\n  ${colors.magenta.bold('Bitcoin Utility')}\r\n  (coming soon)\r\n\r\n  Usage:\r\n    bitcoin <command> [options]\r\n\r\n  Commands:\r\n    generate                        Generate a new wallet\r\n    \r\n  Options:\r\n    --help                          Print this help message\r\n    --network                       Network to connect to, {mainnet} or testnet\r\n    --version                       Print the version information\r\n`\r\n\r\nexport const spec = {\r\n  '--help': Boolean,\r\n  '--network': String,\r\n  '--version': Boolean\r\n}\r\n\r\nexport async function generateWallet (args) {\r\n  return\r\n}\r\n\r\nexport async function run (term, context = '') {\r\n  const args = arg(spec, { argv: cliParse(context) })\r\n  if (args['--version']) return term.log(version)\r\n  if (args['--help']) return term.log(help)\r\n\r\n  const cmd = args._?.[0]\r\n\r\n  switch (cmd) {\r\n    case 'generate':\r\n      return term.log(await generateWallet())\r\n    default:\r\n      return term.log(help)\r\n  }\r\n}\r\n"],"names":["ANSI_REGEX","create","colors","enabled","process","env","FORCE_COLOR","visible","styles","keys","wrap","style","input","newline","stack","str","nl","includes","n","length","Set","reverse","define","name","codes","type","open","close","regex","RegExp","replace","output","ansi","push","Reflect","defineProperty","configurable","enumerable","set","value","alias","get","color","setPrototypeOf","this","concat","ansiRegex","hasColor","hasAnsi","lastIndex","test","fn","TypeError","theme","custom","val","Array","isArray","Object","none","clear","noop","stripColor","unstyle","symbols","module","exports","isHyper","TERM_PROGRAM","isWindows","platform","isLinux","common","ballotDisabled","ballotOff","ballotOn","bullet","bulletWhite","fullBlock","heart","identicalTo","line","mark","middot","minus","multiplication","obelus","pencilDownRight","pencilRight","pencilUpRight","percent","pilcrow2","pilcrow","plusMinus","question","section","starsOff","starsOn","upDownArrow","windows","assign","check","cross","ellipsisLarge","ellipsis","info","questionSmall","pointer","pointerSmall","radioOff","radioOn","warning","other","ballotCross","questionFull","flagSymbol","Symbol","ArgError","Error","constructor","msg","code","super","prototype","arg","opts","argv","slice","permissive","stopAtPositional","result","_","aliases","handlers","key","isFlag","prev","Boolean","i","len","wholeArg","separatedArguments","split","map","a","j","originalArgName","argStr","undefined","argName","match","Number","BigInt","flag","COUNT","v","existingCount","_Buffer","ALPHABET","BASE_MAP","Uint8Array","x","charAt","xc","charCodeAt","BASE","LEADER","FACTOR","Math","log","iFACTOR","decodeUnsafe","source","alloc","psz","zeroes","size","b256","carry","it3","it4","vch","allocUnsafe","fill","encode","from","isBuffer","pbegin","pend","b58","it1","it2","repeat","decode","string","buffer","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","join","indexOf","start","end","num","bech32m","bech32","ALPHABET_MAP","z","polymodStep","pre","b","prefixChk","prefix","chk","c","convert","data","inBits","outBits","pad","bits","maxV","toWords","bytes","fromWordsUnsafe","words","res","fromWords","getLibraryFromEncoding","encoding","ENCODING_CONST","__decode","LIMIT","lowered","toLowerCase","uppered","toUpperCase","lastIndexOf","wordChars","parser_1","keyPusher","selfSet","selfKeyVals","otherKeyVals","has","newKv","filter","kv","toString","add","getTx","psbt","globalMap","unsignedTx","getKeySet","keyVals","forEach","keyVal","hex","combine","psbts","self","psbtToKeyVals","others","selfTx","selfGlobalSet","globalKeyVals","selfInputSets","inputKeyVals","selfOutputSets","outputKeyVals","otherTx","toBuffer","equals","inputSet","idx","outputSet","psbtFromKeyVals","globalMapKeyVals","typeFields_1","GlobalTypes","GLOBAL_XPUB","extendedPubkey","masterFingerprint","path","readUInt32LE","isHard","head","Buffer","splitPath","copy","offset","level","parseInt","writeUInt32LE","expected","epk","mfp","p","canAddToArray","array","item","dupeSet","dupeString","UNSIGNED_TX","globalXpub","finalScriptSig","finalScriptWitness","nonWitnessUtxo","partialSig","porCommitment","sighashType","tapKeySig","tapLeafScript","tapMerkleRoot","tapScriptSig","witnessUtxo","tapTree","bip32Derivation","checkPubkey","redeemScript","tapBip32Derivation","tapInternalKey","witnessScript","globals","makeChecker","inputs","makeConverter","InputTypes","BIP32_DERIVATION","REDEEM_SCRIPT","WITNESS_SCRIPT","PARTIAL_SIG","TAP_BIP32_DERIVATION","TAP_INTERNAL_KEY","outputs","OutputTypes","FINAL_SCRIPTSIG","canAdd","currentData","newData","FINAL_SCRIPTWITNESS","NON_WITNESS_UTXO","pubkey","signature","pSig","buf","rLen","sLen","isDerSigWithSighash","POR_COMMITMENT","SIGHASH_TYPE","TAP_KEY_SIG","TAP_LEAF_SCRIPT","leafVersion","script","controlBlock","tScript","verBuf","TAP_MERKLE_ROOT","TAP_SCRIPT_SIG","leafHash","tSig","tools_1","varuint","WITNESS_UTXO","readUInt64LE","_offset","scriptLen","encodingLength","varintLen","writeUInt64LE","TAP_TREE","depth","leaves","tree","bufs","tapLeaf","of","every","isValidDERKey","TYPE_BYTE","isValidPubkey","pubkeyTypes","isValidBIP340Key","parent","nHashes","nHashesLen","base","leafHashes","nHashesBuf","keyValToBuffer","keyLen","valLen","keyVarIntLen","valVarIntLen","verifuint","max","floor","range","reverseBuffer","keyValsToBuffer","buffers","writeInt32LE","checkUInt53","RangeError","_number","writeUInt8","writeUInt16LE","first","readUInt8","readUInt16LE","lo","checkKeyBuffer","keyBuf","keyNum","txCount","unknownKeyVals","inputCount","outputCount","index","psbtFromBuffer","txGetter","varSlice","getKeyValue","checkEndOfKeyValPairs","isEnd","readUInt32BE","globalKeyIndex","hexKey","unsignedTxMaps","getInputOutputCounts","inputKeyIndex","outputKeyIndex","__export","m","hasOwnProperty","psbtToBuffer","globalBuffer","keyValsOrEmptyToBuffer","inputBuffers","outputBuffers","header","writeUIntBE","sortKeyVals","compare","keyValsFromMap","keyValMap","converterFactory","keyHexSet","entries","reduce","converter","encodedKeyVals","sort","o","combiner_1","utils_1","Psbt","tx","static","txFromBuffer","fromBuffer","results","toBase64","toHex","updateGlobal","updateData","updateInput","inputIndex","checkForInput","updateOutput","outputIndex","checkForOutput","addUnknownKeyValToGlobal","checkHasKey","getEnumLength","addUnknownKeyValToInput","addUnknownKeyValToOutput","addInput","inputData","addKeyVals","addInputAttributes","addOutput","outputData","addOutputAttributes","clearFinalizedInput","inputCheckUncleanFinalized","those","getTransaction","GLOBAL_TYPE_NAMES","INPUT_TYPE_NAMES","OUTPUT_TYPE_NAMES","throwForUpdateMaker","typeName","JSON","stringify","updateMaker","mainData","dupeCheckSet","checkKeyVal","enumLength","myenum","count","isNaN","needScriptSig","needWitnessScript","scriptSigOK","witnessScriptOK","hasOneFinal","defaultVersionSetter","version","txBuf","defaultLocktimeSetter","locktime","toOutputScript","fromOutputScript","toBech32","toBase58Check","fromBech32","fromBase58Check","networks","payments","bscript","types","bech32_1","bs58check","typeforce","FUTURE_SEGWIT_VERSION_WARNING","address","payload","hash","e","unshift","tuple","Hash160bit","UInt8","arguments","network","bitcoin","p2pkh","p2sh","p2wpkh","p2wsh","console","warn","_toFutureSegwitAddress","toASM","decodeBase58","decodeBech32","pubKeyHash","scriptHash","compile","lenR","lenS","r","s","Block","bufferutils_1","bcrypto","merkle_1","transaction_1","errorMerkleNoTxes","errorWitnessNotSegwit","prevHash","merkleRoot","timestamp","witnessCommit","nonce","transactions","bufferReader","BufferReader","block","readInt32","readSlice","readUInt32","readTransaction","Transaction","nTransactions","readVarInt","getWitnessCommit","exponent","mantissa","target","forWitness","getHash","Function","txesHaveWitnessCommit","hashes","transaction","rootHash","fastMerkleRoot","hash256","ins","witness","witnessCommits","outs","out","hasWitnessCommit","hasWitness","some","weight","headersOnly","allowWitness","getId","getUTCDate","date","Date","setUTCSeconds","bufferWriter","BufferWriter","writeInt32","writeSlice","writeUInt32","txSize","checkTxRoots","__checkMerkleRoot","__checkWitnessCommit","checkProofOfWork","calculateTarget","actualMerkleRoot","calculateMerkleRoot","actualWitnessCommit","cloneBuffer","clone","UInt32","writeUInt64","writeVarInt","writeVarSlice","writeVector","vector","readInt32LE","readUInt64","vi","readVarSlice","readVector","taggedHash","hash160","sha256","sha1","ripemd160","createHash","update","digest","err","TAGGED_HASH_PREFIXES","fromEntries","tag","tagHash","values","digestFn","left","right","testnet","regtest","messagePrefix","bip32","public","private","wif","REVERSE_OPS","OPS","OP_FALSE","OP_0","OP_PUSHDATA1","OP_PUSHDATA2","OP_PUSHDATA4","OP_1NEGATE","OP_RESERVED","OP_TRUE","OP_1","OP_2","OP_3","OP_4","OP_5","OP_6","OP_7","OP_8","OP_9","OP_10","OP_11","OP_12","OP_13","OP_14","OP_15","OP_16","OP_NOP","OP_VER","OP_IF","OP_NOTIF","OP_VERIF","OP_VERNOTIF","OP_ELSE","OP_ENDIF","OP_VERIFY","OP_RETURN","OP_TOALTSTACK","OP_FROMALTSTACK","OP_2DROP","OP_2DUP","OP_3DUP","OP_2OVER","OP_2ROT","OP_2SWAP","OP_IFDUP","OP_DEPTH","OP_DROP","OP_DUP","OP_NIP","OP_OVER","OP_PICK","OP_ROLL","OP_ROT","OP_SWAP","OP_TUCK","OP_CAT","OP_SUBSTR","OP_LEFT","OP_RIGHT","OP_SIZE","OP_INVERT","OP_AND","OP_OR","OP_XOR","OP_EQUAL","OP_EQUALVERIFY","OP_RESERVED1","OP_RESERVED2","OP_1ADD","OP_1SUB","OP_2MUL","OP_2DIV","OP_NEGATE","OP_ABS","OP_NOT","OP_0NOTEQUAL","OP_ADD","OP_SUB","OP_MUL","OP_DIV","OP_MOD","OP_LSHIFT","OP_RSHIFT","OP_BOOLAND","OP_BOOLOR","OP_NUMEQUAL","OP_NUMEQUALVERIFY","OP_NUMNOTEQUAL","OP_LESSTHAN","OP_GREATERTHAN","OP_LESSTHANOREQUAL","OP_GREATERTHANOREQUAL","OP_MIN","OP_MAX","OP_WITHIN","OP_RIPEMD160","OP_SHA1","OP_SHA256","OP_HASH160","OP_HASH256","OP_CODESEPARATOR","OP_CHECKSIG","OP_CHECKSIGVERIFY","OP_CHECKMULTISIG","OP_CHECKMULTISIGVERIFY","OP_NOP1","OP_NOP2","OP_CHECKLOCKTIMEVERIFY","OP_NOP3","OP_CHECKSEQUENCEVERIFY","OP_NOP4","OP_NOP5","OP_NOP6","OP_NOP7","OP_NOP8","OP_NOP9","OP_NOP10","OP_PUBKEYHASH","OP_PUBKEY","OP_INVALIDOPCODE","op","p2data","networks_1","types_1","lazy","validate","maybe","arrayOf","prop","decompile","chunks","stacksEqual","p2pk","p2ms","embed","embed_1","p2ms_1","p2pk_1","p2pkh_1","p2sh_1","p2wpkh_1","p2wsh_1","object","f","_value","call","writable","OP_INT_BASE","pubkeys","signatures","isAcceptableSignature","isCanonicalScriptSignature","allowIncomplete","isPoint","decoded","_chunks","String","BufferN","_address","hash2","pkh","redeem","_redeem","nameParts","checkRedeem","hasInput","richunks","isPushOnly","EMPTY_BUFFER","shift","chunkHasUncompressedPubkey","chunk","_rchunks","toStack","wScript","bip174_1","address_1","crypto_1","DEFAULT_OPTS","maximumFeeRate","PsbtTransaction","__CACHE","__NON_WITNESS_UTXO_TX_CACHE","__NON_WITNESS_UTXO_BUF_CACHE","__TX_IN_CACHE","__TX","__UNSAFE_SIGN_NONSEGWIT","setVersion","dpew","obj","attr","psbtBase","transactionFromBuffer","cache","checkTxInputCache","setLocktime","txInputs","sequence","txOutputs","parse","setMaximumFeeRate","satoshiPerByte","check32Bit","checkInputsForPartialSig","__EXTRACTED_TX","setInputSequence","addInputs","inputDatas","checkInvalidP2WSH","addNonWitnessTxCache","__FEE","__FEE_RATE","addOutputs","outputDatas","extractTransaction","disableFeeCheck","isFinalized","feeRate","getFeeRate","vsize","virtualSize","satoshis","toFixed","checkFees","inputFinalizeGetAmts","getTxCacheValue","getFee","finalizeAllInputs","finalizeInput","finalScriptsFunc","getFinalScripts","isP2SH","isP2WSH","isSegwit","nonWitnessUtxoTx","nonWitnessUtxoTxFromCache","prevoutIndex","isP2WPKH","getScriptFromInput","hashType","checkPartialSigSighashes","getInputType","getMeaningfulScript","getScriptFromUtxo","finalScript","decomp","lastItem","isPubkeyLike","redeemFromFinalScriptSig","scriptWitnessToWitnessStack","redeemFromFinalWitnessScript","classifyScript","meaningfulScript","inputHasPubkey","pubkeyInScript","pubkeyInInput","inputHasHDKey","root","derivationIsMine","bip32DerivationIsMine","outputHasPubkey","pubkeyInOutput","outputHasHDKey","validateSignaturesOfAllInputs","validator","validateSignaturesOfInput","final","mySigs","sig","hashCache","scriptCache","sighashCache","getHashForSig","checkScriptForPubkey","signAllInputsHD","hdKeyPair","sighashTypes","SIGHASH_ALL","publicKey","fingerprint","signInputHD","signAllInputsHDAsync","Promise","resolve","reject","promises","signInputHDAsync","then","all","getSignersFromHD","signer","signInput","signInputAsync","catch","signAllInputs","keyPair","signAllInputsAsync","getHashAndSighashType","sign","checkCache","checkTxEmpty","hasSigs","neededSigs","sigs","pkey","parity","newKey","compressPubkey","find","isPaymentFactory","payment","isP2MS","isP2PK","isP2PKH","isP2WSHScript","isP2SHScript","d","derivePath","action","throws","pSigs","scriptItems","witnessItems","getPsigsFromInputFinalScripts","whitelist","SIGHASH_ANYONECANPAY","SIGHASH_SINGLE","SIGHASH_NONE","scriptCheckerFactory","paymentScriptName","scriptPubKey","ioType","redeemScriptOutput","checkRedeemScript","checkWitnessScript","mustFinalize","scriptType","canFinalize","pk","ps","getSortedSigs","getPayment","currentLen","witnessStackToScriptWitness","prepareFinalScripts","forValidate","text","sighashTypeToString","prevout","prevoutHash","utxoHash","hashForWitnessV0","signingScript","hashForSignature","myDerivations","bipDv","node","selfIndex","txCache","newBuf","inputAmount","nwTx","vout","outputAmount","total","fee","isCanonicalPubKey","isP2SHP2WSH","pubkeyHash","decompiled","element","ops_1","opcode","number","isDefinedHashType","fromASM","bip66","pushdata","scriptNumber","scriptSignature","isPushOnlyChunk","isOPInt","asMinimalOP","chunksIsBuffer","singleChunkIsBuffer","bufferSize","accum","hashTypeMod","asm","chunkStr","Hex","maxLength","minimal","abs","negative","ZERO","toDER","fromDER","bstart","hashTypeBuffer","script_1","varSliceSize","someScript","EMPTY_WITNESS","ONE","VALUE_UINT64_MAX","BLANK_OUTPUT","valueBuffer","_NO_STRICT","marker","hasWitnesses","ADVANCED_TRANSACTION_MARKER","ADVANCED_TRANSACTION_FLAG","vinLen","voutLen","Hash256bit","isCoinbase","isCoinbaseHash","scriptSig","Null","DEFAULT_SEQUENCE","Satoshi","ceil","_ALLOW_WITNESS","sum","someVector","vectorSize","newTx","txIn","txOut","inIndex","prevOutScript","ourScript","txTmp","y","__toBuffer","hashForWitnessV1","prevOutScripts","annex","outputType","SIGHASH_DEFAULT","SIGHASH_OUTPUT_MASK","isAnyoneCanPay","SIGHASH_INPUT_MASK","isNone","isSingle","hashPrevouts","hashAmounts","hashScriptPubKeys","hashSequences","hashOutputs","withCapacity","txOutsSize","spendType","sigMsgSize","sigMsgWriter","tbuffer","hashSequence","initialOffset","setInputScript","setWitness","oneOf","Buffer256bit","Network","ECPoint","Signer","BIP32Path","UInt31","buffer_1","ZERO32","EC_P","t","UINT31_MAX","pow","toJSON","getPublicKey","UInt53","quacksLike","basex","base58","checksumFn","decodeRaw","checksum","newChecksum","bs58checkBase","base64","ieee754","customInspectSymbol","SlowBuffer","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","encodingOrOffset","isEncoding","actual","write","fromString","ArrayBuffer","isView","arrayView","isInstance","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","checked","numberIsNaN","fromObject","toPrimitive","assertSize","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","utf16leToBytes","min","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","error","poolSize","allocUnsafeSlow","_isBuffer","list","pos","swap16","swap32","swap64","toLocaleString","inspect","trim","thisStart","thisEnd","thisCopy","targetCopy","isFinite","_arr","ret","hexSliceLookupTable","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUint16LE","readUint16BE","readUint32LE","readUint32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUint8","writeUint16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","message","addNumericalSeparator","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","received","isInteger","INVALID_BASE64_RE","Infinity","leadSurrogate","base64clean","src","dst","alphabet","table","i16","BufferBigIntNotDefined","Transform","StringDecoder","CipherBase","hashMode","_finalOrDigest","_final","__final","_decoder","_encoding","inherits","inputEnc","outputEnc","outData","_update","_toString","setAutoPadding","getAuthTag","setAuthTag","setAAD","_transform","next","_flush","done","enc","fin","MD5","RIPEMD160","sha","Hash","_hash","alg","ReflectOwnKeys","R","ReflectApply","receiver","args","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","EventEmitter","init","once","emitter","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","events","existing","newListener","emit","warned","w","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","addEventListener","wrapListener","removeEventListener","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","position","originalListener","pop","spliceOne","off","removeAllListeners","rawListeners","eventNames","HashBase","blockSize","_block","_blockSize","_blockOffset","_length","_finalized","callback","throwIfNotStringOrBuffer","_digest","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","LN2","ctor","superCtor","super_","TempCtor","ARRAY16","_a","_b","_c","_d","rotl","fnF","k","fnG","fnH","fnI","M","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","runClearTimeout","Item","nextTick","title","browser","versions","binding","cwd","chdir","umask","createErrorType","NodeError","_Base","subClass","superClass","arg1","arg2","arg3","__proto__","thing","determiner","search","this_len","substring","endsWith","objectKeys","Duplex","Readable","Writable","method","options","allowHalfOpen","readable","onend","_writableState","ended","onEndNT","highWaterMark","getBuffer","_readableState","destroyed","PassThrough","cb","ReadableState","debug","EElistenerCount","Stream","OurUint8Array","g","debugUtil","debuglog","createReadableStreamAsyncIterator","BufferList","destroyImpl","getHighWaterMark","_require$codes","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","errorOrDestroy","kProxyEvents","stream","isDuplex","objectMode","readableObjectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","autoDestroy","defaultEncoding","awaitDrain","readingMore","decoder","_read","destroy","_destroy","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","_undestroy","undestroy","isPaused","setEncoding","content","MAX_HWM","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","resume","nReadingNextTick","resume_","fromList","consume","endReadable","endReadableNT","wState","finished","xs","l","nOrig","doRead","pipe","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","needDrain","pipeOnDrain","pause","event","dests","splice","ev","_this","asyncIterator","_fromList","iterable","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writecb","writechunk","rs","needTransform","writeencoding","transform","flush","prefinish","_write","err2","CorkedRequest","entry","finish","corkReq","pendingcb","onCorkedFinish","corkedRequestsFree","WritableState","realHasInstance","internalUtil","deprecate","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","finalCalled","ending","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","rState","current","hasInstance","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_Object$setPrototypeO","_defineProperty","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","iter","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","promise","lastPromise","wrapForNext","_this2","_Object$create","iterator","enumerableOnly","getOwnPropertyDescriptor","_defineProperties","props","descriptor","instance","Constructor","_classCallCheck","tail","protoProps","hasStrings","_getString","_getBuffer","nb","getOwnPropertyDescriptors","defineProperties","_objectSpread","customInspect","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","readableDestroyed","writableDestroyed","ERR_STREAM_PREMATURE_CLOSE","eos","called","_len","_key","onlegacyfinish","writableEnded","readableEnded","onrequest","req","setHeader","abort","isRequest","ERR_MISSING_ARGS","destroyer","closed","to","popCallback","streams","destroys","ERR_INVALID_OPT_VALUE","duplexKey","hwm","highWaterMarkFrom","pipeline","zl","zr","sl","sr","hl","hr","_e","fn1","fn2","fn3","fn4","fn5","al","bl","cl","dl","el","ar","br","cr","dr","tl","tr","copyProps","SafeBuffer","finalSize","_finalSize","assigned","remainder","rem","lowBits","highBits","algorithm","Algorithm","sha224","sha384","sha512","K","W","Sha","_w","rotl30","ft","H","Sha1","rotl5","Sha256","Sha224","_f","_g","_h","ch","maj","sigma0","sigma1","gamma0","h","T1","T2","SHA512","Sha384","_ah","_bh","_ch","_dh","_eh","_fh","_gh","_hh","_al","_bl","_cl","_dl","_el","_fl","_gl","_hl","writeInt64BE","Sha512","Ch","xl","Gamma0","Gamma0l","Gamma1","Gamma1l","getCarry","ah","bh","dh","eh","fh","gh","hh","fl","gl","xh","gamma0l","gamma1","gamma1l","Wi7h","Wi7l","Wi16h","Wi16l","Wil","Wih","majh","majl","sigma0h","sigma0l","sigma1h","sigma1l","Kih","Kil","chh","chl","t1l","t1h","t2l","t2h","random","EE","_isStdio","didOnEnd","cleanup","nenc","retried","_normalizeEncoding","normalizeEncoding","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","utf8CheckIncomplete","native","getTypeName","getValueTypeName","Nil","captureStackTrace","tfJSON","tfErrorString","valueTypeName","valueJson","getValue","TfTypeError","__type","__value","__valueTypeName","TfPropertyTypeError","property","label","description","tfPropertyErrorString","__label","__property","tfCustomError","tfSubError","NATIVE","ERRORS","_LengthN","Length","_ArrayN","_BufferN","_HexN","_StringN","INT53_MAX","ArrayN","Finite","HexN","Int8","Int16","Int32","Int53","Range","_range","strict","StringN","UInt16","TYPES","_arrayOf","minLength","_maybe","propertyType","propertyKeyType","_map","propertyName","propertyValue","uncompiled","typePropertyName","_object","anyOf","_anyOf","allOf","_allOf","_quacksLike","_tuple","surrogate","EXTRA","config","localStorage","trace","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","globalThis","window"],"sourceRoot":""}