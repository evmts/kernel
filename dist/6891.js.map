{"version":3,"file":"6891.js","mappings":";8jBACA,smNAUO,IAAMA,EAAO,SACPC,EAAU,QACVC,EAAc,8BACdC,EAAO,OAAH,OACbC,IAAAA,QAAAA,KAAoBF,GADP,swBAsBbG,EAASC,WAAWC,OAEXC,EAAO,CAClB,YAAaC,OACb,WAAYA,OACZ,SAAUC,QACV,YAAaA,SAGFC,EAAmB,CAC9BC,OAAQ,6CACRC,IAAK,GACLC,IAAK,GACLC,IAAK,GACLC,KAAM,GACNC,OAAQ,iBAGV,SAASC,EAAYC,GACnBd,EAAOe,OAAOC,KAAKC,IAAIC,gBAAgB,CACrCC,KAAMnB,EAAOoB,QAAQC,QAAQA,QAAQC,QACrCC,GAAIT,EAAK,cAAgBR,EAAgB,OACzCkB,MAAOC,IAAAA,MAAAA,MAAiBX,EAAK,aAAe,UAIzC,SAAeY,EAAtB,oEAAO,WAAoBC,GAApB,4FAA0BC,EAA1B,+BAAoC,KACnCd,EAAOe,IAAI1B,EAAM,CAAE2B,MAAMC,EAAAA,EAAAA,GAASH,MAC/B,aAFJ,yCAEyBD,EAAKK,IAAIpC,IAFlC,WAGDkB,EAAK,UAHJ,yCAGsBa,EAAKK,IAAIlC,IAH/B,OAKLE,EAAS2B,EAAK3B,OACdc,EAAKmB,SAAWN,EACVO,EAPD,UAOOpB,EAAKqB,SAPZ,aAOO,EAAS,GAPhB,KASGD,EATH,OAUE,QAVF,MAWE,QAXF,MAYE,QAZF,MAaE,SAbF,MAcE,WAdF,MAeE,WAfF,yDAgBMP,EAAKK,IAAI,wBAhBf,iCAmBMnB,EAAWC,IAnBjB","sources":["webpack://@web3os-core/kernel/./src/modules/donate/index.js"],"sourcesContent":["/*\r\n  This will evolve as more contributors join the project.\r\n  I want to eventually have some sort of DAO or other\r\n  fair distribution of donations for contributors.\r\n*/\r\n\r\nimport arg from 'arg'\r\nimport Web3 from 'web3'\r\nimport colors from 'ansi-colors'\r\nimport { parse as cliParse } from 'shell-quote'\r\n\r\nexport const name = 'donate'\r\nexport const version = '0.1.0'\r\nexport const description = 'Donate to web3os developers'\r\nexport const help = `\r\n  ${colors.magenta.bold(description)}\r\n\r\n  Usage:\r\n    donate [command] [options]\r\n\r\n  Commands:\r\n    {native}                        Donate the native currency of the current chain\r\n    paypal                          Donate via Paypal\r\n    stripe                          Donate via Stripe\r\n    ada                             Donate Cardano ADA\r\n    btc                             Donate Bitcoin\r\n    ltc                             Donate Litecoin\r\n    doge                            Donate Dogecoin\r\n\r\n  Options:\r\n    --address                       Override the default donation address\r\n    --amount                        Specify the amount to send (defaults to 0.01)\r\n    --help                          Print this help message\r\n    --version                       Print the version information\r\n`\r\n\r\nlet kernel = globalThis.Kernel\r\n\r\nexport const spec = {\r\n  '--address': String,\r\n  '--amount': String,\r\n  '--help': Boolean,\r\n  '--version': Boolean\r\n}\r\n\r\nexport const defaultAddresses = {\r\n  native: '0xF1b60919F4c8a842D68F99BcEEb7eb21D02c9988',\r\n  ada: '',\r\n  btc: '',\r\n  ltc: '',\r\n  doge: '',\r\n  paypal: 'dev@web3os.sh'\r\n}\r\n\r\nfunction sendNative (args) {\r\n  kernel.wallet.web3.eth.sendTransaction({\r\n    from: kernel.modules.account.account.address,\r\n    to: args['--address'] || defaultAddresses.native,\r\n    value: Web3.utils.toWei(args['--amount'] || '0.01')\r\n  })\r\n}\r\n\r\nexport async function run (term, context = '') {\r\n  const args = arg(spec, { argv: cliParse(context) })\r\n  if (args['--version']) return term.log(version)\r\n  if (args['--help']) return term.log(help)\r\n\r\n  kernel = term.kernel\r\n  args.terminal = term\r\n  const cmd = args._?.[0]\r\n\r\n  switch (cmd) {\r\n    case 'ada':\r\n    case 'btc':\r\n    case 'ltc':\r\n    case 'doge':\r\n    case 'paypal':\r\n    case 'stripe':\r\n      return term.log('Not yet implemented')\r\n    case 'native':\r\n    default:\r\n      return sendNative(args)\r\n  }\r\n}\r\n"],"names":["name","version","description","help","colors","kernel","globalThis","Kernel","spec","String","Boolean","defaultAddresses","native","ada","btc","ltc","doge","paypal","sendNative","args","wallet","web3","eth","sendTransaction","from","modules","account","address","to","value","Web3","run","term","context","arg","argv","cliParse","log","terminal","cmd","_"],"sourceRoot":""}