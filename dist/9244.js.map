{"version":3,"file":"9244.js","mappings":";6HAAA,MAAMA,EAAaC,OAAO,YAE1B,MAAMC,UAAiBC,MACtBC,YAAYC,EAAKC,GAChBC,MAAMF,GACNG,KAAKC,KAAO,WACZD,KAAKF,KAAOA,EAEZI,OAAOC,eAAeH,KAAMN,EAASU,YAIvC,SAASC,EACRC,GACA,KACCC,EAAOC,EAAQD,KAAKE,MAAM,GAAE,WAC5BC,GAAa,EAAK,iBAClBC,GAAmB,GAChB,IAEJ,IAAKL,EACJ,MAAM,IAAIZ,EACT,4CACA,sBAIF,MAAMkB,EAAS,CAAEC,EAAG,IAEdC,EAAU,GACVC,EAAW,GAEjB,IAAK,MAAMC,KAAOd,OAAOe,KAAKX,GAAO,CACpC,IAAKU,EACJ,MAAM,IAAItB,EACT,yCACA,wBAIF,GAAe,MAAXsB,EAAI,GACP,MAAM,IAAItB,EACT,gDAAgDsB,KAChD,yBAIF,GAAmB,IAAfA,EAAIE,OACP,MAAM,IAAIxB,EACT,qEAAqEsB,IACrE,yBAIF,GAAyB,iBAAdV,EAAKU,GAAmB,CAClCF,EAAQE,GAAOV,EAAKU,GACpB,SAGD,IAAIG,EAAOb,EAAKU,GACZI,GAAS,EAEb,GACCC,MAAMC,QAAQH,IACE,IAAhBA,EAAKD,QACc,mBAAZC,EAAK,GACX,CACD,MAAOI,GAAMJ,EACbA,EAAO,CAACK,EAAOvB,EAAMwB,EAAO,MAC3BA,EAAKC,KAAKH,EAAGC,EAAOvB,EAAMwB,EAAKA,EAAKP,OAAS,KACtCO,GAERL,EAASG,IAAOI,UAA8B,IAAnBJ,EAAG/B,OACxB,IAAoB,mBAAT2B,EAGjB,MAAM,IAAIzB,EACT,uDAAuDsB,IACvD,uBAJDI,EAASD,IAASQ,UAAgC,IAArBR,EAAK3B,GAQnC,GAAe,MAAXwB,EAAI,IAAcA,EAAIE,OAAS,EAClC,MAAM,IAAIxB,EACT,4EAA4EsB,IAC5E,+BAIFD,EAASC,GAAO,CAACG,EAAMC,GAGxB,IAAK,IAAIQ,EAAI,EAAGC,EAAMtB,EAAKW,OAAQU,EAAIC,EAAKD,IAAK,CAChD,MAAME,EAAWvB,EAAKqB,GAEtB,GAAIjB,GAAoBC,EAAOC,EAAEK,OAAS,EAAG,CAC5CN,EAAOC,EAAID,EAAOC,EAAEkB,OAAOxB,EAAKE,MAAMmB,IACtC,MAGD,GAAiB,OAAbE,EAAmB,CACtBlB,EAAOC,EAAID,EAAOC,EAAEkB,OAAOxB,EAAKE,MAAMmB,EAAI,IAC1C,MAGD,GAAIE,EAASZ,OAAS,GAAqB,MAAhBY,EAAS,GAAY,CAE/C,MAAME,EACW,MAAhBF,EAAS,IAAkC,IAApBA,EAASZ,OAC7B,CAACY,GACDA,EACCrB,MAAM,GACNwB,MAAM,IACNC,KAAKC,GAAM,IAAIA,MAGpB,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAmBd,OAAQkB,IAAK,CACnD,MAAM/B,EAAM2B,EAAmBI,IACxBC,EAAiBC,GACZ,MAAXjC,EAAI,GAAaA,EAAI4B,MAAM,QAAS,GAAK,CAAC5B,OAAKkC,GAEhD,IAAIC,EAAUH,EACd,KAAOG,KAAW1B,GACjB0B,EAAU1B,EAAQ0B,GAGnB,KAAMA,KAAWzB,GAAW,CAC3B,GAAIL,EAAY,CACfE,EAAOC,EAAEa,KAAKrB,GACd,SAEA,MAAM,IAAIX,EACT,iCAAiC2C,IACjC,sBAKH,MAAOlB,EAAMC,GAAUL,EAASyB,GAEhC,IAAKpB,GAAUgB,EAAI,EAAIJ,EAAmBd,OACzC,MAAM,IAAIxB,EACT,0EAA0E2C,IAC1E,iCAIF,GAAIjB,EACHR,EAAO4B,GAAWrB,GAAK,EAAMqB,EAAS5B,EAAO4B,SACvC,QAAeD,IAAXD,EAAsB,CAChC,GACC/B,EAAKW,OAASU,EAAI,GACjBrB,EAAKqB,EAAI,GAAGV,OAAS,GACF,MAAnBX,EAAKqB,EAAI,GAAG,MAEXrB,EAAKqB,EAAI,GAAGa,MAAM,0BACjBtB,IAASuB,SAEU,oBAAXC,QAA0BxB,IAASwB,SAK9C,MAAM,IAAIjD,EACT,6BAA6B2C,IAF7BA,IAAoBG,EAAU,GAAK,eAAeA,OAGlD,gCAIF5B,EAAO4B,GAAWrB,EAAKZ,EAAKqB,EAAI,GAAIY,EAAS5B,EAAO4B,MAClDZ,OAEFhB,EAAO4B,GAAWrB,EAAKmB,EAAQE,EAAS5B,EAAO4B,UAIjD5B,EAAOC,EAAEa,KAAKI,GAIhB,OAAOlB,EAGRP,EAAIuC,KAAQrB,IACXA,EAAG/B,IAAc,EACV+B,GAIRlB,EAAIwC,MAAQxC,EAAIuC,MAAK,CAACE,EAAG7C,EAAM8C,KAAmBA,GAAiB,GAAK,IAGxE1C,EAAIX,SAAWA,EAEfsD,EAAOC,QAAU5C,iiBCjMjB,8hGAAAuB,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,0oDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,04CAMO,IAAM3B,EAAO,QACPiD,EAAU,QACVC,EAAc,8CACdC,EAAO,qBAIPC,EAAO,GACTC,GAAc,EAEzB,SAASC,EAAQC,EAAKC,GACpB,OAAOC,KAAKC,MAAMD,KAAKH,UAAYE,EAAMD,GAAOA,GAG3C,SAASI,IACd,OAAOC,SAASC,cAAc,qBAGzB,SAASC,EAAMC,EAAGC,GACvB,IAAMC,EAAMN,IACRI,IAAGE,EAAIC,MAAMC,KAAOJ,GACpBC,IAAGC,EAAIC,MAAME,IAAMJ,GAGlB,SAASK,IAGd,IAFA,IAAMJ,EAAMN,IAEZ,MAAkBvC,MAAMkD,KAAKL,EAAIM,WAAjC,eAA6C,CAAxC,IAAMC,EAAG,KACA,sBAARA,GAA+B,aAAaC,KAAKD,IACnDP,EAAIM,UAAUG,OAAOF,GALS,2BAARG,EAAQ,yBAARA,EAAQ,gBASlC,IATkC,iBAS7B,IAAMT,EAAK,KACdU,YAAW,kBAAMX,EAAIM,UAAUM,IAAd,mBAA8BX,MAAU,IAD3D,MAAoBS,EAApB,eAA4B,IAKvB,SAASG,EAAa9E,EAAMuB,GACjCqC,SAASmB,gBAAgBb,MAAMY,YAAY9E,EAAMuB,GAG5C,SAAeyD,IAAtB,iEAAO,gHAUL,IAV2BC,EAAtB,+BAA8B,IAC7BhB,EAAMN,IAENuB,EAAa,CACjB,qBAAsB,CAAEC,IAAK,WAC7B,qBAAsB,CAAEA,IAAK,OAC7B,0BAA2B,CAAEA,IAAK,OAClC,2BAA4B,CAAEA,IAAK,QAGhC,EAAL,IAAmBlF,OAAOe,KAAKkE,GAA/B,eAAWE,EAAiC,KAC1CF,EAAWE,GAAMC,IAAMC,iBAAiB1B,SAASmB,iBAAiBQ,iBAAiBH,GACnFN,EAAYM,EAAMF,EAAWE,GAAX,KAZf,OAeLnB,EAAIC,MAAMsB,MAAQ,QAClBvB,EAAIwB,YAAc,IAClBpB,EAAQ,aAjBH,SAoBCqB,OAAOC,KAAKV,GApBb,OAsBL,IAAK,EAAL,IAAmBhF,OAAOe,KAAKkE,GAA/B,eACEJ,EADSM,EAAiC,KACxBF,EAAWE,GAAMC,KAGrCpB,EAAIC,MAAMsB,MAAQ,sBAClBvB,EAAIwB,YAAc,IA3Bb,oEA8BA,SAASG,IAAuC,IAA5BC,IAA4B,yDAAZZ,EAAY,uDAAJ,GAC3ChB,EAAMN,IACZmC,cAAc7B,EAAI8B,mBAElB9B,EAAIC,MAAM8B,oBAAV,MACA/B,EAAIC,MAAM+B,qBAAV,MACAhC,EAAIC,MAAMgC,uBAAV,MACAjC,EAAIC,MAAMiC,wBAAV,MAEAlC,EAAI8B,kBAAoBF,EAAUO,aAAY,WAC5CnC,EAAIC,MAAM8B,oBAAV,UAAmC1C,EAAO,GAAI,IAA9C,KACAW,EAAIC,MAAM+B,qBAAV,UAAoC3C,EAAO,GAAI,IAA/C,KACAW,EAAIC,MAAMgC,uBAAV,UAAsC5C,EAAO,GAAI,IAAjD,KACAW,EAAIC,MAAMiC,wBAAV,UAAuC7C,EAAO,GAAI,IAAlD,OACC2B,GAAS,KAGP,SAAeoB,IAAtB,iEAAO,qGACCpC,EAAML,SAAS0C,cAAc,WAE/BC,GAAK,mBACTtC,EAAIwB,YAAc,IAClBxB,EAAIuC,WAAY,EAChBvC,EAAIM,UAAUM,IAAI4B,EAAAA,QAAAA,IAAa,qBAE/B7C,SAAS8C,KAAKC,YAAY1C,GAEpB2C,EAAY,SAAAC,GAAK,QACjBC,EAAYlD,SAAS0C,cAAc,OACvCQ,EAAU5C,MAAM6C,QAAU,EAC1B9C,EAAIC,MAAM8C,WAAa,QACvB,UAAAH,EAAEI,oBAAF,SAAgBC,aAAaJ,EAAW,EAAG,GAC3C,UAAAD,EAAEI,oBAAF,SAAgBE,QAAQ,OAAQ,cAG5BC,EAAO,SAAAP,GACX,IAAMQ,EAAc,CAAEtD,EAAG,KAAMC,EAAG,MAClCqD,EAAYtD,EAAe,cAAX8C,EAAE3F,KAAuB2F,EAAES,eAAe,GAAGC,MAAQV,EAAEW,QACvEH,EAAYrD,EAAe,cAAX6C,EAAE3F,KAAuB2F,EAAES,eAAe,GAAGG,MAAQZ,EAAEa,QACjD,IAAlBL,EAAYtD,GAA6B,IAAlBsD,EAAYrD,GACvCF,EAAK,GAAD,OAAIuD,EAAYtD,EAAI,GAApB,gBAA+BsD,EAAYrD,EAAI,GAA/C,QAGA2D,EAAU,SAAAd,GACd5C,EAAIC,MAAM8C,WAAa,GACvB,IAAMK,EAAc,CAAEtD,EAAG,KAAMC,EAAG,MAClCqD,EAAYtD,EAAe,aAAX8C,EAAE3F,KAAsB2F,EAAES,eAAe,GAAGC,MAAQV,EAAEW,QACtEH,EAAYrD,EAAe,aAAX6C,EAAE3F,KAAsB2F,EAAES,eAAe,GAAGG,MAAQZ,EAAEa,QAChD,IAAlBL,EAAYtD,GAA6B,IAAlBsD,EAAYrD,IACvCF,EAAK,GAAD,OAAIuD,EAAYtD,EAAI,GAApB,gBAA+BsD,EAAYrD,EAAI,GAA/C,OACJ4B,GAAU,EAAM,IAChBZ,IACA4C,QAAQC,IAAI,CAAER,YAAAA,GAAeS,OAAOC,WAAYD,OAAOE,cAErDX,EAAYtD,GAAK+D,OAAOC,YACrBV,EAAYtD,GAAK,GACjBsD,EAAYrD,GAAK8D,OAAOE,aACxBX,EAAYrD,GAAK,IAEpBJ,SAASC,cAAc,qBAAqBa,WAIhDT,EAAIgE,YAAcrB,EAClB3C,EAAIiE,iBAAiB,aAActB,GACnC3C,EAAIkE,UAAYR,EAChB1D,EAAIiE,iBAAiB,WAAYP,GACjC1D,EAAImE,OAAShB,EACbnD,EAAIiE,iBAAiB,YAAad,GAElCnD,EAAIiE,iBAAiB,YAAY,WAC/B,IAAMG,EAA+B,KAAtBpE,EAAIC,MAAM6C,SAAwC,MAAtB9C,EAAIC,MAAM6C,QAEzC9C,EAAIC,MAAM6C,QAAlBsB,EAA4B,GACP,EAEbpE,EAAIC,MAAMoE,gBAAlBD,EAAoC,uBACP,UAErBpE,EAAIC,MAAMqE,UAAlBF,EAA8B,OACP,MAG7BzC,GAAU,GAlEL,wBAoEoBxE,MAAMkD,KAAKlD,MAAM,IAAIJ,SApEzC,mGAqEH8C,EAAKR,EAAO,GAAI,IAAM,IAAKA,EAAO,GAAI,IAAM,KArEzC,UAsEGoC,OAAOC,KAAKrC,EAAO,GAAI,MAtE1B,2TAyELQ,EAAK,MAAO,MAzEP,kBA2EEG,GA3EF,oGA8EA,SAAeuE,EAAtB,sEAAO,WAAoBC,EAAMC,GAA1B,kGAEiChD,OAAOiD,QAAQC,MAA/CC,EAFD,EAECA,aAAcD,EAFf,EAEeA,MAAOE,EAFtB,EAEsBA,OACJ,KAAb,QAAN,EAAAA,SAAA,eAAQ7H,UAAc6H,EAASC,gBAAgBC,aAG9CrF,IANA,gCAOS0C,IAPT,OAOHpC,EAPG,+BASHA,EAAMN,KACFO,MAAM6C,QAAU,EACpB9C,EAAIC,MAAMoE,gBAAkB,UAC5BrE,EAAIC,MAAMqE,UAAY,GAZnB,eAeCU,EAAgBvD,OAAOwD,IAAI,QAAS,UAAY,oBAChDC,EAASC,WAAW1D,OAAOwD,IAAI,QAAS,WAAa,IACrDG,EAAQD,WAAW1D,OAAOwD,IAAI,QAAS,UAAY,IACnDI,EAAOF,WAAW1D,OAAOwD,IAAI,QAAS,SAAW,GACjDK,EAAQT,EAAOU,MAAK,SAAA3G,GAAC,OAAIA,EAAE7C,KAAKyJ,gBAAkBR,EAAcQ,iBAGtEC,EAAQb,EAAa,qBAAsBU,EAAOJ,EAAQE,EAAOC,GAtB5D,UAuBCV,EAAMc,GAvBP,eAwBLA,EAAQb,EAAa,qCAAsCU,EAAOJ,EAAQE,EAAOC,GAxB5E,UAyBCV,EAAMc,GAzBP,eA0BLA,EAAQb,EAAa,iDAAkDU,EAAOJ,EAAQE,EAAOC,GA1BxF,UA2BCV,EAAMc,GA3BP,eA4BLA,EAAQb,EAAa,0DAA2DU,EAAOJ,EAAQE,EAAOC,GA5BjG,UA6BCV,EAAMc,GA7BP,eA8BLA,EAAQb,EAAa,uDAAwDU,EAAOJ,EAAQE,EAAOC,GA9B9F,UA+BCV,EAAMc,GA/BP,mFClJP,IATA,IAAIC,EAAU,MAAQ,CAClB,SAAU,SAAU,KAAM,SAAU,SAAU,KAAM,OAAQ,aAC9DC,KAAK,KAAO,IAMVC,EAAQ,GACHlI,EAAI,EAAGA,EAAI,EAAGA,IACnBkI,IAAUpG,KAAKqG,IAAI,GAAG,GAAGrG,KAAKH,UAAUyG,SAAS,IAGrD/G,EAAQ,EAAQ,SAAUgH,EAAGC,EAAK5J,GAC9B,IAAI6J,EAeR,SAAgBF,EAAGC,EAAK5J,GACpB,IAAI8J,EAAU,IAAIC,OAAO,CACrB,IAAMT,EAAU,IAChB,6FACFC,KAAK,KAAM,KACTpH,EAAQwH,EAAExH,MAAM2H,GAASE,OAAO3I,SAChC4I,GAAY,EAEhB,OAAK9H,GACAyH,IAAKA,EAAM,IACX5J,IAAMA,EAAO,IACXmC,EAAMP,KAAI,SAAU+H,EAAG7H,GAC1B,IAAImI,EAAJ,CAGA,GAAIF,OAAO,IAAMT,EAAU,KAAKlF,KAAKuF,GACjC,MAAO,CAAEO,GAAIP,GAuBjB,IATA,IAGIQ,EAAKnK,EAAKoK,QAAU,KACpBC,GAAQ,EACRC,GAAM,EACNC,EAAM,GACNC,GAAS,EAEJlJ,EAAI,EAAGC,EAAMoI,EAAE/I,OAAQU,EAAIC,EAAKD,IAAK,CAC1C,IAAImJ,EAAId,EAAEe,OAAOpJ,GAEjB,GADAkJ,EAASA,IAAYH,IAAgB,MAANI,GAAmB,MAANA,GACxCH,EACAC,GAAOE,EACPH,GAAM,OAEL,GAAID,EACDI,IAAMJ,EACNA,GAAQ,EAlBX,KAoBQA,EACLE,GAAOE,EAGHA,IAAMN,GACN7I,GAAK,EAGDiJ,GA3BX,OAyBOE,EAAId,EAAEe,OAAOpJ,KACGmJ,IAAMN,GAzB7B,MAyBmCM,EACjBA,EAEAN,EAAKM,GAIhBF,GAhCP,MA+BYE,EACEE,IAGAF,OAId,GAxCA,MAwCIA,GAzCJ,MAyCgBA,EACjBJ,EAAQI,MAEP,IAAIV,OAAO,IAAMT,EAAU,KAAKlF,KAAKqG,GACtC,MAAO,CAAEP,GAAIP,GAEZ,GAAII,OAAO,OAAO3F,KAAKqG,GAExB,OADAR,GAAY,EACRM,EAAI3J,OACG,CAAC2J,EAAK,CAAEK,QAASjB,EAAExJ,MAAMmB,EAAE,GAAKa,EAAMhC,MAAM2B,EAAE,GAAGyH,KAAK,OAE1D,CAAC,CAAEqB,QAASjB,EAAExJ,MAAMmB,EAAE,GAAKa,EAAMhC,MAAM2B,EAAE,GAAGyH,KAAK,OAEnDkB,IAAMN,EACXG,GAAM,EAGNC,GAxDC,MAuDIE,EACEE,IAECF,GAGhB,OAAID,EAAe,CAACN,GAAI,OAAQW,QAASN,GAElCA,EAEP,SAASI,IAEL,IAAIG,EAAQC,EAuCAC,EAAKtK,EACjBuK,EAtCA,GAHA3J,GAAK,EAGe,MAAhBqI,EAAEe,OAAOpJ,GAAY,CAErB,GADAA,GAAK,EACe,MAAhBqI,EAAEe,OAAOpJ,GACT,MAAM,IAAIjC,MAAM,qBAAuBsK,EAAEuB,OAAO5J,EAAI,EAAG,IAG3D,IADAwJ,EAASnB,EAAEwB,QAAQ,IAAK7J,IACX,EACT,MAAM,IAAIjC,MAAM,qBAAuBsK,EAAEuB,OAAO5J,IAEpDyJ,EAAUpB,EAAEuB,OAAO5J,EAAGwJ,EAASxJ,GAC/BA,EAAIwJ,MAEC,cAAc1G,KAAKuF,EAAEe,OAAOpJ,KACjCyJ,EAAUpB,EAAEe,OAAOpJ,GACnBA,GAAK,IAGLwJ,EAASnB,EAAEuB,OAAO5J,GAAGa,MAAM,cAKvB4I,EAAUpB,EAAEuB,OAAO5J,EAAGwJ,EAAOM,OAC7B9J,GAAKwJ,EAAOM,MAAQ,IAJpBL,EAAUpB,EAAEuB,OAAO5J,GACnBA,EAAIqI,EAAE/I,QAMd,OAWYoK,EAXQ,GAWHtK,EAXOqK,OAalB9I,KADNgJ,EAAmB,mBAARrB,EAAqBA,EAAIlJ,GAAOkJ,EAAIlJ,KACrB,IAAPA,EACnBuK,EAAI,QACOhJ,IAANgJ,IACLA,EAAI,KAES,iBAANA,EACAD,EAAMxB,EAAQ6B,KAAKC,UAAUL,GAAKzB,EAEjCwB,EAAMC,MAjBrBM,QAAO,SAASpK,EAAMpB,GACnB,YAAYkC,IAARlC,EACOoB,EAEJA,EAAKM,OAAO1B,KACrB,KAhIiB,GAvBNyL,CAAM7B,EAAGC,EAAK5J,GAC3B,MAAmB,mBAAR4J,EAA2BC,EAC/BA,EAAO0B,QAAO,SAAUE,EAAK9B,GAChC,GAAiB,iBAANA,EAAgB,OAAO8B,EAAIhK,OAAOkI,GAC7C,IAAI+B,EAAK/B,EAAEhI,MAAMoI,OAAO,IAAMP,EAAQ,MAAQA,EAAQ,IAAK,MAC3D,OAAkB,IAAdkC,EAAG9K,OAAqB6K,EAAIhK,OAAOiK,EAAG,IACnCD,EAAIhK,OAAOiK,EAAG1B,OAAO3I,SAASO,KAAI,SAAU8B,GAC/C,OAAIqG,OAAO,IAAMP,GAAOpF,KAAKV,GAClB2H,KAAKG,MAAM9H,EAAE/B,MAAM6H,GAAO,IAEzB9F,QAEjB","sources":["webpack://@web3os-core/kernel/./node_modules/.pnpm/arg@5.0.2/node_modules/arg/index.js","webpack://@web3os-core/kernel/./src/modules/three/index.js","webpack://@web3os-core/kernel/./node_modules/.pnpm/shell-quote@1.7.3/node_modules/shell-quote/index.js"],"sourcesContent":["const flagSymbol = Symbol('arg flag');\n\nclass ArgError extends Error {\n\tconstructor(msg, code) {\n\t\tsuper(msg);\n\t\tthis.name = 'ArgError';\n\t\tthis.code = code;\n\n\t\tObject.setPrototypeOf(this, ArgError.prototype);\n\t}\n}\n\nfunction arg(\n\topts,\n\t{\n\t\targv = process.argv.slice(2),\n\t\tpermissive = false,\n\t\tstopAtPositional = false\n\t} = {}\n) {\n\tif (!opts) {\n\t\tthrow new ArgError(\n\t\t\t'argument specification object is required',\n\t\t\t'ARG_CONFIG_NO_SPEC'\n\t\t);\n\t}\n\n\tconst result = { _: [] };\n\n\tconst aliases = {};\n\tconst handlers = {};\n\n\tfor (const key of Object.keys(opts)) {\n\t\tif (!key) {\n\t\t\tthrow new ArgError(\n\t\t\t\t'argument key cannot be an empty string',\n\t\t\t\t'ARG_CONFIG_EMPTY_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key[0] !== '-') {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must start with '-' but found: '${key}'`,\n\t\t\t\t'ARG_CONFIG_NONOPT_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key.length === 1) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must have a name; singular '-' keys are not allowed: ${key}`,\n\t\t\t\t'ARG_CONFIG_NONAME_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (typeof opts[key] === 'string') {\n\t\t\taliases[key] = opts[key];\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet type = opts[key];\n\t\tlet isFlag = false;\n\n\t\tif (\n\t\t\tArray.isArray(type) &&\n\t\t\ttype.length === 1 &&\n\t\t\ttypeof type[0] === 'function'\n\t\t) {\n\t\t\tconst [fn] = type;\n\t\t\ttype = (value, name, prev = []) => {\n\t\t\t\tprev.push(fn(value, name, prev[prev.length - 1]));\n\t\t\t\treturn prev;\n\t\t\t};\n\t\t\tisFlag = fn === Boolean || fn[flagSymbol] === true;\n\t\t} else if (typeof type === 'function') {\n\t\t\tisFlag = type === Boolean || type[flagSymbol] === true;\n\t\t} else {\n\t\t\tthrow new ArgError(\n\t\t\t\t`type missing or not a function or valid array type: ${key}`,\n\t\t\t\t'ARG_CONFIG_VAD_TYPE'\n\t\t\t);\n\t\t}\n\n\t\tif (key[1] !== '-' && key.length > 2) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`short argument keys (with a single hyphen) must have only one character: ${key}`,\n\t\t\t\t'ARG_CONFIG_SHORTOPT_TOOLONG'\n\t\t\t);\n\t\t}\n\n\t\thandlers[key] = [type, isFlag];\n\t}\n\n\tfor (let i = 0, len = argv.length; i < len; i++) {\n\t\tconst wholeArg = argv[i];\n\n\t\tif (stopAtPositional && result._.length > 0) {\n\t\t\tresult._ = result._.concat(argv.slice(i));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg === '--') {\n\t\t\tresult._ = result._.concat(argv.slice(i + 1));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg.length > 1 && wholeArg[0] === '-') {\n\t\t\t/* eslint-disable operator-linebreak */\n\t\t\tconst separatedArguments =\n\t\t\t\twholeArg[1] === '-' || wholeArg.length === 2\n\t\t\t\t\t? [wholeArg]\n\t\t\t\t\t: wholeArg\n\t\t\t\t\t\t\t.slice(1)\n\t\t\t\t\t\t\t.split('')\n\t\t\t\t\t\t\t.map((a) => `-${a}`);\n\t\t\t/* eslint-enable operator-linebreak */\n\n\t\t\tfor (let j = 0; j < separatedArguments.length; j++) {\n\t\t\t\tconst arg = separatedArguments[j];\n\t\t\t\tconst [originalArgName, argStr] =\n\t\t\t\t\targ[1] === '-' ? arg.split(/=(.*)/, 2) : [arg, undefined];\n\n\t\t\t\tlet argName = originalArgName;\n\t\t\t\twhile (argName in aliases) {\n\t\t\t\t\targName = aliases[argName];\n\t\t\t\t}\n\n\t\t\t\tif (!(argName in handlers)) {\n\t\t\t\t\tif (permissive) {\n\t\t\t\t\t\tresult._.push(arg);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`unknown or unexpected option: ${originalArgName}`,\n\t\t\t\t\t\t\t'ARG_UNKNOWN_OPTION'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst [type, isFlag] = handlers[argName];\n\n\t\t\t\tif (!isFlag && j + 1 < separatedArguments.length) {\n\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t`option requires argument (but was followed by another short argument): ${originalArgName}`,\n\t\t\t\t\t\t'ARG_MISSING_REQUIRED_SHORTARG'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (isFlag) {\n\t\t\t\t\tresult[argName] = type(true, argName, result[argName]);\n\t\t\t\t} else if (argStr === undefined) {\n\t\t\t\t\tif (\n\t\t\t\t\t\targv.length < i + 2 ||\n\t\t\t\t\t\t(argv[i + 1].length > 1 &&\n\t\t\t\t\t\t\targv[i + 1][0] === '-' &&\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\targv[i + 1].match(/^-?\\d*(\\.(?=\\d))?\\d*$/) &&\n\t\t\t\t\t\t\t\t(type === Number ||\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\t\t\t\t\t\t(typeof BigInt !== 'undefined' && type === BigInt))\n\t\t\t\t\t\t\t))\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst extended =\n\t\t\t\t\t\t\toriginalArgName === argName ? '' : ` (alias for ${argName})`;\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`option requires argument: ${originalArgName}${extended}`,\n\t\t\t\t\t\t\t'ARG_MISSING_REQUIRED_LONGARG'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[argName] = type(argv[i + 1], argName, result[argName]);\n\t\t\t\t\t++i;\n\t\t\t\t} else {\n\t\t\t\t\tresult[argName] = type(argStr, argName, result[argName]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tresult._.push(wholeArg);\n\t\t}\n\t}\n\n\treturn result;\n}\n\narg.flag = (fn) => {\n\tfn[flagSymbol] = true;\n\treturn fn;\n};\n\n// Utility types\narg.COUNT = arg.flag((v, name, existingCount) => (existingCount || 0) + 1);\n\n// Expose error class\narg.ArgError = ArgError;\n\nmodule.exports = arg;\n","import arg from 'arg'\nimport colors from 'ansi-colors'\nimport { parse as cliParse } from 'shell-quote'\n\nimport 'animate.css'\nimport classes from './three.module.css'\n\nexport const name = 'three'\nexport const version = '0.1.0'\nexport const description = 'Three: The open source assistant for web3os'\nexport const help = `\n  Usage: three\n`\n\nexport const spec = {}\nexport let isAmorphous = true\n\nfunction random (min, max) {\n  return Math.floor(Math.random() * (max - min) + min)\n}\n\nexport function getInstance () {\n  return document.querySelector('#web3os-three-orb')\n}\n\nexport function move (x, y) {\n  const orb = getInstance()\n  if (x) orb.style.left = x\n  if (y) orb.style.top = y\n}\n\nexport function animate (...styles) {\n  const orb = getInstance()\n\n  for (const cls of Array.from(orb.classList)) {\n    if (cls !== 'animate__animated' && /^animate__/.test(cls)) {\n      orb.classList.remove(cls)\n    }\n  }\n\n  for (const style of styles) {\n    setTimeout(() => orb.classList.add(`animate__${style}`), 0)\n  }\n}\n\nexport function setProperty (name, value) {\n  document.documentElement.style.setProperty(name, value)\n}\n\nexport async function angry (delay = 1000) {\n  const orb = getInstance()\n\n  const properties = {\n    '--three-glow-inner': { new: '#eb4034' },\n    '--three-glow-outer': { new: 'red' },\n    '--three-glow-outer-left': { new: 'red' },\n    '--three-glow-outer-right': { new: 'red' }\n  }\n\n  for (const prop of Object.keys(properties)) {\n    properties[prop].old = getComputedStyle(document.documentElement).getPropertyValue(prop)\n    setProperty(prop, properties[prop].new)\n  }\n\n  orb.style.color = 'white'\n  orb.textContent = '!'\n  animate('headShake')\n\n  // Now calm down\n  await Kernel.wait(delay)\n\n  for (const prop of Object.keys(properties)) {\n    setProperty(prop, properties[prop].old)\n  }\n\n  orb.style.color = 'rgba(0, 0, 0, 0.05)'\n  orb.textContent = '3'\n}\n\nexport function amorphous (enabled = true, delay = 50) {\n  const orb = getInstance()\n  clearInterval(orb.amorphousInterval)\n\n  orb.style.borderTopLeftRadius = `50%`\n  orb.style.borderTopRightRadius = `50%`\n  orb.style.borderBottomLeftRadius = `50%`\n  orb.style.borderBottomRightRadius = `50%`\n\n  orb.amorphousInterval = enabled ? setInterval(() => {\n    orb.style.borderTopLeftRadius = `${random(15, 80)}%`\n    orb.style.borderTopRightRadius = `${random(15, 80)}%`\n    orb.style.borderBottomLeftRadius = `${random(15, 80)}%`\n    orb.style.borderBottomRightRadius = `${random(15, 80)}%`\n  }, delay) : null\n}\n\nexport async function createInstance () {\n  const orb = document.createElement('figure')\n\n  orb.id = 'web3os-three-orb'\n  orb.textContent = '3'\n  orb.draggable = true\n  orb.classList.add(classes.orb, 'animate__animated')\n\n  document.body.appendChild(orb)\n\n  const dragStart = e => {\n    let dragImage = document.createElement('div');\n    dragImage.style.opacity = 0\n    orb.style.transition = 'unset'\n    e.dataTransfer?.setDragImage(dragImage, 0, 0)\n    e.dataTransfer?.setData('text', 'three.orb')\n  }\n\n  const drag = e => {\n    const coordinates = { x: null, y: null }\n    coordinates.x = e.type === 'touchmove' ? e.changedTouches[0].pageX : e.clientX\n    coordinates.y = e.type === 'touchmove' ? e.changedTouches[0].pageY : e.clientY\n    if (coordinates.x === 0 && coordinates.y === 0) return\n    move(`${coordinates.x - 25}px`, `${coordinates.y - 25}px`)\n  }\n\n  const dragEnd = e => {\n    orb.style.transition = ''\n    const coordinates = { x: null, y: null }\n    coordinates.x = e.type === 'touchend' ? e.changedTouches[0].pageX : e.clientX\n    coordinates.y = e.type === 'touchend' ? e.changedTouches[0].pageY : e.clientY\n    if (coordinates.x === 0 && coordinates.y === 0) return\n    move(`${coordinates.x - 25}px`, `${coordinates.y - 25}px`)\n    amorphous(true, 50)\n    angry()\n    console.log({ coordinates }, window.innerWidth, window.innerHeight)\n    if (\n      coordinates.x >= window.innerWidth\n      || coordinates.x <= 0\n      || coordinates.y >= window.innerHeight\n      || coordinates.y <= 0\n    ) {\n      document.querySelector('#web3os-three-orb').remove()\n    }\n  }\n\n  orb.ondragstart = dragStart\n  orb.addEventListener('touchstart', dragStart)\n  orb.ondragend = dragEnd\n  orb.addEventListener('touchend', dragEnd)\n  orb.ondrag = drag\n  orb.addEventListener('touchmove', drag)\n\n  orb.addEventListener('dblclick', () => {\n    const hiding = orb.style.opacity === '' || orb.style.opacity === '1'\n\n    if (hiding) orb.style.opacity = 0.3\n    else orb.style.opacity = 1\n\n    if (hiding) orb.style.backgroundColor = 'rgba(0, 200, 0, 0.3)'\n    else orb.style.backgroundColor = 'inherit'\n\n    if (hiding) orb.style.boxShadow = 'none'\n    else orb.style.boxShadow = ''\n  })\n\n  amorphous(true)\n\n  for await (const each of Array.from(Array(15).keys())) {\n    move(random(10, 80) + '%', random(10, 80) + '%')\n    await Kernel.wait(random(50, 200))\n  }\n\n  move('85%', '5%')\n\n  return orb\n}\n\nexport async function run (term, context) {\n  let orb\n  let { getUtterance, speak, voices } = Kernel.modules.speak\n  if (voices?.length === 0) voices = speechSynthesis.getVoices()\n  // if (voices.length === 0) return setTimeout(() => run(term, context), 0)\n\n  if (!getInstance()) {\n    orb = await createInstance()\n  } else {\n    orb = getInstance()\n    orb.style.opacity = 1\n    orb.style.backgroundColor = 'inherit'\n    orb.style.boxShadow = ''\n  }\n\n  const selectedVoice = Kernel.get('three', 'voice') || 'Google UK English'\n  const volume = parseFloat(Kernel.get('three', 'volume') || 0.5)\n  const pitch = parseFloat(Kernel.get('three', 'pitch') || 0.5)\n  const rate = parseFloat(Kernel.get('three', 'rate') || 1)\n  const voice = voices.find(v => v.name.toLowerCase() === selectedVoice.toLowerCase())\n\n  let utter\n  utter = getUtterance(\"Welcome to web3 OS\", voice, volume, pitch, rate)\n  await speak(utter)\n  utter = getUtterance(\"I'm Three, and I'll be your guide.\", voice, volume, pitch, rate)\n  await speak(utter)\n  utter = getUtterance(\"There's lots to explore, so let's get started!\", voice, volume, pitch, rate)\n  await speak(utter)\n  utter = getUtterance(\"Just double tap me and I'll try to stay out of your way\", voice, volume, pitch, rate)\n  await speak(utter)\n  utter = getUtterance(\"Or you may also drag me to any edge and I'll go away\", voice, volume, pitch, rate)\n  await speak(utter)\n}\n","exports.quote = function (xs) {\n    return xs.map(function (s) {\n        if (s && typeof s === 'object') {\n            return s.op.replace(/(.)/g, '\\\\$1');\n        }\n        else if (/[\"\\s]/.test(s) && !/'/.test(s)) {\n            return \"'\" + s.replace(/(['\\\\])/g, '\\\\$1') + \"'\";\n        }\n        else if (/[\"'\\s]/.test(s)) {\n            return '\"' + s.replace(/([\"\\\\$`!])/g, '\\\\$1') + '\"';\n        }\n        else {\n            return String(s).replace(/([A-Za-z]:)?([#!\"$&'()*,:;<=>?@\\[\\\\\\]^`{|}])/g, '$1\\\\$2');\n        }\n    }).join(' ');\n};\n\n// '<(' is process substitution operator and\n// can be parsed the same as control operator\nvar CONTROL = '(?:' + [\n    '\\\\|\\\\|', '\\\\&\\\\&', ';;', '\\\\|\\\\&', '\\\\<\\\\(', '>>', '>\\\\&', '[&;()|<>]'\n].join('|') + ')';\nvar META = '|&;()<> \\\\t';\nvar BAREWORD = '(\\\\\\\\[\\'\"' + META + ']|[^\\\\s\\'\"' + META + '])+';\nvar SINGLE_QUOTE = '\"((\\\\\\\\\"|[^\"])*?)\"';\nvar DOUBLE_QUOTE = '\\'((\\\\\\\\\\'|[^\\'])*?)\\'';\n\nvar TOKEN = '';\nfor (var i = 0; i < 4; i++) {\n    TOKEN += (Math.pow(16,8)*Math.random()).toString(16);\n}\n\nexports.parse = function (s, env, opts) {\n    var mapped = parse(s, env, opts);\n    if (typeof env !== 'function') return mapped;\n    return mapped.reduce(function (acc, s) {\n        if (typeof s === 'object') return acc.concat(s);\n        var xs = s.split(RegExp('(' + TOKEN + '.*?' + TOKEN + ')', 'g'));\n        if (xs.length === 1) return acc.concat(xs[0]);\n        return acc.concat(xs.filter(Boolean).map(function (x) {\n            if (RegExp('^' + TOKEN).test(x)) {\n                return JSON.parse(x.split(TOKEN)[1]);\n            }\n            else return x;\n        }));\n    }, []);\n};\n\nfunction parse (s, env, opts) {\n    var chunker = new RegExp([\n        '(' + CONTROL + ')', // control chars\n        '(' + BAREWORD + '|' + SINGLE_QUOTE + '|' + DOUBLE_QUOTE + ')*'\n    ].join('|'), 'g');\n    var match = s.match(chunker).filter(Boolean);\n    var commented = false;\n\n    if (!match) return [];\n    if (!env) env = {};\n    if (!opts) opts = {};\n    return match.map(function (s, j) {\n        if (commented) {\n            return;\n        }\n        if (RegExp('^' + CONTROL + '$').test(s)) {\n            return { op: s };\n        }\n\n        // Hand-written scanner/parser for Bash quoting rules:\n        //\n        //  1. inside single quotes, all characters are printed literally.\n        //  2. inside double quotes, all characters are printed literally\n        //     except variables prefixed by '$' and backslashes followed by\n        //     either a double quote or another backslash.\n        //  3. outside of any quotes, backslashes are treated as escape\n        //     characters and not printed (unless they are themselves escaped)\n        //  4. quote context can switch mid-token if there is no whitespace\n        //     between the two quote contexts (e.g. all'one'\"token\" parses as\n        //     \"allonetoken\")\n        var SQ = \"'\";\n        var DQ = '\"';\n        var DS = '$';\n        var BS = opts.escape || '\\\\';\n        var quote = false;\n        var esc = false;\n        var out = '';\n        var isGlob = false;\n\n        for (var i = 0, len = s.length; i < len; i++) {\n            var c = s.charAt(i);\n            isGlob = isGlob || (!quote && (c === '*' || c === '?'));\n            if (esc) {\n                out += c;\n                esc = false;\n            }\n            else if (quote) {\n                if (c === quote) {\n                    quote = false;\n                }\n                else if (quote == SQ) {\n                    out += c;\n                }\n                else { // Double quote\n                    if (c === BS) {\n                        i += 1;\n                        c = s.charAt(i);\n                        if (c === DQ || c === BS || c === DS) {\n                            out += c;\n                        } else {\n                            out += BS + c;\n                        }\n                    }\n                    else if (c === DS) {\n                        out += parseEnvVar();\n                    }\n                    else {\n                        out += c;\n                    }\n                }\n            }\n            else if (c === DQ || c === SQ) {\n                quote = c;\n            }\n            else if (RegExp('^' + CONTROL + '$').test(c)) {\n                return { op: s };\n            }\n            else if (RegExp('^#$').test(c)) {\n                commented = true;\n                if (out.length){\n                    return [out, { comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\n                }\n                return [{ comment: s.slice(i+1) + match.slice(j+1).join(' ') }];\n            }\n            else if (c === BS) {\n                esc = true;\n            }\n            else if (c === DS) {\n                out += parseEnvVar();\n            }\n            else out += c;\n        }\n\n        if (isGlob) return {op: 'glob', pattern: out};\n\n        return out;\n\n        function parseEnvVar() {\n            i += 1;\n            var varend, varname;\n            //debugger\n            if (s.charAt(i) === '{') {\n                i += 1;\n                if (s.charAt(i) === '}') {\n                    throw new Error(\"Bad substitution: \" + s.substr(i - 2, 3));\n                }\n                varend = s.indexOf('}', i);\n                if (varend < 0) {\n                    throw new Error(\"Bad substitution: \" + s.substr(i));\n                }\n                varname = s.substr(i, varend - i);\n                i = varend;\n            }\n            else if (/[*@#?$!_\\-]/.test(s.charAt(i))) {\n                varname = s.charAt(i);\n                i += 1;\n            }\n            else {\n                varend = s.substr(i).match(/[^\\w\\d_]/);\n                if (!varend) {\n                    varname = s.substr(i);\n                    i = s.length;\n                } else {\n                    varname = s.substr(i, varend.index);\n                    i += varend.index - 1;\n                }\n            }\n            return getVar(null, '', varname);\n        }\n    })\n    // finalize parsed aruments\n    .reduce(function(prev, arg){\n        if (arg === undefined){\n            return prev;\n        }\n        return prev.concat(arg);\n    },[]);\n\n    function getVar (_, pre, key) {\n        var r = typeof env === 'function' ? env(key) : env[key];\n        if (r === undefined && key != '')\n            r = '';\n        else if (r === undefined)\n            r = '$';\n\n        if (typeof r === 'object') {\n            return pre + TOKEN + JSON.stringify(r) + TOKEN;\n        }\n        else return pre + r;\n    }\n}\n"],"names":["flagSymbol","Symbol","ArgError","Error","constructor","msg","code","super","this","name","Object","setPrototypeOf","prototype","arg","opts","argv","process","slice","permissive","stopAtPositional","result","_","aliases","handlers","key","keys","length","type","isFlag","Array","isArray","fn","value","prev","push","Boolean","i","len","wholeArg","concat","separatedArguments","split","map","a","j","originalArgName","argStr","undefined","argName","match","Number","BigInt","flag","COUNT","v","existingCount","module","exports","version","description","help","spec","isAmorphous","random","min","max","Math","floor","getInstance","document","querySelector","move","x","y","orb","style","left","top","animate","from","classList","cls","test","remove","styles","setTimeout","add","setProperty","documentElement","angry","delay","properties","new","prop","old","getComputedStyle","getPropertyValue","color","textContent","Kernel","wait","amorphous","enabled","clearInterval","amorphousInterval","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","setInterval","createInstance","createElement","id","draggable","classes","body","appendChild","dragStart","e","dragImage","opacity","transition","dataTransfer","setDragImage","setData","drag","coordinates","changedTouches","pageX","clientX","pageY","clientY","dragEnd","console","log","window","innerWidth","innerHeight","ondragstart","addEventListener","ondragend","ondrag","hiding","backgroundColor","boxShadow","run","term","context","modules","speak","getUtterance","voices","speechSynthesis","getVoices","selectedVoice","get","volume","parseFloat","pitch","rate","voice","find","toLowerCase","utter","CONTROL","join","TOKEN","pow","toString","s","env","mapped","chunker","RegExp","filter","commented","op","BS","escape","quote","esc","out","isGlob","c","charAt","parseEnvVar","comment","pattern","varend","varname","pre","r","substr","indexOf","index","JSON","stringify","reduce","parse","acc","xs"],"sourceRoot":""}