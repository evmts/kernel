(self.webpackChunk_web3os_core_kernel=self.webpackChunk_web3os_core_kernel||[]).push([[4370],{94654:(e,t,r)=>{var n=r(14224);const s=Symbol("arg flag");class i extends Error{constructor(e,t){super(e),this.name="ArgError",this.code=t,Object.setPrototypeOf(this,i.prototype)}}function o(e,{argv:t=n.argv.slice(2),permissive:r=!1,stopAtPositional:o=!1}={}){if(!e)throw new i("argument specification object is required","ARG_CONFIG_NO_SPEC");const a={_:[]},u={},h={};for(const t of Object.keys(e)){if(!t)throw new i("argument key cannot be an empty string","ARG_CONFIG_EMPTY_KEY");if("-"!==t[0])throw new i(`argument key must start with '-' but found: '${t}'`,"ARG_CONFIG_NONOPT_KEY");if(1===t.length)throw new i(`argument key must have a name; singular '-' keys are not allowed: ${t}`,"ARG_CONFIG_NONAME_KEY");if("string"==typeof e[t]){u[t]=e[t];continue}let r=e[t],n=!1;if(Array.isArray(r)&&1===r.length&&"function"==typeof r[0]){const[e]=r;r=(t,r,n=[])=>(n.push(e(t,r,n[n.length-1])),n),n=e===Boolean||!0===e[s]}else{if("function"!=typeof r)throw new i(`type missing or not a function or valid array type: ${t}`,"ARG_CONFIG_VAD_TYPE");n=r===Boolean||!0===r[s]}if("-"!==t[1]&&t.length>2)throw new i(`short argument keys (with a single hyphen) must have only one character: ${t}`,"ARG_CONFIG_SHORTOPT_TOOLONG");h[t]=[r,n]}for(let e=0,n=t.length;e<n;e++){const n=t[e];if(o&&a._.length>0){a._=a._.concat(t.slice(e));break}if("--"===n){a._=a._.concat(t.slice(e+1));break}if(n.length>1&&"-"===n[0]){const s="-"===n[1]||2===n.length?[n]:n.slice(1).split("").map((e=>`-${e}`));for(let n=0;n<s.length;n++){const o=s[n],[c,l]="-"===o[1]?o.split(/=(.*)/,2):[o,void 0];let f=c;for(;f in u;)f=u[f];if(!(f in h)){if(r){a._.push(o);continue}throw new i(`unknown or unexpected option: ${c}`,"ARG_UNKNOWN_OPTION")}const[p,d]=h[f];if(!d&&n+1<s.length)throw new i(`option requires argument (but was followed by another short argument): ${c}`,"ARG_MISSING_REQUIRED_SHORTARG");if(d)a[f]=p(!0,f,a[f]);else if(void 0===l){if(t.length<e+2||t[e+1].length>1&&"-"===t[e+1][0]&&(!t[e+1].match(/^-?\d*(\.(?=\d))?\d*$/)||p!==Number&&("undefined"==typeof BigInt||p!==BigInt)))throw new i(`option requires argument: ${c}${c===f?"":` (alias for ${f})`}`,"ARG_MISSING_REQUIRED_LONGARG");a[f]=p(t[e+1],f,a[f]),++e}else a[f]=p(l,f,a[f])}}else a._.push(n)}return a}o.flag=e=>(e[s]=!0,e),o.COUNT=o.flag(((e,t,r)=>(r||0)+1)),o.ArgError=i,e.exports=o},15842:(e,t,r)=>{"use strict";t.Commented=r(496),t.Diagnose=r(56014),t.Decoder=r(52170),t.Encoder=r(55175),t.Simple=r(77847),t.Tagged=r(7686),t.Map=r(82177),t.comment=t.Commented.comment,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.decodeAllSync=t.Decoder.decodeAllSync,t.decodeFirstSync=t.Decoder.decodeFirstSync,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.encodeCanonical=t.Encoder.encodeCanonical,t.encodeOne=t.Encoder.encodeOne,t.encodeAsync=t.Encoder.encodeAsync,t.decode=t.Decoder.decodeFirstSync,t.leveldb={decode:t.Decoder.decodeFirstSync,encode:t.Encoder.encode,buffer:!0,name:"cbor"},t.reset=function(){t.Encoder.reset(),t.Tagged.reset()}},496:(e,t,r)=>{"use strict";const n=r(76835),s=r(41014),i=r(52170),o=r(92442),{MT:a,NUMBYTES:u,SYMS:h}=r(52185),{Buffer:c}=r(55872);function l(e){return e>1?"s":""}class f extends n.Transform{constructor(e={}){const{depth:t=1,max_depth:r=10,no_summary:n=!1,tags:s={},preferWeb:a,encoding:u,...h}=e;super({...h,readableObjectMode:!1,writableObjectMode:!1}),this.depth=t,this.max_depth=r,this.all=new o,s[24]||(s[24]=this._tag_24.bind(this)),this.parser=new i({tags:s,max_depth:r,preferWeb:a,encoding:u}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),n||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){const t=new f({depth:this.depth+1,no_summary:!0});t.on("data",(e=>this.push(e))),t.on("error",(e=>this.emit("error",e))),t.end(e)}_transform(e,t,r){this.parser.write(e,t,r)}_flush(e){return this.parser._flush(e)}static comment(e,t={},r=null){if(null==e)throw new Error("input required");({options:t,cb:r}=function(e,t){switch(typeof e){case"function":return{options:{},cb:e};case"string":return{options:{encoding:e},cb:t};case"number":return{options:{max_depth:e},cb:t};case"object":return{options:e||{},cb:t};default:throw new TypeError("Unknown option type")}}(t,r));const n=new o,{encoding:i="hex",...a}=t,u=new f(a);let h=null;return"function"==typeof r?(u.on("end",(()=>{r(null,n.toString("utf8"))})),u.on("error",r)):h=new Promise(((e,t)=>{u.on("end",(()=>{e(n.toString("utf8"))})),u.on("error",t)})),u.pipe(n),s.guessEncoding(e,i).pipe(u),h}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push("\n")}_on_read(e){this.all.write(e);const t=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(t);let r=2*(this.max_depth-this.depth)-t.length;r<1&&(r=1),this.push(new Array(r+1).join(" ")),this.push("-- ")}_on_more(e,t,r,n){let s="";switch(this.depth++,e){case a.POS_INT:s="Positive number,";break;case a.NEG_INT:s="Negative number,";break;case a.ARRAY:s="Array, length";break;case a.MAP:s="Map, count";break;case a.BYTE_STRING:s="Bytes, length";break;case a.UTF8_STRING:s="String, length";break;case a.SIMPLE_FLOAT:s=1===t?"Simple value,":"Float,"}this.push(`${s} next ${t} byte${l(t)}\n`)}_on_start_string(e,t,r,n){let s="";switch(this.depth++,e){case a.BYTE_STRING:s=`Bytes, length: ${t}`;break;case a.UTF8_STRING:s=`String, length: ${t.toString()}`}this.push(`${s}\n`)}_on_start(e,t,r,n){switch(this.depth++,r){case a.ARRAY:this.push(`[${n}], `);break;case a.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `)}switch(e){case a.TAG:this.push(`Tag #${t}`),24===t&&this.push(" Encoded CBOR data item");break;case a.ARRAY:t===h.STREAM?this.push("Array (streaming)"):this.push(`Array, ${t} item${l(t)}`);break;case a.MAP:t===h.STREAM?this.push("Map (streaming)"):this.push(`Map, ${t} pair${l(t)}`);break;case a.BYTE_STRING:this.push("Bytes (streaming)");break;case a.UTF8_STRING:this.push("String (streaming)")}this.push("\n")}_on_stop(e){this.depth--}_on_value(e,t,r,n){if(e!==h.BREAK)switch(t){case a.ARRAY:this.push(`[${r}], `);break;case a.MAP:r%2?this.push(`{Val:${Math.floor(r/2)}}, `):this.push(`{Key:${Math.floor(r/2)}}, `)}const i=s.cborValueToString(e,-1/0);switch("string"==typeof e||c.isBuffer(e)?(e.length>0&&(this.push(i),this.push("\n")),this.depth--):(this.push(i),this.push("\n")),n){case u.ONE:case u.TWO:case u.FOUR:case u.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}e.exports=f},52185:(e,t)=>{"use strict";t.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},t.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},t.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},t.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},t.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},t.SHIFT32=4294967296,t.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(t.SHIFT32)}},52170:(e,t,r)=>{"use strict";const n=r(43470),s=r(7686),i=r(77847),o=r(41014),a=r(92442),u=(r(76835),r(52185)),{MT:h,NUMBYTES:c,SYMS:l,BI:f}=u,{Buffer:p}=r(55872),d=Symbol("count"),_=Symbol("major type"),g=Symbol("error"),E=Symbol("not found");function y(e,t,r){const n=[];return n[d]=r,n[l.PARENT]=e,n[_]=t,n}function w(e,t){const r=new a;return r[d]=-1,r[l.PARENT]=e,r[_]=t,r}class b extends Error{constructor(e,t){super(`Unexpected data: 0x${e.toString(16)}`),this.name="UnexpectedDataError",this.byte=e,this.value=t}}function I(e,t){switch(typeof e){case"function":return{options:{},cb:e};case"string":return{options:{encoding:e},cb:t};case"object":return{options:e||{},cb:t};default:throw new TypeError("Unknown option type")}}class T extends n{constructor(e={}){const{tags:t={},max_depth:r=-1,preferWeb:n=!1,required:s=!1,encoding:i="hex",extendedResults:o=!1,preventDuplicateKeys:u=!1,...h}=e;super({defaultEncoding:i,...h}),this.running=!0,this.max_depth=r,this.tags=t,this.preferWeb=n,this.extendedResults=o,this.required=s,this.preventDuplicateKeys=u,o&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new a)}static nullcheck(e){switch(e){case l.NULL:return null;case l.UNDEFINED:return;case E:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,t={}){if(null==e)throw new TypeError("input required");({options:t}=I(t));const{encoding:r="hex",...n}=t,s=new T(n),i=o.guessEncoding(e,r),a=s._parse();let u=a.next();for(;!u.done;){const e=i.read(u.value);if(null==e||e.length!==u.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(e),u=a.next(e)}let h=null;if(s.extendedResults)h=u.value,h.unused=i.read();else if(h=T.nullcheck(u.value),i.length>0){const e=i.read(1);throw i.unshift(e),new b(e[0],h)}return h}static decodeAllSync(e,t={}){if(null==e)throw new TypeError("input required");({options:t}=I(t));const{encoding:r="hex",...n}=t,s=new T(n),i=o.guessEncoding(e,r),a=[];for(;i.length>0;){const e=s._parse();let t=e.next();for(;!t.done;){const r=i.read(t.value);if(null==r||r.length!==t.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(r),t=e.next(r)}a.push(T.nullcheck(t.value))}return a}static decodeFirst(e,t={},r=null){if(null==e)throw new TypeError("input required");({options:t,cb:r}=I(t,r));const{encoding:n="hex",required:s=!1,...i}=t,a=new T(i);let u=E;const h=o.guessEncoding(e,n),c=new Promise(((e,t)=>{a.on("data",(e=>{u=T.nullcheck(e),a.close()})),a.once("error",(r=>a.extendedResults&&r instanceof b?(u.unused=a.bs.slice(),e(u)):(u!==E&&(r.value=u),u=g,a.close(),t(r)))),a.once("end",(()=>{switch(u){case E:return s?t(new Error("No CBOR found")):e(u);case g:return;default:return e(u)}}))}));return"function"==typeof r&&c.then((e=>r(null,e)),r),h.pipe(a),c}static decodeAll(e,t={},r=null){if(null==e)throw new TypeError("input required");({options:t,cb:r}=I(t,r));const{encoding:n="hex",...s}=t,i=new T(s),a=[];i.on("data",(e=>a.push(T.nullcheck(e))));const u=new Promise(((e,t)=>{i.on("error",t),i.on("end",(()=>e(a)))}));return"function"==typeof r&&u.then((e=>r(void 0,e)),(e=>r(e,void 0))),o.guessEncoding(e,n).pipe(i),u}close(){this.running=!1,this.__fresh=!0}_onRead(e){this.valueBytes.write(e)}*_parse(){let e=null,t=0,r=null;for(;;){if(this.max_depth>=0&&t>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[n]=yield 1;if(!this.running)throw this.bs.unshift(p.from([n])),new b(n);const u=n>>5,g=31&n,E=null==e?void 0:e[_],I=null==e?void 0:e.length;switch(g){case c.ONE:this.emit("more-bytes",u,1,E,I),[r]=yield 1;break;case c.TWO:case c.FOUR:case c.EIGHT:{const e=1<<g-24;this.emit("more-bytes",u,e,E,I);const t=yield e;r=u===h.SIMPLE_FLOAT?t:o.parseCBORint(g,t);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${g}`);case c.INDEFINITE:switch(u){case h.POS_INT:case h.NEG_INT:case h.TAG:throw new Error(`Invalid indefinite encoding for MT ${u}`)}r=-1;break;default:r=g}switch(u){case h.POS_INT:break;case h.NEG_INT:r=r===Number.MAX_SAFE_INTEGER?f.NEG_MAX:"bigint"==typeof r?f.MINUS_ONE-r:-1-r;break;case h.BYTE_STRING:case h.UTF8_STRING:switch(r){case 0:this.emit("start-string",u,r,E,I),r=u===h.UTF8_STRING?"":this.preferWeb?new Uint8Array(0):p.allocUnsafe(0);break;case-1:this.emit("start",u,l.STREAM,E,I),e=w(e,u),t++;continue;default:this.emit("start-string",u,r,E,I),r=yield r,u===h.UTF8_STRING?r=o.utf8(r):this.preferWeb&&(r=new Uint8Array(r.buffer,r.byteOffset,r.length))}break;case h.ARRAY:case h.MAP:switch(r){case 0:r=u===h.MAP?{}:[];break;case-1:this.emit("start",u,l.STREAM,E,I),e=y(e,u,-1),t++;continue;default:this.emit("start",u,r,E,I),e=y(e,u,r*(u-3)),t++;continue}break;case h.TAG:this.emit("start",u,r,E,I),e=y(e,u,1),e.push(r),t++;continue;case h.SIMPLE_FLOAT:if("number"==typeof r){if(g===c.ONE&&r<32)throw new Error(`Invalid two-byte encoding of simple value ${r}`);const t=null!=e;r=i.decode(r,t,t&&e[d]<0)}else r=o.parseCBORfloat(r)}this.emit("value",r,E,I,g);let A=!1;for(;null!=e;){if(r===l.BREAK)e[d]=1;else if(Array.isArray(e))e.push(r);else{const t=e[_];if(null!=t&&t!==u)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(r)}if(0!=--e[d]){A=!0;break}if(--t,delete e[d],Array.isArray(e))switch(e[_]){case h.ARRAY:r=e;break;case h.MAP:{let t=!0;if(e.length%2!=0)throw new Error(`Invalid map length: ${e.length}`);for(let r=0,n=e.length;r<n;r+=2)if("string"!=typeof e[r]||"__proto__"===e[r]){t=!1;break}if(t){r={};for(let t=0,n=e.length;t<n;t+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(r,e[t]))throw new Error("Duplicate keys in a map");r[e[t]]=e[t+1]}}else{r=new Map;for(let t=0,n=e.length;t<n;t+=2){if(this.preventDuplicateKeys&&r.has(e[t]))throw new Error("Duplicate keys in a map");r.set(e[t],e[t+1])}}break}case h.TAG:r=new s(e[0],e[1]).convert(this.tags)}else if(e instanceof a)switch(e[_]){case h.BYTE_STRING:r=e.slice(),this.preferWeb&&(r=new Uint8Array(r.buffer,r.byteOffset,r.length));break;case h.UTF8_STRING:r=e.toString("utf-8")}this.emit("stop",e[_]);const n=e;e=e[l.PARENT],delete n[l.PARENT],delete n[_]}if(!A){if(this.extendedResults){const e=this.valueBytes.slice(),t={value:T.nullcheck(r),bytes:e,length:e.length};return this.valueBytes=new a,t}return r}}}}T.NOT_FOUND=E,e.exports=T},56014:(e,t,r)=>{"use strict";const n=r(76835),s=r(52170),i=r(41014),o=r(92442),{MT:a,SYMS:u}=r(52185);class h extends n.Transform{constructor(e={}){const{separator:t="\n",stream_errors:r=!1,tags:n,max_depth:i,preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=t,this.stream_errors=r,this.parser=new s({tags:n,max_depth:i,preferWeb:o,encoding:a}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,t,r){return this.parser.write(e,t,r)}_flush(e){return this.parser._flush((t=>this.stream_errors?(t&&this._on_error(t),e()):e(t)))}static diagnose(e,t={},r=null){if(null==e)throw new TypeError("input required");({options:t,cb:r}=function(e,t){switch(typeof e){case"function":return{options:{},cb:e};case"string":return{options:{encoding:e},cb:t};case"object":return{options:e||{},cb:t};default:throw new TypeError("Unknown option type")}}(t,r));const{encoding:n="hex",...s}=t,a=new o,u=new h(s);let c=null;return"function"==typeof r?(u.on("end",(()=>r(null,a.toString("utf8")))),u.on("error",r)):c=new Promise(((e,t)=>{u.on("end",(()=>e(a.toString("utf8")))),u.on("error",t)})),u.pipe(a),i.guessEncoding(e,n).pipe(u),c}_on_error(e){this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,t,r,n){e===a.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[t])}_fore(e,t){switch(e){case a.BYTE_STRING:case a.UTF8_STRING:case a.ARRAY:t>0&&this.push(", ");break;case a.MAP:t>0&&(t%2?this.push(": "):this.push(", "))}}_on_value(e,t,r){if(e===u.BREAK)return;this._fore(t,r);const n=this.float_bytes;this.float_bytes=-1,this.push(i.cborValueToString(e,n))}_on_start(e,t,r,n){switch(this._fore(r,n),e){case a.TAG:this.push(`${t}(`);break;case a.ARRAY:this.push("[");break;case a.MAP:this.push("{");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push("(")}t===u.STREAM&&this.push("_ ")}_on_stop(e){switch(e){case a.TAG:this.push(")");break;case a.ARRAY:this.push("]");break;case a.MAP:this.push("}");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push(")")}}_on_data(){this.push(this.separator)}}e.exports=h},55175:(e,t,r)=>{"use strict";const n=r(76835),s=r(92442),i=r(41014),o=r(52185),{MT:a,NUMBYTES:u,SHIFT32:h,SIMPLE:c,SYMS:l,TAG:f,BI:p}=o,{Buffer:d}=r(55872),_=a.SIMPLE_FLOAT<<5|u.TWO,g=a.SIMPLE_FLOAT<<5|u.FOUR,E=a.SIMPLE_FLOAT<<5|u.EIGHT,y=a.SIMPLE_FLOAT<<5|c.TRUE,w=a.SIMPLE_FLOAT<<5|c.FALSE,b=a.SIMPLE_FLOAT<<5|c.UNDEFINED,I=a.SIMPLE_FLOAT<<5|c.NULL,T=d.from([255]),A=d.from("f97e00","hex"),m=d.from("f9fc00","hex"),B=d.from("f97c00","hex"),S=d.from("f98000","hex"),N={};let U={};class R extends n.Transform{constructor(e={}){const{canonical:t=!1,encodeUndefined:r,disallowUndefinedKeys:n=!1,dateType:s="number",collapseBigIntegers:i=!1,detectLoops:o=!1,omitUndefinedProperties:a=!1,genTypes:u=[],...h}=e;if(super({...h,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=t,this.encodeUndefined=r,this.disallowUndefinedKeys=n,this.dateType=function(e){if(!e)return"number";switch(e.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${e}"`)}(s),this.collapseBigIntegers=!!this.canonical||i,this.detectLoops=void 0,"boolean"==typeof o)o&&(this.detectLoops=new WeakSet);else{if(!(o instanceof WeakSet))throw new TypeError("detectLoops must be boolean or WeakSet");this.detectLoops=o}if(this.omitUndefinedProperties=a,this.semanticTypes={...R.SEMANTIC_TYPES},Array.isArray(u))for(let e=0,t=u.length;e<t;e+=2)this.addSemanticType(u[e],u[e+1]);else for(const[e,t]of Object.entries(u))this.addSemanticType(e,t)}_transform(e,t,r){return r(!1===this.pushAny(e)?new Error("Push Error"):void 0)}_flush(e){return e()}_pushUInt8(e){const t=d.allocUnsafe(1);return t.writeUInt8(e,0),this.push(t)}_pushUInt16BE(e){const t=d.allocUnsafe(2);return t.writeUInt16BE(e,0),this.push(t)}_pushUInt32BE(e){const t=d.allocUnsafe(4);return t.writeUInt32BE(e,0),this.push(t)}_pushFloatBE(e){const t=d.allocUnsafe(4);return t.writeFloatBE(e,0),this.push(t)}_pushDoubleBE(e){const t=d.allocUnsafe(8);return t.writeDoubleBE(e,0),this.push(t)}_pushNaN(){return this.push(A)}_pushInfinity(e){const t=e<0?m:B;return this.push(t)}_pushFloat(e){if(this.canonical){const t=d.allocUnsafe(2);if(i.writeHalf(t,e))return this._pushUInt8(_)&&this.push(t)}return Math.fround(e)===e?this._pushUInt8(g)&&this._pushFloatBE(e):this._pushUInt8(E)&&this._pushDoubleBE(e)}_pushInt(e,t,r){const n=t<<5;if(e<24)return this._pushUInt8(n|e);if(e<=255)return this._pushUInt8(n|u.ONE)&&this._pushUInt8(e);if(e<=65535)return this._pushUInt8(n|u.TWO)&&this._pushUInt16BE(e);if(e<=4294967295)return this._pushUInt8(n|u.FOUR)&&this._pushUInt32BE(e);let s=Number.MAX_SAFE_INTEGER;return t===a.NEG_INT&&s--,e<=s?this._pushUInt8(n|u.EIGHT)&&this._pushUInt32BE(Math.floor(e/h))&&this._pushUInt32BE(e%h):t===a.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return Object.is(e,-0)?this.push(S):e<0?this._pushInt(-e-1,a.NEG_INT,e):this._pushInt(e,a.POS_INT)}_pushNumber(e){return isNaN(e)?this._pushNaN():isFinite(e)?Math.round(e)===e?this._pushIntNum(e):this._pushFloat(e):this._pushInfinity(e)}_pushString(e){const t=d.byteLength(e,"utf8");return this._pushInt(t,a.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?y:w)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(b);case"function":return this.pushAny(this.encodeUndefined(e));case"object":{const e=i.bufferishToBuffer(this.encodeUndefined);if(e)return this.push(e)}}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(I)}_pushTag(e){return this._pushInt(e,a.TAG)}_pushJSBigint(e){let t=a.POS_INT,r=f.POS_BIGINT;if(e<0&&(e=-e+p.MINUS_ONE,t=a.NEG_INT,r=f.NEG_BIGINT),this.collapseBigIntegers&&e<=p.MAXINT64)return e<=4294967295?this._pushInt(Number(e),t):this._pushUInt8(t<<5|u.EIGHT)&&this._pushUInt32BE(Number(e/p.SHIFT32))&&this._pushUInt32BE(Number(e%p.SHIFT32));let n=e.toString(16);n.length%2&&(n=`0${n}`);const s=d.from(n,"hex");return this._pushTag(r)&&R._pushBuffer(this,s)}_pushObject(e,t){if(!e)return this._pushNull(e);if(!(t={indefinite:!1,skipTypes:!1,...t}).indefinite&&this.detectLoops){if(this.detectLoops.has(e))throw new Error("Loop detected while CBOR encoding.\nCall removeLoopDetectors before resuming.");this.detectLoops.add(e)}if(!t.skipTypes){const t=e.encodeCBOR;if("function"==typeof t)return t.call(e,this);const r=this.semanticTypes[e.constructor.name];if(r)return r.call(e,this,e)}const r=Object.keys(e).filter((t=>{const r=typeof e[t];return"function"!==r&&(!this.omitUndefinedProperties||"undefined"!==r)})),n={};if(this.canonical&&r.sort(((e,t)=>{const r=n[e]||(n[e]=R.encode(e)),s=n[t]||(n[t]=R.encode(t));return r.compare(s)})),t.indefinite){if(!this._pushUInt8(a.MAP<<5|u.INDEFINITE))return!1}else if(!this._pushInt(r.length,a.MAP))return!1;let s=null;for(let t=0,i=r.length;t<i;t++){const i=r[t];if(this.canonical&&(s=n[i])){if(!this.push(s))return!1}else if(!this._pushString(i))return!1;if(!this.pushAny(e[i]))return!1}if(t.indefinite){if(!this.push(T))return!1}else this.detectLoops&&this.detectLoops.delete(e);return!0}_encodeAll(e){const t=new s({highWaterMark:this.readableHighWaterMark});this.pipe(t);for(const t of e)this.pushAny(t);return this.end(),t.read()}addSemanticType(e,t){const r="string"==typeof e?e:e.name,n=this.semanticTypes[r];if(t){if("function"!=typeof t)throw new TypeError("fun must be of type function");this.semanticTypes[r]=t}else n&&delete this.semanticTypes[r];return n}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case l.NULL:return this._pushNull(null);case l.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${e.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof e}, ${"function"==typeof e.toString?e.toString():""}`)}}static pushArray(e,t,r){r={indefinite:!1,...r};const n=t.length;if(r.indefinite){if(!e._pushUInt8(a.ARRAY<<5|u.INDEFINITE))return!1}else if(!e._pushInt(n,a.ARRAY))return!1;for(let r=0;r<n;r++)if(!e.pushAny(t[r]))return!1;return!(r.indefinite&&!e.push(T))}removeLoopDetectors(){return!!this.detectLoops&&(this.detectLoops=new WeakSet,!0)}static _pushDate(e,t){switch(e.dateType){case"string":return e._pushTag(f.DATE_STRING)&&e._pushString(t.toISOString());case"int":return e._pushTag(f.DATE_EPOCH)&&e._pushIntNum(Math.round(t.getTime()/1e3));case"float":return e._pushTag(f.DATE_EPOCH)&&e._pushFloat(t.getTime()/1e3);default:return e._pushTag(f.DATE_EPOCH)&&e.pushAny(t.getTime()/1e3)}}static _pushBuffer(e,t){return e._pushInt(t.length,a.BYTE_STRING)&&e.push(t)}static _pushNoFilter(e,t){return R._pushBuffer(e,t.slice())}static _pushRegexp(e,t){return e._pushTag(f.REGEXP)&&e.pushAny(t.source)}static _pushSet(e,t){if(!e._pushTag(f.SET))return!1;if(!e._pushInt(t.size,a.ARRAY))return!1;for(const r of t)if(!e.pushAny(r))return!1;return!0}static _pushURL(e,t){return e._pushTag(f.URI)&&e.pushAny(t.toString())}static _pushBoxed(e,t){return e.pushAny(t.valueOf())}static _pushMap(e,t,r){r={indefinite:!1,...r};let n=[...t.entries()];if(e.omitUndefinedProperties&&(n=n.filter((([e,t])=>void 0!==t))),r.indefinite){if(!e._pushUInt8(a.MAP<<5|u.INDEFINITE))return!1}else if(!e._pushInt(n.length,a.MAP))return!1;if(e.canonical){const t=new R({genTypes:e.semanticTypes,canonical:e.canonical,detectLoops:Boolean(e.detectLoops),dateType:e.dateType,disallowUndefinedKeys:e.disallowUndefinedKeys,collapseBigIntegers:e.collapseBigIntegers}),r=new s({highWaterMark:e.readableHighWaterMark});t.pipe(r),n.sort((([e],[n])=>{t.pushAny(e);const s=r.read();t.pushAny(n);const i=r.read();return s.compare(i)}));for(const[t,r]of n){if(e.disallowUndefinedKeys&&void 0===t)throw new Error("Invalid Map key: undefined");if(!e.pushAny(t)||!e.pushAny(r))return!1}}else for(const[t,r]of n){if(e.disallowUndefinedKeys&&void 0===t)throw new Error("Invalid Map key: undefined");if(!e.pushAny(t)||!e.pushAny(r))return!1}return!(r.indefinite&&!e.push(T))}static _pushTypedArray(e,t){let r=64,n=t.BYTES_PER_ELEMENT;const{name:s}=t.constructor;return s.startsWith("Float")?(r|=16,n/=2):s.includes("U")||(r|=8),(s.includes("Clamped")||1!==n&&!i.isBigEndian())&&(r|=4),r|={1:0,2:1,4:2,8:3}[n],!!e._pushTag(r)&&R._pushBuffer(e,d.from(t.buffer,t.byteOffset,t.byteLength))}static _pushArrayBuffer(e,t){return R._pushBuffer(e,d.from(t))}static encodeIndefinite(e,t,r={}){if(null==t){if(null==this)throw new Error("No object to encode");t=this}const{chunkSize:n=4096}=r;let s=!0;const o=typeof t;let h=null;if("string"===o){s=s&&e._pushUInt8(a.UTF8_STRING<<5|u.INDEFINITE);let r=0;for(;r<t.length;){const i=r+n;s=s&&e._pushString(t.slice(r,i)),r=i}s=s&&e.push(T)}else if(h=i.bufferishToBuffer(t)){s=s&&e._pushUInt8(a.BYTE_STRING<<5|u.INDEFINITE);let t=0;for(;t<h.length;){const r=t+n;s=s&&R._pushBuffer(e,h.slice(t,r)),t=r}s=s&&e.push(T)}else if(Array.isArray(t))s=s&&R.pushArray(e,t,{indefinite:!0});else if(t instanceof Map)s=s&&R._pushMap(e,t,{indefinite:!0});else{if("object"!==o)throw new Error("Invalid indefinite encoding");s=s&&e._pushObject(t,{indefinite:!0,skipTypes:!0})}return s}static encode(...e){return(new R)._encodeAll(e)}static encodeCanonical(...e){return new R({canonical:!0})._encodeAll(e)}static encodeOne(e,t){return new R(t)._encodeAll([e])}static encodeAsync(e,t){return new Promise(((r,n)=>{const s=[],i=new R(t);i.on("data",(e=>s.push(e))),i.on("error",n),i.on("finish",(()=>r(d.concat(s)))),i.pushAny(e),i.end()}))}static get SEMANTIC_TYPES(){return U}static set SEMANTIC_TYPES(e){U=e}static reset(){R.SEMANTIC_TYPES={...N}}}Object.assign(N,{Array:R.pushArray,Date:R._pushDate,Buffer:R._pushBuffer,[d.name]:R._pushBuffer,Map:R._pushMap,NoFilter:R._pushNoFilter,[s.name]:R._pushNoFilter,RegExp:R._pushRegexp,Set:R._pushSet,ArrayBuffer:R._pushArrayBuffer,Uint8ClampedArray:R._pushTypedArray,Uint8Array:R._pushTypedArray,Uint16Array:R._pushTypedArray,Uint32Array:R._pushTypedArray,Int8Array:R._pushTypedArray,Int16Array:R._pushTypedArray,Int32Array:R._pushTypedArray,Float32Array:R._pushTypedArray,Float64Array:R._pushTypedArray,URL:R._pushURL,Boolean:R._pushBoxed,Number:R._pushBoxed,String:R._pushBoxed}),"undefined"!=typeof BigUint64Array&&(N[BigUint64Array.name]=R._pushTypedArray),"undefined"!=typeof BigInt64Array&&(N[BigInt64Array.name]=R._pushTypedArray),R.reset(),e.exports=R},82177:(e,t,r)=>{"use strict";const{Buffer:n}=r(55872),s=r(55175),i=r(52170),{MT:o}=r(52185);class a extends Map{constructor(e){super(e)}static _encode(e){return s.encodeCanonical(e).toString("base64")}static _decode(e){return i.decodeFirstSync(e,"base64")}get(e){return super.get(a._encode(e))}set(e,t){return super.set(a._encode(e),t)}delete(e){return super.delete(a._encode(e))}has(e){return super.has(a._encode(e))}*keys(){for(const e of super.keys())yield a._decode(e)}*entries(){for(const e of super.entries())yield[a._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,t){if("function"!=typeof e)throw new TypeError("Must be function");for(const t of super.entries())e.call(this,t[1],a._decode(t[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,o.MAP))return!1;if(e.canonical){const t=Array.from(super.entries()).map((e=>[n.from(e[0],"base64"),e[1]]));t.sort(((e,t)=>e[0].compare(t[0])));for(const r of t)if(!e.push(r[0])||!e.pushAny(r[1]))return!1}else for(const t of super.entries())if(!e.push(n.from(t[0],"base64"))||!e.pushAny(t[1]))return!1;return!0}}e.exports=a},77847:(e,t,r)=>{"use strict";const{MT:n,SIMPLE:s,SYMS:i}=r(52185);class o{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error(`value must be a small positive integer: ${e}`);this.value=e}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](e,t){return`simple(${this.value})`}encodeCBOR(e){return e._pushInt(this.value,n.SIMPLE_FLOAT)}static isSimple(e){return e instanceof o}static decode(e,t=!0,r=!1){switch(e){case s.FALSE:return!1;case s.TRUE:return!0;case s.NULL:return t?null:i.NULL;case s.UNDEFINED:if(t)return;return i.UNDEFINED;case-1:if(!t||!r)throw new Error("Invalid BREAK");return i.BREAK;default:return new o(e)}}}e.exports=o},7686:(e,t,r)=>{"use strict";const n=r(52185),s=r(41014),i=Symbol("INTERNAL_JSON");function o(e,t){if(s.isBufferish(e))e.toJSON=t;else if(Array.isArray(e))for(const r of e)o(r,t);else if(e&&"object"==typeof e&&(!(e instanceof d)||e.tag<21||e.tag>23))for(const r of Object.values(e))o(r,t)}function a(){return s.base64(this)}function u(){return s.base64url(this)}function h(){return this.toString("hex")}const c={0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>s.bufferToBigInt(e),3:e=>n.BI.MINUS_ONE-s.bufferToBigInt(e),21:(e,t)=>(s.isBufferish(e)?t[i]=u:o(e,u),t),22:(e,t)=>(s.isBufferish(e)?t[i]=a:o(e,a),t),23:(e,t)=>(s.isBufferish(e)?t[i]=h:o(e,h),t),32:e=>new URL(e),33:(e,t)=>{if(!e.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const r=e.length%4;if(1===r)throw new Error("Invalid base64url length");if(2===r){if(-1==="AQgw".indexOf(e[e.length-1]))throw new Error("Invalid base64 padding")}else if(3===r&&-1==="AEIMQUYcgkosw048".indexOf(e[e.length-1]))throw new Error("Invalid base64 padding");return t},34:(e,t)=>{const r=e.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!r)throw new Error("Invalid base64 characters");if(e.length%4!=0)throw new Error("Invalid base64 length");if("="===r.groups.padding){if(-1==="AQgw".indexOf(e[e.length-2]))throw new Error("Invalid base64 padding")}else if("=="===r.groups.padding&&-1==="AEIMQUYcgkosw048".indexOf(e[e.length-3]))throw new Error("Invalid base64 padding");return t},35:e=>new RegExp(e),258:e=>new Set(e)},l={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};function f(e,t){if(!s.isBufferish(e))throw new TypeError("val not a buffer");const{tag:r}=t,n=l[r];if(!n)throw new Error(`Invalid typed array tag: ${r}`);const i=2**(((16&r)>>4)+(3&r));return!(4&r)!==s.isBigEndian()&&i>1&&function(e,t,r,n){const s=new DataView(e),[i,o]={2:[s.getUint16,s.setUint16],4:[s.getUint32,s.setUint32],8:[s.getBigUint64,s.setBigUint64]}[t],a=r+n;for(let e=r;e<a;e+=t)o.call(s,e,i.call(s,e,!0))}(e.buffer,i,e.byteOffset,e.byteLength),new n(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}"undefined"!=typeof BigUint64Array&&(l[67]=BigUint64Array,l[71]=BigUint64Array),"undefined"!=typeof BigInt64Array&&(l[75]=BigInt64Array,l[79]=BigInt64Array);for(const e of Object.keys(l))c[e]=f;let p={};class d{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(0|this.tag)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[i])return this[i].call(this.value);const e={tag:this.tag,value:this.value};return this.err&&(e.err=this.err),e}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let t=null==e?void 0:e[this.tag];if("function"!=typeof t&&(t=d.TAGS[this.tag],"function"!=typeof t))return this;try{return t.call(this,this.value,this)}catch(e){return e&&e.message&&e.message.length>0?this.err=e.message:this.err=e,this}}static get TAGS(){return p}static set TAGS(e){p=e}static reset(){d.TAGS={...c}}}d.INTERNAL_JSON=i,d.reset(),e.exports=d},41014:(e,t,r)=>{"use strict";const{Buffer:n}=r(55872),s=r(92442),i=r(76835),o=r(52185),{NUMBYTES:a,SHIFT32:u,BI:h,SYMS:c}=o,l=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});t.utf8=e=>l.decode(e),t.utf8.checksUTF8=!0,t.isBufferish=function(e){return e&&"object"==typeof e&&(n.isBuffer(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof ArrayBuffer||e instanceof DataView)},t.bufferishToBuffer=function(e){return n.isBuffer(e)?e:ArrayBuffer.isView(e)?n.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?n.from(e):null},t.parseCBORint=function(e,t){switch(e){case a.ONE:return t.readUInt8(0);case a.TWO:return t.readUInt16BE(0);case a.FOUR:return t.readUInt32BE(0);case a.EIGHT:{const e=t.readUInt32BE(0),r=t.readUInt32BE(4);return e>2097151?BigInt(e)*h.SHIFT32+BigInt(r):e*u+r}default:throw new Error(`Invalid additional info for int: ${e}`)}},t.writeHalf=function(e,t){const r=n.allocUnsafe(4);r.writeFloatBE(t,0);const s=r.readUInt32BE(0);if(0!=(8191&s))return!1;let i=s>>16&32768;const o=s>>23&255,a=8388607&s;if(o>=113&&o<=142)i+=(o-112<<10)+(a>>13);else{if(!(o>=103&&o<113))return!1;if(a&(1<<126-o)-1)return!1;i+=a+8388608>>126-o}return e.writeUInt16BE(i),!0},t.parseHalf=function(e){const t=128&e[0]?-1:1,r=(124&e[0])>>2,n=(3&e[0])<<8|e[1];return r?31===r?t*(n?NaN:1/0):t*2**(r-25)*(1024+n):5.960464477539063e-8*t*n},t.parseCBORfloat=function(e){switch(e.length){case 2:return t.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error(`Invalid float size: ${e.length}`)}},t.hex=function(e){return n.from(e.replace(/^0x/,""),"hex")},t.bin=function(e){let t=0,r=(e=e.replace(/\s/g,"")).length%8||8;const s=[];for(;r<=e.length;)s.push(parseInt(e.slice(t,r),2)),t=r,r+=8;return n.from(s)},t.arrayEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(((e,r)=>e===t[r]))},t.bufferToBigInt=function(e){return BigInt(`0x${e.toString("hex")}`)},t.cborValueToString=function(e,r=-1){switch(typeof e){case"symbol":{switch(e){case c.NULL:return"null";case c.UNDEFINED:return"undefined";case c.BREAK:return"BREAK"}if(e.description)return e.description;const t=e.toString().match(/^Symbol\((?<name>.*)\)/);return t&&t.groups.name?t.groups.name:"Symbol"}case"string":return JSON.stringify(e);case"bigint":return e.toString();case"number":{const t=Object.is(e,-0)?"-0":String(e);return r>0?`${t}_${r}`:t}case"object":{const n=t.bufferishToBuffer(e);if(n){const e=n.toString("hex");return r===-1/0?e:`h'${e}'`}return"function"==typeof e[Symbol.for("nodejs.util.inspect.custom")]?e[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(e)?"[]":"{}"}}return String(e)},t.guessEncoding=function(e,r){if("string"==typeof e)return new s(e,null==r?"hex":r);const n=t.bufferishToBuffer(e);if(n)return new s(n);if((o=e)instanceof i.Readable||["read","on","pipe"].every((e=>"function"==typeof o[e])))return e;var o;throw new Error("Unknown input type")};const f={"=":"","+":"-","/":"_"};t.base64url=function(e){return t.bufferishToBuffer(e).toString("base64").replace(/[=+/]/g,(e=>f[e]))},t.base64=function(e){return t.bufferishToBuffer(e).toString("base64")},t.isBigEndian=function(){const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])}},43470:(e,t,r)=>{"use strict";const n=r(76835),s=r(92442);class i extends n.Transform{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new s,this.__restart()}_transform(e,t,r){for(this.bs.write(e);this.bs.length>=this.__needed;){let e=null;const t=null===this.__needed?void 0:this.bs.read(this.__needed);try{e=this.__parser.next(t)}catch(e){return r(e)}this.__needed&&(this.__fresh=!1),e.done?(this.push(e.value),this.__restart()):this.__needed=e.value||1/0}return r()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}}e.exports=i},2937:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},92442:(e,t,r)=>{"use strict";const n=r(76835),{Buffer:s}=r(55872),i=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});class o extends n.Transform{constructor(e,t,r={}){let n=null,i=null;switch(typeof e){case"object":s.isBuffer(e)?n=e:e&&(r=e);break;case"string":n=e;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof t){case"object":t&&(r=t);break;case"string":i=t;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!r||"object"!=typeof r)throw new TypeError("Invalid options");null==n&&(n=r.input),null==i&&(i=r.inputEncoding),delete r.input,delete r.inputEncoding;const o=null==r.watchPipe||r.watchPipe;delete r.watchPipe;const a=Boolean(r.readError);delete r.readError,super(r),this.readError=a,o&&this.on("pipe",(e=>{const t=e._readableState.objectMode;if(this.length>0&&t!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=t,this._writableState.objectMode=t})),null!=n&&this.end(n,i)}static isNoFilter(e){return e instanceof this}static compare(e,t){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===t?0:e.compare(t)}static concat(e,t){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(0===e.length||0===t)return s.alloc(0);null==t&&(t=e.reduce(((e,t)=>{if(!(t instanceof o))throw new TypeError("list argument must be an Array of NoFilters");return e+t.length}),0));let r=!0,n=!0;const i=e.map((e=>{if(!(e instanceof o))throw new TypeError("list argument must be an Array of NoFilters");const t=e.slice();return s.isBuffer(t)?n=!1:r=!1,t}));if(r)return s.concat(i,t);if(n)return[].concat(...i).slice(0,t);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,t,r){this._readableState.objectMode||s.isBuffer(e)||(e=s.from(e,t)),this.push(e),r()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let t=e.head;for(e=[];null!=t;)e.push(t.data),t=t.next}return e}read(e){const t=super.read(e);if(null!=t){if(this.emit("read",t),this.readError&&t.length<e)throw new Error(`Read ${t.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return t}readFull(e){let t=null,r=null,n=null;return new Promise(((s,i)=>{this.length>=e?s(this.read(e)):this.writableFinished?i(new Error(`Stream finished before ${e} bytes were available`)):(t=t=>{this.length>=e&&s(this.read(e))},r=()=>{i(new Error(`Stream finished before ${e} bytes were available`))},n=i,this.on("readable",t),this.on("error",n),this.on("finish",r))})).finally((()=>{t&&(this.removeListener("readable",t),this.removeListener("error",n),this.removeListener("finish",r))}))}promise(e){let t=!1;return new Promise(((r,n)=>{this.on("finish",(()=>{const n=this.read();null==e||t||(t=!0,e(null,n)),r(n)})),this.on("error",(r=>{null==e||t||(t=!0,e(r)),n(r)}))}))}compare(e){if(!(e instanceof o))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;const t=this.slice(),r=e.slice();if(s.isBuffer(t)&&s.isBuffer(r))return t.compare(r);throw new Error("Cannot compare streams in object mode")}equals(e){return 0===this.compare(e)}slice(e,t){if(this._readableState.objectMode)return this._bufArray().slice(e,t);const r=this._bufArray();switch(r.length){case 0:return s.alloc(0);case 1:return r[0].slice(e,t);default:return s.concat(r).slice(e,t)}}get(e){return this.slice()[e]}toJSON(){const e=this.slice();return s.isBuffer(e)?e.toJSON():e}toString(e,t,r){const n=this.slice(t,r);return s.isBuffer(n)?e&&"utf8"!==e?n.toString(e):i.decode(n):JSON.stringify(n)}[Symbol.for("nodejs.util.inspect.custom")](e,t){const r=this._bufArray().map((e=>s.isBuffer(e)?t.stylize(e.toString("hex"),"string"):JSON.stringify(e))).join(", ");return`${this.constructor.name} [${r}]`}get length(){return this._readableState.length}writeBigInt(e){let t=e.toString(16);if(e<0){const r=BigInt(Math.floor(t.length/2));t=(e=(BigInt(1)<<r*BigInt(8))+e).toString(16)}return t.length%2&&(t=`0${t}`),this.push(s.from(t,"hex"))}readUBigInt(e){const t=this.read(e);return s.isBuffer(t)?BigInt(`0x${t.toString("hex")}`):null}readBigInt(e){const t=this.read(e);if(!s.isBuffer(t))return null;let r=BigInt(`0x${t.toString("hex")}`);return 128&t[0]&&(r-=BigInt(1)<<BigInt(t.length)*BigInt(8)),r}writeUInt8(e){const t=s.from([e]);return this.push(t)}writeUInt16LE(e){const t=s.alloc(2);return t.writeUInt16LE(e),this.push(t)}writeUInt16BE(e){const t=s.alloc(2);return t.writeUInt16BE(e),this.push(t)}writeUInt32LE(e){const t=s.alloc(4);return t.writeUInt32LE(e),this.push(t)}writeUInt32BE(e){const t=s.alloc(4);return t.writeUInt32BE(e),this.push(t)}writeInt8(e){const t=s.from([e]);return this.push(t)}writeInt16LE(e){const t=s.alloc(2);return t.writeUInt16LE(e),this.push(t)}writeInt16BE(e){const t=s.alloc(2);return t.writeUInt16BE(e),this.push(t)}writeInt32LE(e){const t=s.alloc(4);return t.writeUInt32LE(e),this.push(t)}writeInt32BE(e){const t=s.alloc(4);return t.writeUInt32BE(e),this.push(t)}writeFloatLE(e){const t=s.alloc(4);return t.writeFloatLE(e),this.push(t)}writeFloatBE(e){const t=s.alloc(4);return t.writeFloatBE(e),this.push(t)}writeDoubleLE(e){const t=s.alloc(8);return t.writeDoubleLE(e),this.push(t)}writeDoubleBE(e){const t=s.alloc(8);return t.writeDoubleBE(e),this.push(t)}writeBigInt64LE(e){const t=s.alloc(8);return t.writeBigInt64LE(e),this.push(t)}writeBigInt64BE(e){const t=s.alloc(8);return t.writeBigInt64BE(e),this.push(t)}writeBigUInt64LE(e){const t=s.alloc(8);return t.writeBigUInt64LE(e),this.push(t)}writeBigUInt64BE(e){const t=s.alloc(8);return t.writeBigUInt64BE(e),this.push(t)}readUInt8(){const e=this.read(1);return s.isBuffer(e)?e.readUInt8():null}readUInt16LE(){const e=this.read(2);return s.isBuffer(e)?e.readUInt16LE():null}readUInt16BE(){const e=this.read(2);return s.isBuffer(e)?e.readUInt16BE():null}readUInt32LE(){const e=this.read(4);return s.isBuffer(e)?e.readUInt32LE():null}readUInt32BE(){const e=this.read(4);return s.isBuffer(e)?e.readUInt32BE():null}readInt8(){const e=this.read(1);return s.isBuffer(e)?e.readInt8():null}readInt16LE(){const e=this.read(2);return s.isBuffer(e)?e.readInt16LE():null}readInt16BE(){const e=this.read(2);return s.isBuffer(e)?e.readInt16BE():null}readInt32LE(){const e=this.read(4);return s.isBuffer(e)?e.readInt32LE():null}readInt32BE(){const e=this.read(4);return s.isBuffer(e)?e.readInt32BE():null}readFloatLE(){const e=this.read(4);return s.isBuffer(e)?e.readFloatLE():null}readFloatBE(){const e=this.read(4);return s.isBuffer(e)?e.readFloatBE():null}readDoubleLE(){const e=this.read(8);return s.isBuffer(e)?e.readDoubleLE():null}readDoubleBE(){const e=this.read(8);return s.isBuffer(e)?e.readDoubleBE():null}readBigInt64LE(){const e=this.read(8);return s.isBuffer(e)?e.readBigInt64LE():null}readBigInt64BE(){const e=this.read(8);return s.isBuffer(e)?e.readBigInt64BE():null}readBigUInt64LE(){const e=this.read(8);return s.isBuffer(e)?e.readBigUInt64LE():null}readBigUInt64BE(){const e=this.read(8);return s.isBuffer(e)?e.readBigUInt64BE():null}}e.exports=o},25105:(e,t)=>{for(var r="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(",">>",">\\&","[&;()|<>]"].join("|")+")",n="",s=0;s<4;s++)n+=(Math.pow(16,8)*Math.random()).toString(16);t.Q=function(e,t,s){var i=function(e,t,s){var i=new RegExp(["("+r+")","((\\\\['\"|&;()<> \\t]|[^\\s'\"|&;()<> \\t])+|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')*"].join("|"),"g"),o=e.match(i).filter(Boolean),a=!1;return o?(t||(t={}),s||(s={}),o.map((function(e,i){if(!a){if(RegExp("^"+r+"$").test(e))return{op:e};for(var u=s.escape||"\\",h=!1,c=!1,l="",f=!1,p=0,d=e.length;p<d;p++){var _=e.charAt(p);if(f=f||!h&&("*"===_||"?"===_),c)l+=_,c=!1;else if(h)_===h?h=!1:"'"==h?l+=_:_===u?(p+=1,l+='"'===(_=e.charAt(p))||_===u||"$"===_?_:u+_):l+="$"===_?g():_;else if('"'===_||"'"===_)h=_;else{if(RegExp("^"+r+"$").test(_))return{op:e};if(RegExp("^#$").test(_))return a=!0,l.length?[l,{comment:e.slice(p+1)+o.slice(i+1).join(" ")}]:[{comment:e.slice(p+1)+o.slice(i+1).join(" ")}];_===u?c=!0:l+="$"===_?g():_}}return f?{op:"glob",pattern:l}:l}function g(){var r,s,i,o,a;if(p+=1,"{"===e.charAt(p)){if(p+=1,"}"===e.charAt(p))throw new Error("Bad substitution: "+e.substr(p-2,3));if((r=e.indexOf("}",p))<0)throw new Error("Bad substitution: "+e.substr(p));s=e.substr(p,r-p),p=r}else/[*@#?$!_\-]/.test(e.charAt(p))?(s=e.charAt(p),p+=1):(r=e.substr(p).match(/[^\w\d_]/))?(s=e.substr(p,r.index),p+=r.index-1):(s=e.substr(p),p=e.length);return i="",o=s,void 0===(a="function"==typeof t?t(o):t[o])&&""!=o?a="":void 0===a&&(a="$"),"object"==typeof a?i+n+JSON.stringify(a)+n:i+a}})).reduce((function(e,t){return void 0===t?e:e.concat(t)}),[])):[]}(e,t,s);return"function"!=typeof t?i:i.reduce((function(e,t){if("object"==typeof t)return e.concat(t);var r=t.split(RegExp("("+n+".*?"+n+")","g"));return 1===r.length?e.concat(r[0]):e.concat(r.filter(Boolean).map((function(e){return RegExp("^"+n).test(e)?JSON.parse(e.split(n)[1]):e})))}),[])}}}]);
//# sourceMappingURL=4370.js.map